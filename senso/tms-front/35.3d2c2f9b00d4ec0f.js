(self.webpackChunktms_front=self.webpackChunktms_front||[]).push([[35],{8035:(La,Hn,Pt)=>{"use strict";Pt.r(Hn),Pt.d(Hn,{DashboardModule:()=>uo});var It=Pt(6895),mn=Pt(1635),we=Pt(5412),ce=Pt(4006),e=Pt(4650),ye=Pt(529);let J=(()=>{class h{constructor(t,a){this.http=t,this.router=a,this.API_URL="https://senso.senselive.in/api"}setDeviceId(t){sessionStorage.setItem("filterDeviceID",t)}getDeviceId(){return sessionStorage.getItem("filterDeviceID")}setDeviceName(t){sessionStorage.setItem("filterDeviceName",t)}getDeviceName(){return sessionStorage.getItem("filterDeviceName")}setDeviceType(t){console.log(t),sessionStorage.setItem("filterDeviceType",t)}getDeviceType(){return sessionStorage.getItem("filterDeviceType")}setInterval(t){sessionStorage.setItem("filterInterval",t)}getInterval(){return sessionStorage.getItem("filterInterval")}setStartDate(t){sessionStorage.setItem("filterStartDate",t)}getStartDate(){return sessionStorage.getItem("filterStartDate")}setEndDate(t){sessionStorage.setItem("FilterEndDate",t)}getEndDate(){return sessionStorage.getItem("FilterEndDate")}userDevices(t){return this.http.get(`${this.API_URL}/userdevices/${t}`)}editDevice(t,a){return this.http.put(`${this.API_URL}/editDevice/${t}`,a)}fetchTriggerAll(t){return this.http.get(`${this.API_URL}/user-devices-trigger/${t}`)}updateDeviceTrigger(t,a){return this.http.put(`${this.API_URL}/editDeviceTrigger/${t}`,a)}dataLast(t,a){return this.http.get(`${this.API_URL}/data/${t}/intervals?interval=${a}`)}DataByCustomDate(t,a,v){return this.http.get(`${this.API_URL}/data/${t}`,{params:{start:a,end:v}})}dataLastStatus(t,a){return this.http.get(`${this.API_URL}/dataStatus/${t}/intervals?interval=${a}`)}DataByCustomDateStatus(t,a,v){return this.http.get(`${this.API_URL}/dataStatus/${t}`,{params:{start:a,end:v}})}deviceDetails(t){return this.http.get(`${this.API_URL}/live-device-detail/${t}`)}deviceStatus(t){return this.http.get(`${this.API_URL}/live-device-status/${t}`)}deviceTrigger(t){return this.http.get(`${this.API_URL}/device-trigger/${t}`)}userDetails(t){return this.http.get(`${this.API_URL}/user-data/${t}`)}userMessages(t){return this.http.get(`${this.API_URL}/messages/${t}`)}updatePersonal(t,a){return this.http.put(`${this.API_URL}/personalDetails/${t}`,a)}updateCompany(t,a){return this.http.put(`${this.API_URL}/companyDetails/${t}`,a)}updatePassword(t,a){return this.http.put(`${this.API_URL}/updatePassword/${t}`,a)}companyUsers(t){return this.http.get(`${this.API_URL}/Company-users/${t}`)}addDeviceTrigger(t){return this.http.post(`${this.API_URL}/addDeviceTrigger`,t)}addDevice(t){return this.http.post(`${this.API_URL}/addDevice`,t)}addUser(t){return this.http.post(`${this.API_URL}/register-dashboard`,t)}getDevicecount(){return this.http.get(`${this.API_URL}/devInfo`)}deleteUser(t){return this.http.delete(`${this.API_URL}/removeUser/${t}`)}deleteDevice(t){return this.http.delete(`${this.API_URL}/delete-device/${t}`)}getTodayConsumption(t){return this.http.get(`${this.API_URL}/Total-Volume-Today-Email/${t}`)}getMonthConsumption(t){return this.http.get(`${this.API_URL}/Total-Volume-Month-Email/${t}`)}getIntervalConsumption(t,a){return this.http.get(`${this.API_URL}/ConsuptionByIntervalBar/${t}?interval=${a}`)}getCustomConsumption(t,a,v){return this.http.get(`${this.API_URL}/ConsuptionByCustomBar/${t}/${a}/${v}`)}getTotalConsumpion(t){return this.http.get(`${this.API_URL}/FetchTodayConsumption/${t}`)}getDeviceData(t){return this.http.get(`${this.API_URL}/fetchLatestEntry/${t}`)}getTriggersData(t){return this.http.get(`${this.API_URL}/getTriggerDataForAlert/${t}`)}deleteTrigger(t){return this.http.delete(`${this.API_URL}/deletetrigger/${t}`)}updateTrigger(t,a){return this.http.put(`${this.API_URL}/updateTrigger/${t}`,a)}UpdateWhatsapp(t,a){return this.http.put(`${this.API_URL}/UpdateWhatsapp/${t}`,a)}UpdateMail(t,a){return this.http.put(`${this.API_URL}/UpdateMail/${t}`,a)}editDeviceFromSetting(t,a){return this.http.put(`${this.API_URL}/editDeviceFromSetting/${t}`,a)}editUser(t,a){return this.http.put(`${this.API_URL}/edit-User/${t}`,a)}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(ye.eN),e.LFG(mn.F0))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var he=Pt(513),me=Pt(7009),K=Pt(4859),ae=Pt(9549),Ie=Pt(4144);function Ce(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getDevicenameError())}}function ge(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getLocationError())}}let Me=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.DeviceName=new ce.NI("",[ce.kI.required]),this.DeviceLocation=new ce.NI("",[ce.kI.required]),this.device=V.device}ngOnInit(){this.adjustDialogWidth()}onNoClick(){this.dialogRef.close()}onSaveClick(){this.deviceId=this.device.DeviceUID,this.DeviceLocation.valid&&this.DeviceName.valid&&this.DashDataService.editDevice(this.deviceId,{DeviceLocation:this.DeviceLocation.value,DeviceName:this.DeviceName.value}).subscribe(()=>{this.snackBar.open("Device Details Updated successfully!","Dismiss",{duration:2e3}),this.dialogRef.close()},a=>{this.snackBar.open("Failed to update Device!","Dismiss",{duration:2e3})})}getDevicenameError(){return this.DeviceName.hasError("required")?"Name is required":""}getLocationError(){return this.DeviceLocation.hasError("required")?"Location is required":""}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-edit-device"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:34,vars:8,consts:[[1,"container-fluid"],[1,"row","edit-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"edit-title"],[1,"row"],[1,"col-md-12","mb-2"],[1,"from-field"],["matInput","","required","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["matInput","","disabled","",3,"ngModel","ngModelChange"],[1,"col-md-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],[1,"col-md-6","mb-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit - Device Details"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device name"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(b){return a.device.DeviceName=b}),e.qZA(),e.YNc(11,Ce,2,1,"mat-error",8),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Device Id"),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(b){return a.device.DeviceUID=b}),e.qZA()()(),e.TgZ(17,"div",5)(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"Company Name"),e.qZA(),e.TgZ(21,"input",9),e.NdJ("ngModelChange",function(b){return a.device.CompanyName=b}),e.qZA()()(),e.TgZ(22,"div",5)(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"Location"),e.qZA(),e.TgZ(26,"input",7),e.NdJ("ngModelChange",function(b){return a.device.DeviceLocation=b}),e.qZA(),e.YNc(27,ge,2,1,"mat-error",8),e.qZA()(),e.TgZ(28,"div",10)(29,"button",11),e.NdJ("click",function(){return a.onNoClick()}),e._uU(30,"Close"),e.qZA()(),e.TgZ(31,"div",12)(32,"button",13),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(33,"Save"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",a.device.DeviceName)("formControl",a.DeviceName),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("ngModel",a.device.DeviceUID),e.xp6(5),e.Q6J("ngModel",a.device.CompanyName),e.xp6(5),e.Q6J("ngModel",a.device.DeviceLocation)("formControl",a.DeviceLocation),e.xp6(1),e.Q6J("ngIf",a.DeviceLocation.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH,ce.On],styles:[".edit-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.edit-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();function oe(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getThresholdErrorMessage())}}function ne(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Mail is Required."),e.qZA())}function Y(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Phone No. is Required."),e.qZA())}function C(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Interval is Required."),e.qZA())}let w=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.device={},this.TriggerValue=new ce.NI("",[ce.kI.required,ce.kI.pattern(/^\d*\.?\d+$/),ce.kI.min(0),ce.kI.max(200)]),this.PersonalEmail=new ce.NI("",[ce.kI.required]),this.DeviceName=new ce.NI("",[ce.kI.required]),this.ContactNO=new ce.NI("",[ce.kI.required]),this.interval=new ce.NI("",[ce.kI.required]),this.device=V.device}ngOnInit(){this.adjustDialogWidth(),this.getDeviceTrigger()}getDeviceTrigger(){this.DashDataService.deviceTrigger(this.device.DeviceUID).subscribe(t=>{t.forEach(a=>{console.log(a),this.TriggerValue.setValue(a.TriggerValue),this.PersonalEmail.setValue(a.PersonalEmail),this.ContactNO.setValue(a.ContactNO),this.interval.setValue(a.interval),this.deviceName=a.DeviceName})},()=>{console.log("Error fetching device data.")})}onNoClick(){this.dialogRef.close()}onSaveClick(){this.DashDataService.updateTrigger(this.device.DeviceUID,{DeviceName:this.DeviceName.value,TriggerValue:this.TriggerValue.value,interval:this.interval.value,PersonalEmail:this.PersonalEmail.value,ContactNO:this.ContactNO.value}).subscribe(()=>{this.snackBar.open("Trigger Updated successfully!","Dismiss",{duration:2e3}),this.dialogRef.close()},a=>{this.snackBar.open("Failed to update trigger!","Dismiss",{duration:2e3})})}getThresholdErrorMessage(){return this.TriggerValue.hasError("required")?"Threshold is required":this.TriggerValue.hasError("pattern")?"Not a valid number":this.TriggerValue.hasError("min")?"Not less than 0":this.TriggerValue.hasError("max")?"Not more than 200":""}getNumberErrorMessage(){return this.ContactNO.hasError("required")?"Number is required":this.ContactNO.hasError("pattern")?"Not a valid number":""}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-trigger-device"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:42,vars:12,consts:[[1,"container-fluid"],[1,"row","edit-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"edit-title"],[1,"row"],[1,"col-md-6","col-sm-8","mb-2"],[1,"from-field"],["matInput","","readonly","",3,"ngModel","formControl","ngModelChange"],[1,"col-md-6","col-sm-4","mb-2"],["matInput","","required","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],[1,"col-md-6","mb-2"],["matInput","","required","",3,"formControl"],[1,"col-md-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Alert - Threshold"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device name"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(b){return a.deviceName=b}),e.qZA()()(),e.TgZ(11,"div",8)(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Threshold"),e.qZA(),e.TgZ(15,"input",9),e.NdJ("ngModelChange",function(b){return a.device.Threshold=b}),e.qZA(),e.YNc(16,oe,2,1,"mat-error",10),e.qZA()(),e.TgZ(17,"div",11)(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"User Mail"),e.qZA(),e.TgZ(21,"input",9),e.NdJ("ngModelChange",function(b){return a.device.CompanyEmail=b}),e.qZA(),e.YNc(22,ne,2,0,"mat-error",10),e.qZA()(),e.TgZ(23,"div",11)(24,"mat-form-field",6)(25,"mat-label"),e._uU(26,"User Phone"),e.qZA(),e._UZ(27,"input",12),e.YNc(28,Y,2,0,"mat-error",10),e.qZA()(),e.TgZ(29,"div",11)(30,"mat-form-field",6)(31,"mat-label"),e._uU(32,"Interval"),e.qZA(),e._UZ(33,"input",12),e.YNc(34,C,2,0,"mat-error",10),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",13)(37,"button",14),e.NdJ("click",function(){return a.onNoClick()}),e._uU(38,"Close"),e.qZA()(),e.TgZ(39,"div",11)(40,"button",15),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(41,"Save"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",a.deviceName)("formControl",a.DeviceName),e.xp6(5),e.Q6J("ngModel",a.device.Threshold)("formControl",a.TriggerValue),e.xp6(1),e.Q6J("ngIf",a.TriggerValue.invalid),e.xp6(5),e.Q6J("ngModel",a.device.CompanyEmail)("formControl",a.PersonalEmail),e.xp6(1),e.Q6J("ngIf",a.PersonalEmail.invalid),e.xp6(5),e.Q6J("formControl",a.ContactNO),e.xp6(1),e.Q6J("ngIf",a.ContactNO.invalid),e.xp6(5),e.Q6J("formControl",a.interval),e.xp6(1),e.Q6J("ngIf",a.interval.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH],styles:[".edit-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.edit-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();var T=Pt(7579),M=Pt(4986),E=Pt(5963);function Q(h=0,x=M.z){return h<0&&(h=0),(0,E.H)(h,h,x)}Pt(2983);var q=Pt(3238),U=Pt(2687),se=Pt(1281),Le=Pt(5017);const ee=["input"],le=["*"];let L=0;class j{constructor(x,t){this.source=x,this.value=t}}const ue={provide:ce.JU,useExisting:(0,e.Gpc)(()=>Xe),multi:!0},_e=new e.OlP("MatRadioGroup"),De=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function Be(){return{color:"accent"}}});let Ye=(()=>{class h{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,se.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,se.Ig)(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+L++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(a=>{a.checked=this.value===a.value,a.checked&&(this._selected=a)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new j(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.sBO))},h.\u0275dir=e.lG2({type:h,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),h})();class it{constructor(x){this._elementRef=x}}const xt=(0,q.Kr)((0,q.sb)(it));let ri=(()=>{class h extends xt{get checked(){return this._checked}set checked(t){const a=(0,se.Ig)(t);this._checked!==a&&(this._checked=a,a&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!a&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),a&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,se.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,se.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,a,v,b,V,tt,Wt,ai){super(a),this._changeDetector=v,this._focusMonitor=b,this._radioDispatcher=V,this._providerOverride=Wt,this._uniqueId="mat-radio-"+ ++L,this.id=this._uniqueId,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===tt,ai&&(this.tabIndex=(0,se.su)(ai,0))}focus(t,a){a?this._focusMonitor.focusVia(this._inputElement,a,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,a)=>{t!==this.id&&a===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new j(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const a=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),a&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let a;if(a=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,a!==this._previousTabIndex){const v=this._inputElement?.nativeElement;v&&(v.setAttribute("tabindex",a+""),this._previousTabIndex=a)}}}return h.\u0275fac=function(t){e.$Z()},h.\u0275dir=e.lG2({type:h,viewQuery:function(t,a){if(1&t&&e.Gf(ee,5),2&t){let v;e.iGM(v=e.CRH())&&(a._inputElement=v.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),h})(),Xe=(()=>{class h extends Ye{}return h.\u0275fac=function(){let x;return function(a){return(x||(x=e.n5z(h)))(a||h)}}(),h.\u0275dir=e.lG2({type:h,selectors:[["mat-radio-group"]],contentQueries:function(t,a,v){if(1&t&&e.Suo(v,Ee,5),2&t){let b;e.iGM(b=e.CRH())&&(a._radios=b)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([ue,{provide:_e,useExisting:h}]),e.qOj]}),h})(),Ee=(()=>{class h extends ri{constructor(t,a,v,b,V,tt,Wt,ai){super(t,a,v,b,V,tt,Wt,ai)}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(_e,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(U.tE),e.Y36(Le.A8),e.Y36(e.QbO,8),e.Y36(De,8),e.$8M("tabindex"))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,a){1&t&&e.NdJ("focus",function(){return a._inputElement.nativeElement.focus()}),2&t&&(e.uIk("id",a.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-primary","primary"===a.color)("mat-accent","accent"===a.color)("mat-warn","warn"===a.color)("mat-mdc-radio-checked",a.checked)("_mat-animation-noopable",a._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:le,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(t,a){if(1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),e.NdJ("click",function(b){return a._onTouchTargetClick(b)}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("change",function(b){return a._onInputInteraction(b)}),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"div",7)(8,"div",8),e.qZA(),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA()(),e.TgZ(11,"label",11),e.Hsn(12),e.qZA()()),2&t){const v=e.MAs(1);e.ekj("mdc-form-field--align-end","before"==a.labelPosition),e.xp6(2),e.ekj("mdc-radio--disabled",a.disabled),e.xp6(2),e.Q6J("id",a.inputId)("checked",a.checked)("disabled",a.disabled)("required",a.required),e.uIk("name",a.name)("value",a.value)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",v)("matRippleDisabled",a._isRippleDisabled())("matRippleCentered",!0),e.xp6(2),e.Q6J("for",a.inputId)}},dependencies:[q.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),h})(),We=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[q.BQ,It.ez,q.si,q.BQ]}),h})();function ht(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1," Please select a sorting option. "),e.qZA())}let ut=(()=>{class h{constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.datePipe=V}ngOnInit(){const t=sessionStorage.getItem("selectedSortOption");this.selectedSortOptionFormControl=new ce.NI(t||"DeviceName Z-A",ce.kI.required)}onNoClick(){this.dialogRef.close()}onSaveClick(){this.selectedSortOptionFormControl.valid&&(sessionStorage.setItem("selectedSortOption",this.selectedSortOptionFormControl.value),this.dialogRef.close())}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(It.uU))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-filter"]],decls:33,vars:2,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"model-title"],[1,"row"],[1,"col-12","mb-2"],[3,"formControl"],["value","DeviceName A-Z"],["value","DeviceName Z-A"],["value","DeviceUID A-Z"],["value","DeviceUID Z-A"],["value","DeviceStatus offline"],[4,"ngIf"],[1,"col-12","justify-content-center","d-flex","mb-2"],[1,"col"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Sort Devices "),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-radio-group",6)(8,"div",4)(9,"div",5)(10,"mat-radio-button",7),e._uU(11,"Device Name A - Z"),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-radio-button",8),e._uU(14,"Device Name Z - A"),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-radio-button",9),e._uU(17,"Device Unique ID A - Z"),e.qZA()(),e.TgZ(18,"div",5)(19,"mat-radio-button",10),e._uU(20,"Device Unique ID Z - A"),e.qZA()(),e.TgZ(21,"div",5)(22,"mat-radio-button",11),e._uU(23,"Offline"),e.qZA()()()(),e.YNc(24,ht,2,0,"mat-error",12),e.qZA(),e.TgZ(25,"div",13)(26,"div",4)(27,"div",14)(28,"button",15),e.NdJ("click",function(){return a.onNoClick()}),e._uU(29,"Close"),e.qZA()(),e.TgZ(30,"div",14)(31,"button",16),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(32,"Apply"),e.qZA()()()()()()),2&t&&(e.xp6(7),e.Q6J("formControl",a.selectedSortOptionFormControl),e.xp6(17),e.Q6J("ngIf",a.selectedSortOptionFormControl.invalid&&a.selectedSortOptionFormControl.touched))},dependencies:[It.O5,K.lW,ae.TO,ce.JJ,ce.oH,Xe,Ee],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();var bt=Pt(2194),wt=Pt(7392),Tt=Pt(3546);let Oe=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-page-loading"]],decls:5,vars:0,consts:[[1,"loader"],[1,"dot"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",1)(3,"div",1)(4,"div",1),e.qZA())},styles:[".loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:70vh}.dot[_ngcontent-%COMP%]{width:20px;height:20px;margin:5px;border-radius:50%;animation-name:_ngcontent-%COMP%_blow-up;animation-duration:1.5s;animation-iteration-count:infinite}.dot[_ngcontent-%COMP%]:nth-child(1){background-color:#fc0;animation-delay:.3s}.dot[_ngcontent-%COMP%]:nth-child(2){background-color:#f69;animation-delay:.6s}.dot[_ngcontent-%COMP%]:nth-child(3){background-color:#6cf;animation-delay:.9s}.dot[_ngcontent-%COMP%]:nth-child(4){background-color:#9f9;animation-delay:1.2s}@keyframes _ngcontent-%COMP%_blow-up{0%{transform:scale(1);opacity:1}50%{transform:scale(1.5);opacity:.3}to{transform:scale(1);opacity:1}}"]}),h})();function rt(h,x){1&h&&(e.TgZ(0,"div"),e._UZ(1,"app-page-loading"),e.qZA())}function gt(h,x){1&h&&(e.TgZ(0,"div",15),e._uU(1,"Live"),e.qZA())}function kt(h,x){1&h&&(e.TgZ(0,"div",16),e._uU(1,"Disconnect"),e.qZA())}function St(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",17),e._UZ(2,"img",18),e.TgZ(3,"div",19),e._uU(4),e.qZA()(),e.TgZ(5,"div",17),e._UZ(6,"img",20),e.TgZ(7,"div",19),e._uU(8),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij(" ",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].Temperature)||0).toFixed(0)," \xb0C "),e.xp6(4),e.hij("",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].Humidity)||0).toFixed(0),"%")}}function Nt(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",21),e._UZ(2,"img",22),e.TgZ(3,"div",23),e._uU(4),e.qZA()(),e.TgZ(5,"div",21),e._UZ(6,"img",22),e.TgZ(7,"div",23),e._uU(8),e.qZA()(),e.TgZ(9,"div",21),e._UZ(10,"img",22),e.TgZ(11,"div",23),e._uU(12),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij(" ",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].TemperatureR)||0).toFixed(0)," \xb0C"),e.xp6(4),e.hij("",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].TemperatureY)||0).toFixed(0)," \xb0C"),e.xp6(4),e.hij("",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].TemperatureB)||0).toFixed(0)," \xb0C")}}function Rt(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",24),e._UZ(2,"img",18),e.TgZ(3,"div",19),e._uU(4),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij(" ",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].Temperature)||0).toFixed(0)," \xb0C")}}function Bt(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",24),e._UZ(2,"img",20),e.TgZ(3,"div",19),e._uU(4),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij(" ",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].Temperature)||0).toFixed(0)," \xb0C")}}function oi(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",21),e._UZ(2,"img",25),e.TgZ(3,"div",26),e._uU(4),e.TgZ(5,"div",26),e._uU(6,"l/hr"),e.qZA()()(),e.TgZ(7,"div",27)(8,"div",28),e._uU(9),e.qZA(),e.TgZ(10,"div",29)(11,"span"),e._uU(12),e.qZA(),e._uU(13," Today "),e.qZA()(),e.TgZ(14,"div",27)(15,"div",28),e._uU(16),e.qZA(),e.TgZ(17,"div",29)(18,"span"),e._uU(19),e.qZA(),e._uU(20,"This Month"),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij("",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].flowRate)||0).toFixed(0)," "),e.xp6(5),e.hij("",(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].todayConsumption)||0," L"),e.xp6(2),e.Tol((null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].percentageChange)>=0?"up":"down"),e.xp6(1),e.AsE(" ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].dailyPercentageChange).arrow," ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].dailyPercentageChange).value||0,"% "),e.xp6(4),e.hij("",null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].thisMonthConsumption," KL"),e.xp6(2),e.Tol((null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange)>=0?"up":"down"),e.xp6(1),e.AsE(" ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange).arrow," ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange).value||0,"% ")}}function pi(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",21),e._UZ(2,"img",25),e.TgZ(3,"div",26),e._uU(4),e.TgZ(5,"div",26),e._uU(6,"kg/hr"),e.qZA()()(),e.TgZ(7,"div",27)(8,"div",28),e._uU(9),e.qZA(),e.TgZ(10,"div",29)(11,"span"),e._uU(12),e.qZA(),e._uU(13," Today "),e.qZA()(),e.TgZ(14,"div",27)(15,"div",28),e._uU(16),e.qZA(),e.TgZ(17,"div",29)(18,"span"),e._uU(19),e.qZA(),e._uU(20,"This Month"),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij("",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].flowRate)||0).toFixed(0)," "),e.xp6(5),e.hij("",(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].todayConsumption)||0," KG"),e.xp6(2),e.Tol((null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].percentageChange)>=0?"up":"down"),e.xp6(1),e.AsE(" ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].percentageChange).arrow," ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].percentageChange).value||0,"% "),e.xp6(4),e.hij("",null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].thisMonthConsumption," Tonne"),e.xp6(2),e.Tol((null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange)>=0?"up":"down"),e.xp6(1),e.AsE(" ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange).arrow," ",a.getAbsPercentageChange(null==a.consumptionData[a.getIndexConsumption(t.DeviceUID)]?null:a.consumptionData[a.getIndexConsumption(t.DeviceUID)].monthlyPercentageChange).value||0,"% ")}}function Fi(h,x){if(1&h&&(e.TgZ(0,"div",3)(1,"div",24),e._UZ(2,"img",30),e.TgZ(3,"div",19),e._uU(4),e.qZA()()()),2&h){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(4),e.hij(" ",((null==a.deviceData[a.getIndex(t.DeviceUID)]?null:a.deviceData[a.getIndex(t.DeviceUID)].Pressure)||0).toFixed(0)," m\xb3/hr")}}function Bi(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"RYB"),e.qZA())}function ei(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Temperature"),e.qZA())}function nn(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Humidity"),e.qZA())}function bi(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Temp-Humdity"),e.qZA())}function Si(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Water Sensor"),e.qZA())}function Mi(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Flow Sensor"),e.qZA())}function ar(h,x){1&h&&(e.TgZ(0,"div",31),e._uU(1,"Pressure Sensor"),e.qZA())}function xs(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"button",34),e.NdJ("click",function(){e.CHM(t);const v=e.oxw().$implicit,b=e.oxw(2);return e.KtG(b.openEditDeviceDialog(v))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()(),e.TgZ(5,"button",35),e.NdJ("click",function(){e.CHM(t);const v=e.oxw().$implicit,b=e.oxw(2);return e.KtG(b.openTriggerDeviceDialog(v))}),e.TgZ(6,"mat-icon"),e._uU(7,"notifications_active"),e.qZA()()()()}}function Cs(h,x){if(1&h&&(e.TgZ(0,"div",5)(1,"div",3)(2,"div")(3,"mat-card")(4,"mat-card-content")(5,"div",3)(6,"div",6)(7,"div",7),e._uU(8),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9),e.YNc(11,gt,2,0,"div",10),e.YNc(12,kt,2,0,"div",11),e.qZA()()(),e.YNc(13,St,9,2,"div",12),e.YNc(14,Nt,13,3,"div",12),e.YNc(15,Rt,5,1,"div",12),e.YNc(16,Bt,5,1,"div",12),e.YNc(17,oi,21,13,"div",12),e.YNc(18,pi,21,13,"div",12),e.YNc(19,Fi,5,1,"div",12),e.qZA()(),e.YNc(20,Bi,2,0,"div",13),e.YNc(21,ei,2,0,"div",13),e.YNc(22,nn,2,0,"div",13),e.YNc(23,bi,2,0,"div",13),e.YNc(24,Si,2,0,"div",13),e.YNc(25,Mi,2,0,"div",13),e.YNc(26,ar,2,0,"div",13),e.qZA(),e.YNc(27,xs,8,0,"div",14),e.qZA()()),2&h){const t=x.$implicit,a=e.oxw(2);e.xp6(2),e.Gre("col-","Admin"===a.getUserType()?"10":"12",""),e.xp6(1),e.ekj("alert-overlay",a.isDeviceHeated(t.DeviceUID))("warn-overlay",!a.isDeviceConnected(t.DeviceUID)),e.xp6(5),e.Oqu(t.DeviceName),e.xp6(3),e.Q6J("ngIf",a.isDeviceConnected(t.DeviceUID)),e.xp6(1),e.Q6J("ngIf",!a.isDeviceConnected(t.DeviceUID)),e.xp6(1),e.Q6J("ngIf","th"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ryb"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","t"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","h"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ws"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","fs"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ps"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ryb"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","t"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","h"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","th"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ws"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","fs"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ps"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","Admin"===a.getUserType())}}function As(h,x){if(1&h&&(e.TgZ(0,"div")(1,"section",2)(2,"div",3),e.YNc(3,Cs,28,25,"div",4),e.qZA()()()),2&h){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.userDevices)}}let Ss=(()=>{class h{constructor(t,a,v,b,V){this.dialog=t,this.dashDataService=a,this.authService=v,this.dashService=b,this.snackBar=V,this.destroy$=new T.x,this.userDevices=[],this.deviceData=[],this.userDevicesTrigger=[],this.consumptionData=[]}ngOnInit(){this.getUserDevices(),this.getUserDevicesTrigger(),this.CombinedConsumption(),this.dashService.isPageLoading(!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getUserType(){return this.authService.getUserType()}getUserDevices(){this.CompanyEmail=this.authService.getCompanyEmail(),this.CompanyEmail&&this.dashDataService.userDevices(this.CompanyEmail).subscribe(t=>{this.userDevices=t.devices;let a=sessionStorage.getItem("selectedSortOption");a||(a="DeviceName A-Z"),"DeviceName A-Z"===a?this.userDevices.sort((v,b)=>v.DeviceName.localeCompare(b.DeviceName)):"DeviceName Z-A"===a?this.userDevices.sort((v,b)=>b.DeviceName.localeCompare(v.DeviceName)):"DeviceUID A-Z"===a?this.userDevices.sort((v,b)=>v.DeviceUID.localeCompare(b.DeviceUID)):"DeviceUID Z-A"===a?this.userDevices.sort((v,b)=>b.DeviceUID.localeCompare(v.DeviceUID)):"DeviceStatus offline"===a&&this.userDevices.sort((v,b)=>"offline"===v.status&&"offline"!==b.status?-1:"offline"!==v.status&&"offline"===b.status?1:v.DeviceName.localeCompare(b.DeviceName)),this.getDeviceData(),console.log(this.userDevices),Q(6e4).subscribe(()=>{this.getDeviceData(),this.CombinedConsumption()})},t=>{this.snackBar.open("Error while fetching user devices!","Dismiss",{duration:2e3})})}getUserDevicesTrigger(){this.CompanyEmail=this.authService.getCompanyEmail(),this.CompanyEmail&&this.dashDataService.fetchTriggerAll(this.CompanyEmail).subscribe(t=>{this.userDevicesTrigger=t.triggers},t=>{this.snackBar.open("Error while fetching user devices!","Dismiss",{duration:2e3})})}openEditDeviceDialog(t){const a=new we.vA;a.width="500px",a.height="auto",a.maxWidth="90vw",a.data={device:t},this.dialog.open(Me,a).afterClosed().subscribe(b=>{})}openTriggerDeviceDialog(t){const a=new we.vA;a.width="500px",a.height="auto",a.maxWidth="90vw",a.data={device:t},this.dialog.open(w,a).afterClosed().subscribe(b=>{this.getUserDevicesTrigger()})}getDeviceData(){this.CompanyEmail&&this.dashDataService.getDeviceData(this.CompanyEmail).subscribe(t=>{const a=this.transformData(t);this.deviceData=this.userDevices.map(v=>a.find(V=>V.DeviceUID===v.DeviceUID)||null),this.dashService.isPageLoading(!1)},t=>{console.log("Error")})}transformData(t){const a=[];return t.latestEntry.forEach(v=>{const b=Object.keys(v)[0],V=v[b]?.entry?.[0];if(V){const tt=new Date(V.TimeStamp),Wt=new Date(tt.getTime()+198e5),ai={DeviceUID:b,Temperature:V.Temperature?parseFloat(V.Temperature):void 0,Humidity:V.Humidity?parseFloat(V.Humidity):void 0,TemperatureR:V.TemperatureR?parseFloat(V.TemperatureR):void 0,TemperatureY:V.TemperatureY?parseFloat(V.TemperatureY):void 0,TemperatureB:V.TemperatureB?parseFloat(V.TemperatureB):void 0,flowRate:V.flowRate?parseInt(V.flowRate):void 0,Pressure:V.Pressure?parseFloat(V.Pressure):void 0,totalVolume:V.totalVolume?parseInt(V.totalVolume):void 0,Timestamp:Wt.toISOString()};a.push(ai)}else console.error(`Entry data not found for device UID: ${b}`)}),a}getIndex(t){return this.userDevices.findIndex(a=>a.DeviceUID===t)}isDeviceConnected(t){const a=this.deviceData[this.getIndex(t)];if(a){const v=new Date(a.Timestamp),V=(new Date).getTime()-v.getTime();return Math.floor(V/1e3/60)<=5}return!1}isDeviceHeated(t){const a=this.getIndex(t),v=this.deviceData[a];if(v){const b=this.userDevicesTrigger.find(V=>V.DeviceUID===t);if(b){let V;if("TemperatureR"in v&&"TemperatureY"in v&&"TemperatureB"in v&&(V=null===v.TemperatureR||null===v.TemperatureY||null===v.TemperatureB||void 0===v.TemperatureR||void 0===v.TemperatureY||void 0===v.TemperatureB?v.Temperature:{R:v.TemperatureR,Y:v.TemperatureY,B:v.TemperatureB}),void 0!==V){const tt=b.TriggerValue;if("number"==typeof V&&V>tt)return!0;if("object"==typeof V&&(V.R>tt||V.Y>tt||V.B>tt))return!0}}}return!1}getIndexConsumption(t){return this.consumptionData.findIndex(a=>a.DeviceUID===t)}CombinedConsumption(){this.CompanyEmail&&this.dashDataService.getTodayConsumption(this.CompanyEmail).toPromise().then(t=>{this.consumptionData=[];const a=t.map((v,b)=>{const V=Object.keys(v)[0];if(v&&v[V]&&v[V][0]){const tt=v[V][0].today,Wt=v[V][0].yesterday;let ai;return ai=0!==Wt?(tt-Wt)/Wt*100:100,this.CompanyEmail?this.dashDataService.getMonthConsumption(this.CompanyEmail).toPromise().then(di=>{if(di&&di[b]&&di[b][V]&&di[b][V][0]){const Yi=di[b][V][0],xn=Yi.thisMonth,ra=Yi.lastMonth;let Wa;Wa=0!==ra?(xn-ra)/ra*100:100;const Xo={DeviceUID:V,todayConsumption:tt,yesterdayConsumption:Wt,dailyPercentageChange:ai,thisMonthConsumption:(xn/1e3).toFixed(0),lastMonthConsumption:(ra/1e3).toFixed(0),monthlyPercentageChange:Wa};this.consumptionData.push(Xo)}else console.log("Monthly consumption data structure is unexpected.")}).catch(di=>{console.log(di)}):(console.log("CompanyEmail is null."),Promise.resolve())}return console.log("Daily consumption data structure is unexpected."),Promise.resolve()});return Promise.all(a)}).then(()=>{}).catch(t=>{console.log("Error:",t)})}getAbsPercentageChange(t){return{value:t?Math.floor(Math.abs(t)):void 0,arrow:t&&t>=0?"\u25b2":"\u25bc"}}openDashFilterDailog(){const t=new we.vA;t.width="500px",t.height="auto",t.maxWidth="90vw",this.dialog.open(ut,t).afterClosed().subscribe(v=>{this.getUserDevices(),this.dashService.isPageLoading(!0)})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(we.uw),e.Y36(J),e.Y36(he.e),e.Y36(bt.k),e.Y36(me.ux))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-temp"]],decls:5,vars:2,consts:[[4,"ngIf"],["mat-mini-fab","",1,"filter-button",3,"click"],[1,"cards","container-fluid"],[1,"row"],["class","col-lg-4 col-md-6 col-sm-12 mb-3",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12","mb-3"],[1,"col-8"],[1,"device-name"],[1,"col-4","card-title-right"],[1,"device-time"],["class","live-tag",4,"ngIf"],["class","disconnected-tag",4,"ngIf"],["class","row",4,"ngIf"],["class","type-text",4,"ngIf"],["class","col-2",4,"ngIf"],[1,"live-tag"],[1,"disconnected-tag"],[1,"col-6","d-flex"],["src","../../../../assets/img/tm.gif",1,"card-img"],[1,"image-text"],["src","../../../../assets/img/hm.gif",1,"card-img"],[1,"col-4","d-flex"],["src","../../../../assets/img/tm.gif",1,"card-img-ryb"],[1,"image-text-ryb"],[1,"col-12","d-flex"],["src","../../../../assets/img/ws1.png",1,"card-img-ryb"],[1,"image-text-ws-3"],[1,"col-4"],[1,"image-text-ws"],[1,"image-text-ws-2"],["src","../../../../assets/img/ps.png",1,"card-img"],[1,"type-text"],[1,"col-2"],[1,"d-flex","flex-column","align-items-left"],["mat-mini-fab","","color","warn",1,"mb-2","card-buttons",3,"click"],["mat-mini-fab","","color","",1,"mb-2","card-buttons",3,"click"]],template:function(t,a){1&t&&(e.YNc(0,rt,2,0,"div",0),e.YNc(1,As,4,1,"div",0),e.TgZ(2,"button",1),e.NdJ("click",function(){return a.openDashFilterDailog()}),e.TgZ(3,"mat-icon"),e._uU(4,"swap_vert"),e.qZA()()),2&t&&(e.Q6J("ngIf",a.dashService.pageLoading),e.xp6(1),e.Q6J("ngIf",!a.dashService.pageLoading))},dependencies:[It.sg,It.O5,wt.Hw,K.nh,Tt.a8,Tt.dn,Oe],styles:['.cards[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}.card-title-right[_ngcontent-%COMP%]{text-align:right}.device-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}.device-time[_ngcontent-%COMP%]{font-size:.8rem;font-style:italic;font-weight:550}.card-buttons[_ngcontent-%COMP%]{width:30px;height:30px;font-size:10px}.card-buttons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;display:flex;justify-content:center;align-items:center}.card-img[_ngcontent-%COMP%]{height:50px;width:auto}.card-img-ryb[_ngcontent-%COMP%]{height:40px;width:auto}.image-text[_ngcontent-%COMP%]{text-align:center;font-size:25px;font-weight:600;justify-content:center;padding-top:10px}.image-text-ryb[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;padding-top:15px;zoom:78%}.image-text-ws[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;zoom:78%}.image-text-ws-2[_ngcontent-%COMP%]{text-align:center;font-size:12px;font-weight:600;justify-content:center;zoom:78%}.image-text-ws-3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;zoom:78%}.live-tag[_ngcontent-%COMP%]{color:red}.disconnected-tag[_ngcontent-%COMP%]{color:#fab907}.type-text[_ngcontent-%COMP%]{font-size:10px}.filter-button[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:25px;background-color:#3f51b5;color:#f5f5f5}@media (max-width: 375px){.device-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.device-time[_ngcontent-%COMP%]{font-size:.6rem;font-style:italic;font-weight:550}.card-img[_ngcontent-%COMP%]{height:35px;width:auto}.card-img-ryb[_ngcontent-%COMP%]{height:28px;width:auto}.image-text[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;padding-top:5px}.image-text-ryb[_ngcontent-%COMP%]{text-align:center;font-size:10px;font-weight:600;justify-content:center;padding-top:4px}.image-text-ws-2[_ngcontent-%COMP%]{text-align:center;font-size:10px;font-weight:600;justify-content:center;zoom:78%}}@media (min-width: 576px) and (max-width:979px){.cards[_ngcontent-%COMP%]{padding-top:17vh}}@media (min-width: 980px) and (max-width: 1100px){.cards[_ngcontent-%COMP%]{padding-top:20vh}.device-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:550}.device-time[_ngcontent-%COMP%]{font-size:.6rem;font-style:italic;font-weight:550}.card-img[_ngcontent-%COMP%]{height:35px;width:auto}.card-img-ryb[_ngcontent-%COMP%]{height:28px;width:auto}.image-text[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;padding-top:5px}.image-text-ryb[_ngcontent-%COMP%]{text-align:center;font-size:10px;font-weight:600;justify-content:center;padding-top:4px}.image-text-ws[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;justify-content:center;zoom:78%}}.alert-overlay[_ngcontent-%COMP%]{position:relative;overflow:hidden}.alert-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle,rgba(255,0,0,.1) 0%,rgba(255,0,0,.5) 50%,rgba(255,0,0,.1) 100%);background-position:0% 50%;background-repeat:repeat-x;background-size:200% auto;animation:_ngcontent-%COMP%_waveAnimation 2s linear infinite}.warn-overlay[_ngcontent-%COMP%]{position:relative;overflow:hidden}.warn-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(circle,rgba(232,224,109,.1) 0%,rgba(232,224,109,.5) 50%,rgba(232,224,109,.1) 100%);background-position:0% 50%;background-repeat:repeat-x;background-size:200% auto;animation:_ngcontent-%COMP%_waveAnimation 2s linear infinite}@keyframes _ngcontent-%COMP%_waveAnimation{0%{background-position:0% 50%}to{background-position:100% 50%}}.up[_ngcontent-%COMP%]{color:green}.down[_ngcontent-%COMP%]{color:red}']}),h})();var Lo=Pt(5861),Fa=Pt(3470),td=Pt(2407),id=Pt.n(td),Ea=Pt(4385),Sa=Pt(8184),$r=Pt(4080),ks=Pt(4087),Wn=Pt(727),Ra=Pt(6451),Ts=Pt(9646),Xt=Pt(9521),Fo=Pt(445),Eo=Pt(3353),Ro=Pt(5698),Ns=Pt(8675),Zl=Pt(9300),xi=Pt(7340);const nd=["mat-calendar-body",""];function ad(h,x){if(1&h&&(e.TgZ(0,"tr",3)(1,"td",4),e._uU(2),e.qZA()()),2&h){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function rd(h,x){if(1&h&&(e.TgZ(0,"td",4),e._uU(1),e.qZA()),2&h){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Mr(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",8)(1,"button",9),e.NdJ("click",function(v){const V=e.CHM(t).$implicit,tt=e.oxw(2);return e.KtG(tt._cellClicked(V,v))})("focus",function(v){const V=e.CHM(t).$implicit,tt=e.oxw(2);return e.KtG(tt._emitActiveDateChange(V,v))}),e.TgZ(2,"span",10),e._uU(3),e.qZA(),e._UZ(4,"span",11),e.qZA()()}if(2&h){const t=x.$implicit,a=x.index,v=e.oxw().index,b=e.oxw();e.Udp("width",b._cellWidth)("padding-top",b._cellPadding)("padding-bottom",b._cellPadding),e.uIk("data-mat-row",v)("data-mat-col",a),e.xp6(1),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",b._isActiveCell(v,a))("mat-calendar-body-range-start",b._isRangeStart(t.compareValue))("mat-calendar-body-range-end",b._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",b._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",b._isComparisonBridgeStart(t.compareValue,v,a))("mat-calendar-body-comparison-bridge-end",b._isComparisonBridgeEnd(t.compareValue,v,a))("mat-calendar-body-comparison-start",b._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",b._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",b._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",b._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",b._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",b._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",b._isActiveCell(v,a)?0:-1),e.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",b._isSelected(t.compareValue))("aria-current",b.todayValue===t.compareValue?"date":null)("aria-describedby",b._getDescribedby(t.compareValue)),e.xp6(1),e.ekj("mat-calendar-body-selected",b._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",b._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",b.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function od(h,x){if(1&h&&(e.TgZ(0,"tr",5),e.YNc(1,rd,2,6,"td",6),e.YNc(2,Mr,5,48,"td",7),e.qZA()),2&h){const t=x.$implicit,a=x.index,v=e.oxw();e.xp6(1),e.Q6J("ngIf",0===a&&v._firstRowOffset),e.xp6(1),e.Q6J("ngForOf",t)}}function sd(h,x){if(1&h&&(e.TgZ(0,"th",5)(1,"span",6),e._uU(2),e.qZA(),e.TgZ(3,"span",7),e._uU(4),e.qZA()()),2&h){const t=x.$implicit;e.xp6(2),e.Oqu(t.long),e.xp6(2),e.Oqu(t.narrow)}}const zl=["*"];function Kr(h,x){}function ld(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"mat-month-view",5),e.NdJ("activeDateChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b.activeDate=v)})("_userSelection",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._dateSelected(v))})("dragStarted",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._dragStarted(v))})("dragEnded",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._dragEnded(v))}),e.qZA()}if(2&h){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function cd(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"mat-year-view",6),e.NdJ("activeDateChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b.activeDate=v)})("monthSelected",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._monthSelectedInYearView(v))})("selectedChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._goToDateInView(v,"month"))}),e.qZA()}if(2&h){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function dd(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"mat-multi-year-view",7),e.NdJ("activeDateChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b.activeDate=v)})("yearSelected",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._yearSelectedInMultiYearView(v))})("selectedChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b._goToDateInView(v,"year"))}),e.qZA()}if(2&h){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function hd(h,x){}const Oo=["button"];function Ms(h,x){1&h&&(e.O4$(),e.TgZ(0,"svg",3),e._UZ(1,"path",4),e.qZA())}const Yl=[[["","matDatepickerToggleIcon",""]]],Ps=["[matDatepickerToggleIcon]"];let eo=(()=>{class h{constructor(){this.changes=new T.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,a){return`${t} \u2013 ${a}`}formatYearRangeLabel(t,a){return`${t} to ${a}`}}return h.\u0275fac=function(t){return new(t||h)},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class Is{constructor(x,t,a,v,b={},V=x,tt){this.value=x,this.displayValue=t,this.ariaLabel=a,this.enabled=v,this.cssClasses=b,this.compareValue=V,this.rawValue=tt}}let pd=1,Pr=(()=>{class h{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,a){this._elementRef=t,this._ngZone=a,this._platform=(0,e.f3M)(Eo.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this.activeDateChange=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=v=>{if(this._skipNextFocus&&"focus"===v.type)this._skipNextFocus=!1;else if(v.target&&this.isRange){const b=this._getCellFromElement(v.target);b&&this._ngZone.run(()=>this.previewChange.emit({value:b.enabled?b:null,event:v}))}},this._touchmoveHandler=v=>{if(!this.isRange)return;const b=Fr(v),V=b?this._getCellFromElement(b):null;b!==v.target&&(this._didDragSinceMouseDown=!0),Ir(v.target)&&v.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:V?.enabled?V:null,event:v}))},this._leaveHandler=v=>{null!==this.previewEnd&&this.isRange&&("blur"!==v.type&&(this._didDragSinceMouseDown=!0),v.target&&this._getCellFromElement(v.target)&&(!v.relatedTarget||!this._getCellFromElement(v.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:v})))},this._mousedownHandler=v=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const b=v.target&&this._getCellFromElement(v.target);!b||!this._isInRange(b.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:b.rawValue,event:v})})},this._mouseupHandler=v=>{if(!this.isRange)return;const b=Ir(v.target);b?b.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const V=this._getCellFromElement(b);this.dragEnded.emit({value:V?.rawValue??null,event:v})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:v})})},this._touchendHandler=v=>{const b=Fr(v);b&&this._mouseupHandler({target:b})},this._id="mat-calendar-body-"+pd++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,a.runOutsideAngular(()=>{const v=t.nativeElement;v.addEventListener("mouseenter",this._enterHandler,!0),v.addEventListener("touchmove",this._touchmoveHandler,!0),v.addEventListener("focus",this._enterHandler,!0),v.addEventListener("mouseleave",this._leaveHandler,!0),v.addEventListener("blur",this._leaveHandler,!0),v.addEventListener("mousedown",this._mousedownHandler),v.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,a){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:a})}_emitActiveDateChange(t,a){t.enabled&&this.activeDateChange.emit({value:t.value,event:a})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const a=t.numCols,{rows:v,numCols:b}=this;(t.rows||a)&&(this._firstRowOffset=v&&v.length&&v[0].length?b-v[0].length:0),(t.cellAspectRatio||a||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/b+"%"),(a||!this._cellWidth)&&(this._cellWidth=100/b+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("touchmove",this._touchmoveHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,a){let v=t*this.numCols+a;return t&&(v-=this._firstRowOffset),v==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ro.q)(1)).subscribe(()=>{setTimeout(()=>{const a=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");a&&(t||(this._skipNextFocus=!0),a.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Pi(t,this.startValue,this.endValue)}_isRangeEnd(t){return Lr(t,this.startValue,this.endValue)}_isInRange(t){return to(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Pi(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,a,v){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let b=this.rows[a][v-1];if(!b){const V=this.rows[a-1];b=V&&V[V.length-1]}return b&&!this._isRangeEnd(b.compareValue)}_isComparisonBridgeEnd(t,a,v){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let b=this.rows[a][v+1];if(!b){const V=this.rows[a+1];b=V&&V[0]}return b&&!this._isRangeStart(b.compareValue)}_isComparisonEnd(t){return Lr(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return to(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Pi(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Lr(t,this.previewStart,this.previewEnd)}_isInPreview(t){return to(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const a=Ir(t);if(a){const v=a.getAttribute("data-mat-row"),b=a.getAttribute("data-mat-col");if(v&&b)return this.rows[parseInt(v)][parseInt(b)]}return null}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.SBq),e.Y36(e.R0b))},h.\u0275cmp=e.Xpm({type:h,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.TTD],attrs:nd,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,a){1&t&&(e.YNc(0,ad,3,6,"tr",0),e.YNc(1,od,3,2,"tr",1),e.TgZ(2,"label",2),e._uU(3),e.qZA(),e.TgZ(4,"label",2),e._uU(5),e.qZA()),2&t&&(e.Q6J("ngIf",a._firstRowOffset<a.labelMinRequiredCells),e.xp6(1),e.Q6J("ngForOf",a.rows),e.xp6(1),e.Q6J("id",a._startDateLabelId),e.xp6(1),e.hij(" ",a.startDateAccessibleName,"\n"),e.xp6(1),e.Q6J("id",a._endDateLabelId),e.xp6(1),e.hij(" ",a.endDateAccessibleName,"\n"))},dependencies:[It.mk,It.sg,It.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),h})();function $t(h){return"TD"===h?.nodeName}function Ir(h){let x;return $t(h)?x=h:$t(h.parentNode)?x=h.parentNode:$t(h.parentNode?.parentNode)&&(x=h.parentNode.parentNode),null!=x?.getAttribute("data-mat-row")?x:null}function Pi(h,x,t){return null!==t&&x!==t&&h<t&&h===x}function Lr(h,x,t){return null!==x&&x!==t&&h>=x&&h===t}function to(h,x,t,a){return a&&null!==x&&null!==t&&x!==t&&h>=x&&h<=t}function Fr(h){const x=h.changedTouches[0];return document.elementFromPoint(x.clientX,x.clientY)}class an{constructor(x,t){this.start=x,this.end=t}}let Gn=(()=>{class h{constructor(t,a){this.selection=t,this._adapter=a,this._selectionChanged=new T.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,a){const v=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:a,oldValue:v})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return h.\u0275fac=function(t){e.$Z()},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac}),h})(),Oa=(()=>{class h extends Gn{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new h(this._adapter);return t.updateSelection(this.selection,this),t}}return h.\u0275fac=function(t){return new(t||h)(e.LFG(q._A))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac}),h})();const Er={provide:Gn,deps:[[new e.FiY,new e.tp0,Gn],q._A],useFactory:function Uo(h,x){return h||new Oa(x)}},rn=new e.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Es=(()=>{class h{get activeDate(){return this._activeDate}set activeDate(t){const a=this._activeDate,v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),this._hasSameMonthAndYear(a,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof an?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,a,v,b,V){this._changeDetectorRef=t,this._dateFormats=a,this._dateAdapter=v,this._dir=b,this._rangeStrategy=V,this._rerenderSubscription=Wn.w0.EMPTY,this.activeDrag=null,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.dragStarted=new e.vpe,this.dragEnded=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ns.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const a=t.comparisonStart||t.comparisonEnd;a&&!a.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const a=t.value,v=this._getDateFromDayOfMonth(a);let b,V;this._selected instanceof an?(b=this._getDateInCurrentMonth(this._selected.start),V=this._getDateInCurrentMonth(this._selected.end)):b=V=this._getDateInCurrentMonth(this._selected),(b!==a||V!==a)&&this.selectedChange.emit(v),this._userSelection.emit({value:v,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const v=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(v,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const a=this._activeDate,v=this._isRtl();switch(t.keyCode){case Xt.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,v?1:-1);break;case Xt.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,v?-1:1);break;case Xt.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Xt.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Xt.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Xt.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Xt.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Xt.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Xt.K5:case Xt.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case Xt.hY:return void(null!=this._previewEnd&&!(0,Xt.Vb)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===Xt.L_||t.keyCode===Xt.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:a}){if(this._rangeStrategy){const v=a?a.rawValue:null,b=this._rangeStrategy.createPreview(v,this.selected,t);if(this._previewStart=this._getCellCompareValue(b.start),this._previewEnd=this._getCellCompareValue(b.end),this.activeDrag&&v){const V=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,v,t);V&&(this._previewStart=this._getCellCompareValue(V.start),this._previewEnd=this._getCellCompareValue(V.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const a=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:a??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow");let b=this._dateAdapter.getDayOfWeekNames("long").map((V,tt)=>({long:V,narrow:a[tt]}));this._weekdays=b.slice(t).concat(b.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),a=this._dateAdapter.getDateNames();this._weeks=[[]];for(let v=0,b=this._firstWeekOffset;v<t;v++,b++){7==b&&(this._weeks.push([]),b=0);const V=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),v+1),tt=this._shouldEnableDate(V),Wt=this._dateAdapter.format(V,this._dateFormats.display.dateA11yLabel),ai=this.dateClass?this.dateClass(V,"month"):void 0;this._weeks[this._weeks.length-1].push(new Is(v+1,a[v],Wt,tt,ai,this._getCellCompareValue(V),V))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,a){return!(!t||!a||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(a)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(a))}_getCellCompareValue(t){if(t){const a=this._dateAdapter.getYear(t),v=this._dateAdapter.getMonth(t),b=this._dateAdapter.getDate(t);return new Date(a,v,b).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof an?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.sBO),e.Y36(q.sG,8),e.Y36(q._A,8),e.Y36(Fo.Is,8),e.Y36(rn,8))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-month-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(Pr,5),2&t){let v;e.iGM(v=e.CRH())&&(a._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.YNc(3,sd,5,2,"th",2),e.qZA(),e.TgZ(4,"tr"),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody",4),e.NdJ("selectedValueChange",function(b){return a._dateSelected(b)})("activeDateChange",function(b){return a._updateActiveDate(b)})("previewChange",function(b){return a._previewChanged(b)})("dragStarted",function(b){return a.dragStarted.emit(b)})("dragEnded",function(b){return a._dragEnded(b)})("keyup",function(b){return a._handleCalendarBodyKeyup(b)})("keydown",function(b){return a._handleCalendarBodyKeydown(b)}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",a._weekdays),e.xp6(3),e.Q6J("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[It.sg,Pr],encapsulation:2,changeDetection:0}),h})();const Tn=24;let Rs=(()=>{class h{get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate;const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),ha(this._dateAdapter,a,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof an?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,a,v){this._changeDetectorRef=t,this._dateAdapter=a,this._dir=v,this._rerenderSubscription=Wn.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ns.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const a=this._dateAdapter.getYear(this._activeDate)-Ba(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let v=0,b=[];v<Tn;v++)b.push(a+v),4==b.length&&(this._years.push(b.map(V=>this._createCellForYear(V))),b=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const a=t.value,v=this._dateAdapter.createDate(a,0,1),b=this._getDateFromYear(a);this.yearSelected.emit(v),this.selectedChange.emit(b)}_updateActiveDate(t){const v=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(v,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const a=this._activeDate,v=this._isRtl();switch(t.keyCode){case Xt.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,v?1:-1);break;case Xt.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,v?-1:1);break;case Xt.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Xt.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Xt.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ba(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Xt.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Tn-Ba(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Xt.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-Tn:-Tn);break;case Xt.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*Tn:Tn);break;case Xt.K5:case Xt.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===Xt.L_||t.keyCode===Xt.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ba(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const a=this._dateAdapter.getMonth(this.activeDate),v=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,a,1));return this._dateAdapter.createDate(t,a,Math.min(this._dateAdapter.getDate(this.activeDate),v))}_createCellForYear(t){const a=this._dateAdapter.createDate(t,0,1),v=this._dateAdapter.getYearName(a),b=this.dateClass?this.dateClass(a,"multi-year"):void 0;return new Is(t,v,v,this._shouldEnableYear(t),b)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let v=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(v)==t;v=this._dateAdapter.addCalendarDays(v,1))if(this.dateFilter(v))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof an){const a=t.start||t.end;a&&(this._selectedYear=this._dateAdapter.getYear(a))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.sBO),e.Y36(q._A,8),e.Y36(Fo.Is,8))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-multi-year-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(Pr,5),2&t){let v;e.iGM(v=e.CRH())&&(a._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(b){return a._yearSelected(b)})("activeDateChange",function(b){return a._updateActiveDate(b)})("keyup",function(b){return a._handleCalendarBodyKeyup(b)})("keydown",function(b){return a._handleCalendarBodyKeydown(b)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[Pr],encapsulation:2,changeDetection:0}),h})();function ha(h,x,t,a,v){const b=h.getYear(x),V=h.getYear(t),tt=qo(h,a,v);return Math.floor((b-tt)/Tn)===Math.floor((V-tt)/Tn)}function Ba(h,x,t,a){return function rr(h,x){return(h%x+x)%x}(h.getYear(x)-qo(h,t,a),Tn)}function qo(h,x,t){let a=0;return t?a=h.getYear(t)-Tn+1:x&&(a=h.getYear(x)),a}let Ua=(()=>{class h{get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate;const v=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(v,this.minDate,this.maxDate),this._dateAdapter.getYear(a)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof an?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,a,v,b){this._changeDetectorRef=t,this._dateFormats=a,this._dateAdapter=v,this._dir=b,this._rerenderSubscription=Wn.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ns.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const a=t.value,v=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);this.monthSelected.emit(v);const b=this._getDateFromMonth(a);this.selectedChange.emit(b)}_updateActiveDate(t){const v=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(v,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const a=this._activeDate,v=this._isRtl();switch(t.keyCode){case Xt.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,v?1:-1);break;case Xt.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,v?-1:1);break;case Xt.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Xt.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Xt.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Xt.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Xt.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case Xt.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case Xt.K5:case Xt.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===Xt.L_||t.keyCode===Xt.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(a=>a.map(v=>this._createCellForMonth(v,t[v]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),v=this._dateAdapter.getNumDaysInMonth(a);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),v))}_createCellForMonth(t,a){const v=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),b=this._dateAdapter.format(v,this._dateFormats.display.monthYearA11yLabel),V=this.dateClass?this.dateClass(v,"year"):void 0;return new Is(t,a.toLocaleUpperCase(),b,this._shouldEnableMonth(t),V)}_shouldEnableMonth(t){const a=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(a,t)||this._isYearAndMonthBeforeMinDate(a,t))return!1;if(!this.dateFilter)return!0;for(let b=this._dateAdapter.createDate(a,t,1);this._dateAdapter.getMonth(b)==t;b=this._dateAdapter.addCalendarDays(b,1))if(this.dateFilter(b))return!0;return!1}_isYearAndMonthAfterMaxDate(t,a){if(this.maxDate){const v=this._dateAdapter.getYear(this.maxDate),b=this._dateAdapter.getMonth(this.maxDate);return t>v||t===v&&a>b}return!1}_isYearAndMonthBeforeMinDate(t,a){if(this.minDate){const v=this._dateAdapter.getYear(this.minDate),b=this._dateAdapter.getMonth(this.minDate);return t<v||t===v&&a<b}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof an?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.sBO),e.Y36(q.sG,8),e.Y36(q._A,8),e.Y36(Fo.Is,8))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-year-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(Pr,5),2&t){let v;e.iGM(v=e.CRH())&&(a._matCalendarBody=v.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(b){return a._monthSelected(b)})("activeDateChange",function(b){return a._updateActiveDate(b)})("keyup",function(b){return a._handleCalendarBodyKeyup(b)})("keydown",function(b){return a._handleCalendarBodyKeydown(b)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[Pr],encapsulation:2,changeDetection:0}),h})(),Os=1,Or=(()=>{class h{constructor(t,a,v,b,V){this._intl=t,this.calendar=a,this._dateAdapter=v,this._dateFormats=b,this._id="mat-calendar-header-"+Os++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>V.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Tn)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Tn)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,a){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(a):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a):ha(this._dateAdapter,t,a,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const a=this._dateAdapter.getYear(this.calendar.activeDate)-Ba(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),v=a+Tn-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(v,0,1))]}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(eo),e.Y36((0,e.Gpc)(()=>no)),e.Y36(q._A,8),e.Y36(q.sG,8),e.Y36(e.sBO))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:zl,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(t,a){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return a.currentPeriodClicked()}),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.O4$(),e.TgZ(5,"svg",4),e._UZ(6,"polygon",5),e.qZA()(),e.kcU(),e._UZ(7,"div",6),e.Hsn(8),e.TgZ(9,"button",7),e.NdJ("click",function(){return a.previousClicked()}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return a.nextClicked()}),e.qZA()()(),e.TgZ(11,"label",9),e._uU(12),e.qZA()),2&t&&(e.xp6(2),e.uIk("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),e.xp6(2),e.Oqu(a.periodButtonText),e.xp6(1),e.ekj("mat-calendar-invert","month"!==a.calendar.currentView),e.xp6(4),e.Q6J("disabled",!a.previousEnabled()),e.uIk("aria-label",a.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!a.nextEnabled()),e.uIk("aria-label",a.nextButtonLabel),e.xp6(1),e.Q6J("id",a._periodButtonLabelId),e.xp6(1),e.Oqu(a.periodButtonDescription))},dependencies:[K.lW,K.RK],encapsulation:2,changeDetection:0}),h})(),no=(()=>{class h{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof an?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const a=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),a&&this.viewChanged.emit(a)}constructor(t,a,v,b){this._dateAdapter=a,this._dateFormats=v,this._changeDetectorRef=b,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this._userSelection=new e.vpe,this._userDragDrop=new e.vpe,this._activeDrag=null,this.stateChanges=new T.x,this._intlChanges=t.changes.subscribe(()=>{b.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new $r.C5(this.headerComponent||Or),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const a=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,v=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,b=a||v||t.dateFilter;if(b&&!b.firstChange){const V=this._getCurrentViewComponent();V&&(this._changeDetectorRef.detectChanges(),V._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const a=t.value;(this.selected instanceof an||a&&!this._dateAdapter.sameDate(a,this.selected))&&this.selectedChange.emit(a),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,a){this.activeDate=t,this.currentView=a}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(eo),e.Y36(q._A,8),e.Y36(q.sG,8),e.Y36(e.sBO))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-calendar"]],viewQuery:function(t,a){if(1&t&&(e.Gf(Es,5),e.Gf(Ua,5),e.Gf(Rs,5)),2&t){let v;e.iGM(v=e.CRH())&&(a.monthView=v.first),e.iGM(v=e.CRH())&&(a.yearView=v.first),e.iGM(v=e.CRH())&&(a.multiYearView=v.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[e._Bn([Er]),e.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,a){1&t&&(e.YNc(0,Kr,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,ld,1,11,"mat-month-view",2),e.YNc(3,cd,1,6,"mat-year-view",3),e.YNc(4,dd,1,6,"mat-multi-year-view",4),e.qZA()),2&t&&(e.Q6J("cdkPortalOutlet",a._calendarHeaderPortal),e.xp6(1),e.Q6J("ngSwitch",a.currentView),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngSwitchCase","multi-year"))},dependencies:[It.RF,It.n9,U.kH,$r.Pl,Es,Ua,Rs],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),h})();const ua={transformPanel:(0,xi.X$)("transformPanel",[(0,xi.eR)("void => enter-dropdown",(0,xi.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,xi.F4)([(0,xi.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,xi.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,xi.eR)("void => enter-dialog",(0,xi.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,xi.F4)([(0,xi.oB)({opacity:0,transform:"scale(0.7)"}),(0,xi.oB)({transform:"none",opacity:1})]))),(0,xi.eR)("* => void",(0,xi.jt)("100ms linear",(0,xi.oB)({opacity:0})))]),fadeInCalendar:(0,xi.X$)("fadeInCalendar",[(0,xi.SB)("void",(0,xi.oB)({opacity:0})),(0,xi.SB)("enter",(0,xi.oB)({opacity:1})),(0,xi.eR)("void => *",(0,xi.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let qa=0;const Jt=new e.OlP("mat-datepicker-scroll-strategy"),jo={provide:Jt,deps:[Sa.aV],useFactory:function Vi(h){return()=>h.scrollStrategies.reposition()}},ja=(0,q.pj)(class{constructor(h){this._elementRef=h}});let or=(()=>{class h extends ja{constructor(t,a,v,b,V,tt){super(t),this._changeDetectorRef=a,this._globalModel=v,this._dateAdapter=b,this._rangeSelectionStrategy=V,this._subscriptions=new Wn.w0,this._animationDone=new T.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=tt.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const a=this._model.selection,v=t.value,b=a instanceof an;if(b&&this._rangeSelectionStrategy){const V=this._rangeSelectionStrategy.selectionFinished(v,a,t.event);this._model.updateSelection(V,this)}else v&&(b||!this._dateAdapter.sameDate(v,a))&&this._model.add(v);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,a){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,a&&this._changeDetectorRef.detectChanges()}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Gn),e.Y36(q._A),e.Y36(rn,8),e.Y36(eo))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-datepicker-content"]],viewQuery:function(t,a){if(1&t&&e.Gf(no,5),2&t){let v;e.iGM(v=e.CRH())&&(a._calendar=v.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,a){1&t&&e.WFA("@transformPanel.start",function(b){return a._handleAnimationEvent(b)})("@transformPanel.done",function(b){return a._handleAnimationEvent(b)}),2&t&&(e.d8E("@transformPanel",a._animationState),e.ekj("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[e.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-calendar",1),e.NdJ("yearSelected",function(b){return a.datepicker._selectYear(b)})("monthSelected",function(b){return a.datepicker._selectMonth(b)})("viewChanged",function(b){return a.datepicker._viewChanged(b)})("_userSelection",function(b){return a._handleUserSelection(b)})("_userDragDrop",function(b){return a._handleUserDragDrop(b)}),e.qZA(),e.YNc(2,hd,0,0,"ng-template",2),e.TgZ(3,"button",3),e.NdJ("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),e._uU(4),e.qZA()()),2&t){let v;e.ekj("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),e.uIk("aria-modal",!0)("aria-labelledby",null!==(v=a._dialogLabelId)&&void 0!==v?v:void 0),e.xp6(1),e.Q6J("id",a.datepicker.id)("ngClass",a.datepicker.panelClass)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),e.xp6(1),e.Q6J("cdkPortalOutlet",a._actionsPortal),e.xp6(1),e.ekj("cdk-visually-hidden",!a._closeButtonFocused),e.Q6J("color",a.color||"primary"),e.xp6(1),e.Oqu(a._closeButtonText)}},dependencies:[It.mk,K.lW,U.mK,$r.Pl,no],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ua.transformPanel,ua.fadeInCalendar]},changeDetection:0}),h})(),si=(()=>{class h{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,se.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const a=(0,se.Ig)(t);a!==this._disabled&&(this._disabled=a,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,se.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,se.du)(t)}get opened(){return this._opened}set opened(t){(0,se.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,a,v,b,V,tt,Wt){this._overlay=t,this._ngZone=a,this._viewContainerRef=v,this._dateAdapter=V,this._dir=tt,this._model=Wt,this._inputStateChanges=Wn.w0.EMPTY,this._document=(0,e.f3M)(It.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.viewChanged=new e.vpe(!0),this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this.id="mat-datepicker-"+qa++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new T.x,this._scrollStrategy=b}ngOnChanges(t){const a=t.xPosition||t.yPosition;if(a&&!a.firstChange&&this._overlayRef){const v=this._overlayRef.getConfig().positionStrategy;v instanceof Sa._G&&(this._setConnectedPositions(v),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,Eo.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,a=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:v,location:b}=this._componentRef;v._startExitAnimation(),v._animationDone.pipe((0,Ro.q)(1)).subscribe(()=>{const V=this._document.activeElement;t&&(!V||V===this._document.activeElement||b.nativeElement.contains(V))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(a):a()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,a=new $r.C5(or,this._viewContainerRef),v=this._overlayRef=this._overlay.create(new Sa.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(v).subscribe(b=>{b&&b.preventDefault(),this.close()}),v.keydownEvents().subscribe(b=>{const V=b.keyCode;(V===Xt.LH||V===Xt.JH||V===Xt.oh||V===Xt.SV||V===Xt.Ku||V===Xt.VM)&&b.preventDefault()}),this._componentRef=v.attach(a),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,Ro.q)(1)).subscribe(()=>v.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const a="end"===this.xPosition?"end":"start",v="start"===a?"end":"start",b="above"===this.yPosition?"bottom":"top",V="top"===b?"bottom":"top";return t.withPositions([{originX:a,originY:V,overlayX:a,overlayY:b},{originX:a,originY:b,overlayX:a,overlayY:V},{originX:v,originY:V,overlayX:v,overlayY:b},{originX:v,originY:b,overlayX:v,overlayY:V}])}_getCloseStream(t){const a=["ctrlKey","shiftKey","metaKey"];return(0,Ra.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Zl.h)(v=>v.keyCode===Xt.hY&&!(0,Xt.Vb)(v)||this.datepickerInput&&(0,Xt.Vb)(v,"altKey")&&v.keyCode===Xt.LH&&a.every(b=>!(0,Xt.Vb)(v,b)))))}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(Sa.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Jt),e.Y36(q._A,8),e.Y36(Fo.Is,8),e.Y36(Gn))},h.\u0275dir=e.lG2({type:h,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.TTD]}),h})(),pa=(()=>{class h extends si{}return h.\u0275fac=function(){let x;return function(a){return(x||(x=e.n5z(h)))(a||h)}}(),h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e._Bn([Er,{provide:si,useExisting:h}]),e.qOj],decls:0,vars:0,template:function(t,a){},encapsulation:2,changeDetection:0}),h})();class un{constructor(x,t){this.target=x,this.targetElement=t,this.value=this.target.value}}let Bs=(()=>{class h{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const a=(0,se.Ig)(t),v=this._elementRef.nativeElement;this._disabled!==a&&(this._disabled=a,this.stateChanges.next(void 0)),a&&this._isInitialized&&v.blur&&v.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(a=>{if(this._shouldHandleChangeEvent(a)){const v=this._getValueFromModel(a.selection);this._lastValueValid=this._isValidValue(v),this._cvaOnChange(v),this._onTouched(),this._formatValue(v),this.dateInput.emit(new un(this,this._elementRef.nativeElement)),this.dateChange.emit(new un(this,this._elementRef.nativeElement))}})}constructor(t,a,v){this._elementRef=t,this._dateAdapter=a,this._dateFormats=v,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this.stateChanges=new T.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Wn.w0.EMPTY,this._localeSubscription=Wn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=b=>{const V=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(b.value));return!V||this._matchesFilter(V)?null:{matDatepickerFilter:!0}},this._minValidator=b=>{const V=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(b.value)),tt=this._getMinDate();return!tt||!V||this._dateAdapter.compareDate(tt,V)<=0?null:{matDatepickerMin:{min:tt,actual:V}}},this._maxValidator=b=>{const V=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(b.value)),tt=this._getMaxDate();return!tt||!V||this._dateAdapter.compareDate(tt,V)>=0?null:{matDatepickerMax:{max:tt,actual:V}}},this._lastValueValid=!1,this._localeSubscription=a.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function Jn(h,x){const t=Object.keys(h);for(let a of t){const{previousValue:v,currentValue:b}=h[a];if(!x.isDateInstance(v)||!x.isDateInstance(b))return!0;if(!x.sameDate(v,b))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,Xt.Vb)(t,"altKey")&&t.keyCode===Xt.JH&&["ctrlKey","shiftKey","metaKey"].every(b=>!(0,Xt.Vb)(t,b))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const a=this._lastValueValid;let v=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(v),v=this._dateAdapter.getValidDateOrNull(v);const b=!this._dateAdapter.sameDate(v,this.value);!v||b?this._cvaOnChange(v):(t&&!this.value&&this._cvaOnChange(v),a!==this._lastValueValid&&this._validatorOnChange()),b&&(this._assignValue(v),this.dateInput.emit(new un(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new un(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const a=this._getDateFilter();return!a||a(t)}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.SBq),e.Y36(q._A,8),e.Y36(q.sG,8))},h.\u0275dir=e.lG2({type:h,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.TTD]}),h})();const Wl={provide:ce.JU,useExisting:(0,e.Gpc)(()=>ao),multi:!0},Gl={provide:ce.Cf,useExisting:(0,e.Gpc)(()=>ao),multi:!0};let ao=(()=>{class h extends Bs{set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(a,this._min)||(this._min=a,this._validatorOnChange())}get max(){return this._max}set max(t){const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(a,this._max)||(this._max=a,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const a=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==a&&this._validatorOnChange()}constructor(t,a,v,b){super(t,a,v),this._formField=b,this._closedSubscription=Wn.w0.EMPTY,this._validator=ce.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.SBq),e.Y36(q._A,8),e.Y36(q.sG,8),e.Y36(ae.G_,8))},h.\u0275dir=e.lG2({type:h,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,a){1&t&&e.NdJ("input",function(b){return a._onInput(b.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(b){return a._onKeydown(b)}),2&t&&(e.Ikx("disabled",a.disabled),e.uIk("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",(null==a._datepicker?null:a._datepicker.opened)&&a._datepicker.id||null)("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e._Bn([Wl,Gl,{provide:Ie.Jk,useExisting:h}]),e.qOj]}),h})(),Ji=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275dir=e.lG2({type:h,selectors:[["","matDatepickerToggleIcon",""]]}),h})(),Hi=(()=>{class h{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,se.Ig)(t)}constructor(t,a,v){this._intl=t,this._changeDetectorRef=a,this._stateChanges=Wn.w0.EMPTY;const b=Number(v);this.tabIndex=b||0===b?b:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,Ts.of)(),a=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ts.of)(),v=this.datepicker?(0,Ra.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ts.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ra.T)(this._intl.changes,t,a,v).subscribe(()=>this._changeDetectorRef.markForCheck())}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(eo),e.Y36(e.sBO),e.$8M("tabindex"))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,a,v){if(1&t&&e.Suo(v,Ji,5),2&t){let b;e.iGM(b=e.CRH())&&(a._customIcon=b.first)}},viewQuery:function(t,a){if(1&t&&e.Gf(Oo,5),2&t){let v;e.iGM(v=e.CRH())&&(a._button=v.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,a){1&t&&e.NdJ("click",function(b){return a._open(b)}),2&t&&(e.uIk("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),e.ekj("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&"accent"===a.datepicker.color)("mat-warn",a.datepicker&&"warn"===a.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.TTD],ngContentSelectors:Ps,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,a){1&t&&(e.F$t(Yl),e.TgZ(0,"button",0,1),e.YNc(2,Ms,2,0,"svg",2),e.Hsn(3),e.qZA()),2&t&&(e.Q6J("disabled",a.disabled)("disableRipple",a.disableRipple),e.uIk("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),e.xp6(2),e.Q6J("ngIf",!a._customIcon))},dependencies:[It.O5,K.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),h})(),Za=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({providers:[eo,jo],imports:[It.ez,K.ot,Sa.U8,U.rt,$r.eL,q.BQ,ks.ZD]}),h})();function za(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"mat-option",18),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw();return e.KtG(V.open(b))}),e._uU(1),e.qZA()}if(2&h){const t=x.$implicit;e.Q6J("value",t.DeviceName),e.xp6(1),e.hij(" ",t.DeviceName," ")}}function Br(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1," Please select a device. "),e.qZA())}function on(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",19)(2,"mat-label"),e._uU(3,"Last"),e.qZA(),e.TgZ(4,"mat-select",10),e.NdJ("ngModelChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b.selectedDeviceInterval=v)}),e.TgZ(5,"mat-option",20),e._uU(6,"1 Hour"),e.qZA(),e.TgZ(7,"mat-option",21),e._uU(8,"12 Hours"),e.qZA(),e.TgZ(9,"mat-option",22),e._uU(10,"1 Day"),e.qZA(),e.TgZ(11,"mat-option",23),e._uU(12,"7 Days"),e.qZA(),e.TgZ(13,"mat-option",24),e._uU(14,"30 Days"),e.qZA()()()()}if(2&h){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedDeviceInterval)}}function Ur(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Start Date is Required*"),e.qZA())}function Ya(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"End Date is Required*"),e.qZA())}function ro(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"div",25)(3,"mat-form-field",19)(4,"input",26),e.NdJ("dateChange",function(v){e.CHM(t);const b=e.oxw();return e.KtG(b.updateStartDate(v))}),e.qZA(),e._UZ(5,"mat-datepicker-toggle",27)(6,"mat-datepicker",null,28),e.YNc(8,Ur,2,0,"mat-error",9),e.qZA()(),e.TgZ(9,"div",25)(10,"mat-form-field",19),e._UZ(11,"input",29)(12,"mat-datepicker-toggle",27)(13,"mat-datepicker",null,30),e.YNc(15,Ya,2,0,"mat-error",9),e.qZA()()()()}if(2&h){const t=e.MAs(7),a=e.MAs(14),v=e.oxw();e.xp6(4),e.Q6J("matDatepicker",t)("max",v.currentDate)("formControl",v.start_date),e.xp6(1),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",v.start_date.invalid),e.xp6(3),e.Q6J("min",v.startDate)("max",v.currentDate)("matDatepicker",a)("formControl",v.end_date),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("ngIf",v.end_date.invalid)}}let qr=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}constructor(t,a,v,b,V,tt){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.datePipe=tt,this.selectedDevice=new ce.NI("",[ce.kI.required]),this.deviceOptions=[],this.currentDate=new Date,this.endDate=this.currentDate,this.start_date=new ce.NI("",[ce.kI.required]),this.end_date=new ce.NI("",[ce.kI.required])}ngOnInit(){this.deviceUID=this.DashDataService.getDeviceId()||"",this.deviceName=this.DashDataService.getDeviceName()||"",this.deviceInterval=this.DashDataService.getInterval()||"",this.deviceType=this.DashDataService.getDeviceType()||"",this.deviceUID&&this.deviceName&&this.deviceInterval&&this.deviceType&&("Custom"===this.deviceInterval?this.selectedRadioButton="Custom":(this.selectedRadioButton="Last",this.selectedDeviceInterval=this.deviceInterval)),this.adjustDialogWidth(),this.getUserDevices()}open(t){this.deviceUID=t.DeviceUID,this.deviceType=t.DeviceType,this.deviceName=t.DeviceName}updateStartDate(t){this.startDate=t.value}updateEndDate(t){const a=t.value;!this.startDate||a>=this.startDate?this.endDate=a:(this.endDate=this.currentDate,console.error("End date must be greater than or equal to the start date"))}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}getUserDevices(){this.CompanyEmail=this.authService.getCompanyEmail(),this.CompanyEmail&&this.DashDataService.userDevices(this.CompanyEmail).subscribe(t=>{this.deviceOptions=t.devices},t=>{this.snackBar.open("Error while fetching user devices!","Dismiss",{duration:2e3})})}onNoClick(){this.dialogRef.close()}onSaveClick(){"Custom"===this.selectedRadioButton?this.start_date.valid&&this.end_date.valid?setTimeout(()=>{this.DashDataService.setDeviceId(this.deviceUID),this.DashDataService.setDeviceName(this.deviceName),this.DashDataService.setInterval("Custom"),this.DashDataService.setDeviceType(this.deviceType);const t=this.datePipe.transform(this.start_date.value,"yyyy-M-d");this.DashDataService.setStartDate(t);const a=this.datePipe.transform(this.end_date.value,"yyyy-M-d");this.DashDataService.setEndDate(a),this.dialogRef.close()},100):this.snackBar.open("Please Select appropriate values!","Dismiss",{duration:2e3}):"Last"===this.selectedRadioButton&&setTimeout(()=>{this.DashDataService.setDeviceId(this.deviceUID),this.DashDataService.setDeviceName(this.deviceName),this.DashDataService.setInterval(this.selectedDeviceInterval),this.DashDataService.setDeviceType(this.deviceType),this.DashDataService.setStartDate(""),this.DashDataService.setEndDate(""),this.dialogRef.close()},100)}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI),e.Y36(It.uU))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-filter"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:32,vars:7,consts:[[1,"container-fluid"],[1,"row","edit-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"edit-title"],[1,"row"],[1,"col-lg-12","mb-1"],["appearance","outline",1,"from-field"],["required","",3,"formControl","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngModel","ngModelChange"],[1,"col-lg-12"],["value","Last"],["value","Custom"],[1,"col-12","justify-content-center","d-flex","mb-2"],[1,"col"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value","click"],["appearance","outline",1,"from-field-sm"],["value","1hour"],["value","12hour"],["value","1day"],["value","7day"],["value","30day"],[1,"col-md-6"],["matInput","","placeholder","Start Date",3,"matDatepicker","max","formControl","dateChange"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","placeholder","End Date",3,"min","max","matDatepicker","formControl"],["endDatePicker",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit - Device Details"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device Name"),e.qZA(),e.TgZ(10,"mat-select",7),e.NdJ("ngModelChange",function(b){return a.deviceName=b}),e.YNc(11,za,2,2,"mat-option",8),e.qZA(),e.YNc(12,Br,2,0,"mat-error",9),e.qZA()(),e.TgZ(13,"div",5)(14,"mat-radio-group",10),e.NdJ("ngModelChange",function(b){return a.selectedRadioButton=b}),e.TgZ(15,"div",4)(16,"div",11)(17,"mat-radio-button",12),e._uU(18,"Last"),e.qZA(),e.YNc(19,on,15,1,"div",9),e.qZA(),e.TgZ(20,"div",11)(21,"mat-radio-button",13),e._uU(22,"Custom"),e.qZA(),e.YNc(23,ro,16,11,"div",9),e.qZA()()()(),e.TgZ(24,"div",14)(25,"div",4)(26,"div",15)(27,"button",16),e.NdJ("click",function(){return a.onNoClick()}),e._uU(28,"Close"),e.qZA()(),e.TgZ(29,"div",15)(30,"button",17),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(31,"Filter"),e.qZA()()()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.selectedDevice)("ngModel",a.deviceName),e.xp6(1),e.Q6J("ngForOf",a.deviceOptions),e.xp6(1),e.Q6J("ngIf",a.selectedDevice.invalid),e.xp6(2),e.Q6J("ngModel",a.selectedRadioButton),e.xp6(5),e.Q6J("ngIf","Last"===a.selectedRadioButton),e.xp6(4),e.Q6J("ngIf","Custom"===a.selectedRadioButton))},dependencies:[It.sg,It.O5,K.lW,ae.KE,ae.hX,ae.TO,ae.R9,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH,Xe,Ee,ce.On,pa,ao,Hi],styles:[".edit-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.edit-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}.from-field-sm[_ngcontent-%COMP%]{width:100%;padding-left:10%}"]}),h})();var ka=Pt(4128),Pn=Pt(2722),Vt=Pt(1572);function Kl(h,x){1&h&&(e.TgZ(0,"div",8),e._UZ(1,"mat-spinner",9),e.qZA())}function ec(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",14),e._uU(2,"Trigger: "),e.TgZ(3,"div",13),e._uU(4),e.qZA()()()),2&h){const t=e.oxw(2);e.xp6(4),e.Oqu(t.DeviceTrigger)}}function js(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"div",16),e._uU(4," Temperature R: "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()(),e.TgZ(7,"div",15)(8,"div",16),e._uU(9," Temperature Y: "),e.TgZ(10,"div",13),e._uU(11),e.qZA()()(),e.TgZ(12,"div",15)(13,"div",16),e._uU(14," Temperature B: "),e.TgZ(15,"div",13),e._uU(16),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(3),e.ekj("ryb-alert",t.DeviceTemperatureR>t.DeviceTrigger),e.xp6(3),e.Oqu(t.DeviceTemperatureR),e.xp6(2),e.ekj("ryb-alert",t.DeviceTemperatureY>t.DeviceTrigger),e.xp6(3),e.Oqu(t.DeviceTemperatureY),e.xp6(2),e.ekj("ryb-alert",t.DeviceTemperatureB>t.DeviceTrigger),e.xp6(3),e.Oqu(t.DeviceTemperatureB)}}function Zs(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"div",16),e._uU(4," Temperature : "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()(),e.TgZ(7,"div",15)(8,"div",17),e._uU(9," Humidity: "),e.TgZ(10,"div",13),e._uU(11),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.Oqu(t.DeviceTemperature),e.xp6(5),e.Oqu(t.DeviceHumidity)}}function zs(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"div",18),e._uU(4," Temperature : "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.Oqu(t.DeviceTemperature)}}function zo(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"div",18),e._uU(4," Humidity : "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.Oqu(t.DeviceHumidity)}}function Ys(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",19)(2,"div",20)(3,"div",17),e._uU(4," FlowRate: "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()(),e.TgZ(7,"div",20)(8,"div",17),e._uU(9," Today Consumption: "),e.TgZ(10,"div",13),e._uU(11),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.hij("",t.DeviceFlowRate," l/hr"),e.xp6(5),e.hij("",t.DeviceTodayConsumption," KL")}}function tc(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",15)(3,"div",21),e._uU(4," Pressure : "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.hij("",t.DevicePressure," m\xb3/hr")}}function Yo(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",19)(2,"div",20)(3,"div",17),e._uU(4," PressureRate: "),e.TgZ(5,"div",13),e._uU(6),e.qZA()()(),e.TgZ(7,"div",20)(8,"div",17),e._uU(9," Today Consumption: "),e.TgZ(10,"div",13),e._uU(11),e.qZA()()()()()),2&h){const t=e.oxw(2);e.xp6(6),e.hij("",t.DeviceFlowRate," kg/hr"),e.xp6(5),e.hij("",t.DeviceTodayConsumption," KG")}}function Vs(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card-content")(2,"div",10)(3,"mat-icon"),e._uU(4,"devices"),e.qZA(),e._uU(5," Device Panel "),e.TgZ(6,"button",11),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.refresh())}),e.TgZ(7,"mat-icon"),e._uU(8,"refresh"),e.qZA()()(),e.TgZ(9,"div",12),e._uU(10,"Device Name: "),e.TgZ(11,"div",13),e._uU(12),e.qZA()(),e.YNc(13,ec,5,1,"div",5),e.YNc(14,js,17,9,"div",5),e.YNc(15,Zs,12,2,"div",5),e.YNc(16,zs,7,1,"div",5),e.YNc(17,zo,7,1,"div",5),e.YNc(18,Ys,12,2,"div",5),e.YNc(19,tc,7,1,"div",5),e.YNc(20,Yo,12,2,"div",5),e.qZA()()}if(2&h){const t=e.oxw();e.xp6(12),e.Oqu(t.DeviceName),e.xp6(1),e.Q6J("ngIf","ryb"===t.DeviceType||"th"===t.DeviceType||"t"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ryb"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","th"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","t"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","h"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ws"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","ps"===t.DeviceType),e.xp6(1),e.Q6J("ngIf","fs"===t.DeviceType)}}function ic(h,x){1&h&&(e.TgZ(0,"div",8),e._UZ(1,"mat-spinner",9),e.qZA())}function Hs(h,x){if(1&h&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&h){const t=e.oxw(2);e.xp6(1),e.hij("Last Interval - ",t.getDisplayText(),"")}}function Ws(h,x){if(1&h&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&h){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getFormattedDateRange())}}function nc(h,x){if(1&h&&(e.TgZ(0,"div")(1,"mat-card-content")(2,"div",22)(3,"div",23)(4,"div",24)(5,"div",25),e._uU(6,"Filter Applied:- "),e.YNc(7,Hs,2,1,"div",26),e.YNc(8,Ws,2,1,"div",26),e.qZA()()()()()()),2&h){const t=e.oxw();e.xp6(7),e.Q6J("ngIf","1hour"===t.deviceINTERVAL||"12hour"===t.deviceINTERVAL||"1day"===t.deviceINTERVAL||"7day"===t.deviceINTERVAL||"30day"===t.deviceINTERVAL),e.xp6(1),e.Q6J("ngIf","Custom"===t.deviceINTERVAL)}}function Gs(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",3)(2,"mat-card-content"),e._UZ(3,"div",27),e.qZA()(),e.TgZ(4,"mat-card",3)(5,"mat-card-content"),e._UZ(6,"div",28),e.qZA()()())}function ac(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",29)(2,"mat-card-content"),e._UZ(3,"div",30),e.qZA()()())}function rc(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",29)(2,"mat-card-content"),e._UZ(3,"div",31),e.qZA()()())}function oo(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",3)(2,"mat-card-content"),e._UZ(3,"div",32),e.qZA()(),e.TgZ(4,"mat-card",3)(5,"mat-card-content"),e._UZ(6,"div",33),e.qZA()()())}function Js(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",3)(2,"mat-card-content"),e._UZ(3,"div",32),e.qZA()(),e.TgZ(4,"mat-card",3)(5,"mat-card-content"),e._UZ(6,"div",33),e.qZA()()())}function Qs(h,x){1&h&&(e.TgZ(0,"div")(1,"mat-card",29)(2,"mat-card-content"),e._UZ(3,"div",34),e.qZA()()())}id()(Fa);let Vo=(()=>{class h{constructor(t,a,v,b,V,tt){this.dialog=t,this.DashDataService=a,this.authService=v,this.snackBar=b,this.datePipe=V,this.router=tt,this.destroy$=new T.x,this.deviceOptions=[],this.selectedDeviceInterval="1hour",this.temperatureData=[],this.temperatureRData=[],this.temperatureYData=[],this.temperatureBData=[],this.humidityData=[],this.flowRateData=[],this.pressureData=[],this.timestampData=[],this.consumptionData=[],this.loading1=!0}ngOnInit(){this.retrievingValues()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDisplayText(){switch(this.deviceINTERVAL){case"1hour":return"1 Hour";case"12hour":return"12 Hours";case"1day":return"1 Day";case"7day":return"7 Days";case"30day":return"30 Days";default:return""}}getFormattedDateRange(){const t=new Date(this.deviceSTART),a=new Date(this.deviceEND),v=t.toLocaleString("default",{month:"short"}),b=a.toLocaleString("default",{month:"short"});return`${v} ${t.getDate()}, ${t.getFullYear()} to ${b} ${a.getDate()}, ${a.getFullYear()}`}getUserDevices(){this.CompanyEmail=this.authService.getCompanyEmail(),this.CompanyEmail&&this.DashDataService.userDevices(this.CompanyEmail).subscribe(t=>{this.deviceOptions=t.devices,this.deviceOptions.length>0&&(this.deviceID=this.deviceOptions[0].DeviceUID,this.DeviceType=this.deviceOptions[0].DeviceType,this.deviceINTERVAL="1hour",this.DeviceName=this.deviceOptions[0].DeviceName,this.DashDataService.setDeviceId(this.deviceID),this.DashDataService.setDeviceType(this.DeviceType),this.DashDataService.setInterval(this.deviceINTERVAL),this.DashDataService.setDeviceName(this.DeviceName),setTimeout(()=>{this.retrievingAllValues(),this.fetchDeviceInfo(this.deviceID),this.router.navigate([this.router.url])},100))},t=>{this.snackBar.open("Error while fetching data!","Dismiss",{duration:2e3})})}retrievingValues(){this.loading1=!0,this.deviceID=this.DashDataService.getDeviceId()||"",this.DeviceType=this.DashDataService.getDeviceType()||"",this.deviceINTERVAL=this.DashDataService.getInterval()||"",this.deviceSTART=this.DashDataService.getStartDate()||"",this.deviceEND=this.DashDataService.getEndDate()||"",setTimeout(()=>{this.deviceID&&this.DeviceType&&this.deviceINTERVAL?this.retrievingAllValues():this.getUserDevices()},100)}retrievingAllValues(){var t=this;return(0,Lo.Z)(function*(){try{let a,v;t.fetchDeviceInfo(t.deviceID),"ws"===t.DeviceType||"fs"===t.DeviceType?(a="Custom"===t.deviceINTERVAL?t.DashDataService.getCustomConsumption(t.deviceID,t.deviceSTART,t.deviceEND).pipe((0,Pn.R)(t.destroy$)).toPromise():t.DashDataService.getIntervalConsumption(t.deviceID,t.deviceINTERVAL).pipe((0,Pn.R)(t.destroy$)).toPromise(),v="Custom"===t.deviceINTERVAL?t.DashDataService.DataByCustomDate(t.deviceID,t.deviceSTART,t.deviceEND).pipe((0,Pn.R)(t.destroy$)).toPromise():t.DashDataService.dataLast(t.deviceID,t.deviceINTERVAL).pipe((0,Pn.R)(t.destroy$)).toPromise()):("t"===t.DeviceType||"th"===t.DeviceType||"ryb"===t.DeviceType||"h"===t.DeviceType||"ps"===t.DeviceType)&&(v="Custom"===t.deviceINTERVAL?t.DashDataService.DataByCustomDate(t.deviceID,t.deviceSTART,t.deviceEND).pipe((0,Pn.R)(t.destroy$)).toPromise():t.DashDataService.dataLast(t.deviceID,t.deviceINTERVAL).pipe((0,Pn.R)(t.destroy$)).toPromise());const[b,V]=yield Promise.all([a,v]);t.processChartData(V),b&&t.processChartDataWS(b),t.router.navigate([t.router.url])}catch{}})()}createDonutChart(t){const a=t.map(b=>{const V=parseFloat(b.percentage.toFixed(2));let tt;tt="online"===b.status?{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#78f5e6"],[1,"#43ab72"]]}:"heating"===b.status?{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#f0afad"],[1,"rgba(255, 0, 0, 1)"]]}:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#E0E0E0"],[1,"#B1B1B1"]]};const Wt=b.count>=180?(b.count/180).toFixed(2)+" hrs":(b.count/3).toFixed(2)+" mins";return{name:b.status,y:V,color:tt,time:Wt}});Fa.chart("donutChart",{chart:{type:"pie"},title:{text:"   "},credits:{enabled:!1},plotOptions:{pie:{innerSize:"50%"}},tooltip:{pointFormat:"{series.name}: <b>{point.y}%</b> <br><b>({point.time})<b>"},series:[{type:"pie",name:"Time",data:a}]})}createChart(){Fa.chart("curvedLineChart",{chart:{type:"spline",zoomType:"xy"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime",timezoneOffset:330},yAxis:{title:{text:"Temperature"}},series:[{name:"Temperature",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(255, 0, 0, 1)"],[1,"rgba(255, 255, 0, 0.3)"]]},data:this.temperatureData,marker:{radius:3}}]})}createChart2(){Fa.chart("curvedLineChart2",{chart:{type:"spline"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime"},yAxis:{title:{text:"Humidity"}},series:[{name:"Humitidy",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(0, 0, 255, 1)"],[1,"rgba(0, 255, 255, 0.3)"]]},data:this.humidityData,marker:{radius:3}}]})}createChart3(){Fa.chart("curvedLineChart3",{chart:{type:"spline"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime",timezoneOffset:330},yAxis:{title:{text:"Flow Rate"}},series:[{name:"Flow Rate",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(0, 0, 255, 1)"],[1,"rgba(0, 255, 255, 0.3)"]]},data:this.flowRateData,marker:{radius:3}}]})}createChart4(){Fa.chart("curvedLineChart4",{chart:{type:"spline"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime",timezoneOffset:330},yAxis:{title:{text:"Pressure"}},series:[{name:"Pressure",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(0, 0, 255, 1)"],[1,"rgba(0, 255, 255, 0.3)"]]},data:this.pressureData,marker:{radius:3}}]})}createTemperature(){Fa.chart("temperatureRYB",{chart:{type:"spline"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime",timezoneOffset:330},yAxis:{title:{text:"Temperature RYB"}},series:[{name:"Temperature R",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(255, 0, 0, 1)"],[1,"rgba(255, 255, 0, 0.3)"]]},data:this.temperatureRData,marker:{radius:3},lineWidth:2},{name:"Temperature B",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(0, 0, 255, 1)"],[1,"rgba(0, 255, 255, 0.3)"]]},data:this.temperatureBData,marker:{radius:3},lineWidth:2},{name:"Temperature Y",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(255, 255, 0, 0.3)"],[1,"rgba(255, 0, 0, 1)"]]},data:this.temperatureYData,marker:{radius:3},lineWidth:2}]})}createBarGraph(){Fa.chart("barChart",{chart:{type:"column"},title:{text:""},credits:{enabled:!1},xAxis:{type:"datetime",timezoneOffset:330},yAxis:{title:{text:"Total Comsumption"}},series:[{name:"Total Comsumption",color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(0, 0, 255, 1)"],[1,"rgba(0, 255, 255, 0.3)"]]},data:this.consumptionData}]})}openFilterDailog(){const t=new we.vA;t.width="500px",t.height="auto",t.maxWidth="90vw",this.dialog.open(qr,t).afterClosed().subscribe(v=>{this.retrievingValues()})}processChartData(t){const a=t.data;console.log(a);const v=198e5,b=(V,tt)=>[new Date(V.bucket_start_time).getTime()+v,tt?parseFloat(V[tt]):V[tt]];switch(this.temperatureData=a.map(V=>b(V,"Temperature")),this.humidityData=a.map(V=>b(V,"Humidity")),this.temperatureRData=a.map(V=>b(V,"TemperatureR")),this.temperatureYData=a.map(V=>b(V,"TemperatureY")),this.temperatureBData=a.map(V=>b(V,"TemperatureB")),this.timestampData=a.map(V=>new Date(V.bucket_start_time).getTime()+v),this.flowRateData=a.map(V=>b(V,"flowRate")),this.pressureData=a.map(V=>b(V,"Pressure")),this.DeviceType){case"th":this.createChart(),this.createChart2();break;case"t":this.createChart();break;case"h":this.createChart2();break;case"ryb":this.createTemperature();break;case"ws":case"fs":this.createChart3(),this.createBarGraph();break;case"ps":this.createChart4();break;default:this.snackBar.open("Device Type is not found!","Dismiss",{duration:2e3})}}processChartDataWS(t){this.consumptionData=t.data.map(b=>[new Date(b.TimeStamp).getTime()+198e5,b.totalVolume]),this.createBarGraph()}fetchDeviceInfo(t){const a=this.DashDataService.deviceDetails(t),v=this.DashDataService.deviceStatus(t),b=this.DashDataService.deviceTrigger(t);(0,ka.D)([a,v,b]).pipe((0,Pn.R)(this.destroy$)).subscribe(([V,tt,Wt])=>{this.DeviceName=V[0].DeviceName,this.DeviceStatus=tt[0].Status;const ai=tt[0].TimeStamp;this.DeviceTemperature=tt[0].Temperature,this.DeviceTemperatureR=parseFloat(tt[0].TemperatureR),this.DeviceTemperatureY=parseFloat(tt[0].TemperatureY),this.DeviceTemperatureB=parseFloat(tt[0].TemperatureB),this.DeviceHumidity=tt[0].Humidity,this.DevicePressure=tt[0].Pressure,this.DeviceFlowRate=tt[0].flowRate,this.DeviceLastUpdatedTime=this.formatTime(ai),this.DeviceTrigger=Wt[0].TriggerValue,("ws"===this.DeviceType||"fs"===this.DeviceType)&&this.DashDataService.getTotalConsumpion(t).pipe((0,Pn.R)(this.destroy$)).subscribe(di=>{this.DeviceTodayConsumption=di.length>0&&null!=di[0].totalVolume&&0!==di[0].totalVolume?(di[0].totalVolume/1e3).toFixed(2):0}),this.loading1=!1},V=>{this.snackBar.open("Error while fetching last data!","Dismiss",{duration:2e3})})}formatTime(t){const a=new Date,b=new Date(new Date(t).getTime()+198e5),V=Math.abs(a.getTime()-b.getTime())/1e3;return V<60?`${Math.floor(V)} sec ago`:V<3600?`${Math.floor(V/60)} min ago`:V<86400?`${Math.floor(V/3600)} hour ago`:this.datePipe.transform(b,"yyyy-MM-dd hh:mm:ss")||""}refresh(){this.deviceID&&this.fetchDeviceInfo(this.deviceID)}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(we.uw),e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(It.uU),e.Y36(mn.F0))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-data"]],decls:19,vars:10,consts:[[1,"data","container-fluid"],[1,"row","mb-2"],[1,"col-lg-4","col-md-12","col-sm-12","mb-2"],[1,"mb-2","data-charts"],["class","spinner-container",4,"ngIf"],[4,"ngIf"],[1,"col-lg-8","col-md-12","col-sm-12","mb-2"],["mat-mini-fab","",1,"filter-button",3,"click"],[1,"spinner-container"],[1,"custom-spinner"],[1,"panel-title"],["mat-icon-button","","color","primary",1,"refresh-button",3,"click"],[1,"panel-device-name","d-flex"],[1,"ms-auto"],[1,"panel-device-trigger","d-flex"],[1,"col-lg-12","col-md-4"],[1,"temp","ryb-th-t","d-flex"],[1,"temp","th-hum","d-flex"],[1,"temp","th-temp","d-flex"],[1,"row","pt-2","mb-2"],[1,"col-lg-12","col-md-6","pt-2","mb-2"],[1,"temp","th-ps","d-flex"],[1,"container-fluid"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"interval","d-flex"],["class","ms-auto",4,"ngIf"],["id","curvedLineChart",1,"chart-container"],["id","curvedLineChart2",1,"chart-container"],[1,"mb-2","data-charts-2"],["id","curvedLineChart",1,"chart-container-2"],["id","temperatureRYB",1,"chart-container-2"],["id","curvedLineChart3",1,"chart-container"],["id","barChart",1,"chart-container"],["id","curvedLineChart4",1,"chart-container-2"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3),e.YNc(4,Kl,2,0,"div",4),e.YNc(5,Vs,21,9,"div",5),e.qZA(),e.TgZ(6,"mat-card",3),e.YNc(7,ic,2,0,"div",4),e.YNc(8,nc,9,2,"div",5),e.qZA()(),e.TgZ(9,"div",6),e.YNc(10,Gs,7,0,"div",5),e.YNc(11,ac,4,0,"div",5),e.YNc(12,rc,4,0,"div",5),e.YNc(13,oo,7,0,"div",5),e.YNc(14,Js,7,0,"div",5),e.YNc(15,Qs,4,0,"div",5),e.qZA()()(),e.TgZ(16,"button",7),e.NdJ("click",function(){return a.openFilterDailog()}),e.TgZ(17,"mat-icon"),e._uU(18,"filter_list"),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",a.loading1),e.xp6(1),e.Q6J("ngIf",!a.loading1),e.xp6(2),e.Q6J("ngIf",a.loading1),e.xp6(1),e.Q6J("ngIf",!a.loading1),e.xp6(2),e.Q6J("ngIf","th"===a.DeviceType),e.xp6(1),e.Q6J("ngIf","t"===a.DeviceType),e.xp6(1),e.Q6J("ngIf","ryb"===a.DeviceType),e.xp6(1),e.Q6J("ngIf","ws"===a.DeviceType),e.xp6(1),e.Q6J("ngIf","fs"===a.DeviceType),e.xp6(1),e.Q6J("ngIf","ps"===a.DeviceType))},dependencies:[It.O5,wt.Hw,K.RK,K.nh,Tt.a8,Tt.dn,Vt.Ou],styles:[".data[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}.data-charts[_ngcontent-%COMP%]{height:38vh;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.data-charts-2[_ngcontent-%COMP%]{height:77vh;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:18px;font-weight:550;color:#3f51b5}.refresh-button[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;cursor:pointer}.online[_ngcontent-%COMP%]{background:linear-gradient(to right,#3c9e55,#00FFFF);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}.offline[_ngcontent-%COMP%]{background:linear-gradient(to right,#808080,#A9A9A9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}.heating[_ngcontent-%COMP%]{background:linear-gradient(to right,#FF0000,#FFA500);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}.panel-device-name[_ngcontent-%COMP%]{background:linear-gradient(to right,#3F51B5,#125ee0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;font-size:1.2rem;font-weight:550;text-align:left}.panel-device-trigger[_ngcontent-%COMP%]{background:linear-gradient(to right,#FF0000,#FFA500);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;font-size:1.2rem;font-weight:550;text-align:right}.panel-device-status[_ngcontent-%COMP%]{font-weight:500;font-size:5rem;text-align:center}.panel-device-time[_ngcontent-%COMP%]{font-weight:550;position:absolute;bottom:10px;right:10px;margin:0;font-size:14px;font-style:italic}.chart-container[_ngcontent-%COMP%]{height:35vh;display:flex;align-items:center;justify-content:center}.chart-container-2[_ngcontent-%COMP%]{height:77vh;display:flex;align-items:center;justify-content:center}#donutChart[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.filter-button[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:25px;background-color:#3f51b5;color:#f5f5f5}.temp[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:550}.ryb-th-t[_ngcontent-%COMP%]{background:linear-gradient(to right,#0572a1,#4291b3,#6598ad);-webkit-background-clip:text;background-clip:text;color:transparent}.ryb-alert[_ngcontent-%COMP%], .th-temp[_ngcontent-%COMP%]{background:linear-gradient(to right,#eb4034,#d4857f,#ff0000);-webkit-background-clip:text;background-clip:text;color:transparent}.th-ps[_ngcontent-%COMP%], .th-hum[_ngcontent-%COMP%]{background:linear-gradient(to right,#0572a1,#4291b3,#6598ad);-webkit-background-clip:text;background-clip:text;color:transparent}.t[_ngcontent-%COMP%], .ws[_ngcontent-%COMP%], .fs[_ngcontent-%COMP%]{background:linear-gradient(to right,#eb4034,#d4857f,#ff0000);-webkit-background-clip:text;background-clip:text;color:transparent}.interval[_ngcontent-%COMP%]{font-size:1rem;font-weight:550}@media (max-width:425px){.data[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.data-charts[_ngcontent-%COMP%]{height:auto;width:100%}}@media (min-width:425px) and (max-width:576px){.data[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.data-charts[_ngcontent-%COMP%]{height:auto;width:100%}}@media (min-width:576px) and (max-width:1024px){.data[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.data-charts[_ngcontent-%COMP%]{height:auto;width:100%}}@media screen and (max-height: 500px){.panel-title[_ngcontent-%COMP%]{font-size:14px}.panel-device-name[_ngcontent-%COMP%], .panel-device-trigger[_ngcontent-%COMP%]{font-size:1rem}.panel-device-status[_ngcontent-%COMP%]{font-size:1.5rem}.panel-device-time[_ngcontent-%COMP%]{font-size:.8rem}}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.custom-spinner[_ngcontent-%COMP%]{width:15px;height:15px}"]}),h})();function cr(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.updateCompany())}),e._uU(2,"Update"),e.qZA()()}}function so(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.updatePersonal())}),e._uU(2,"Update"),e.qZA()()}}function Xs(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.updatePassword())}),e._uU(2,"Update"),e.qZA()()}}let $s=(()=>{class h{constructor(t,a,v,b){this.dashService=t,this.authService=a,this.DashDataService=v,this.snackBar=b,this.password="",this.CPassword="",this.hidePassword=!0,this.hideConfirmPassword=!0,this.cancelCompany=!1,this.cancelPersonal=!1,this.cancelPassword=!1}ngOnInit(){this.fetchUserData(),this.dashService.isPageLoading(!0)}toggleCompany(){this.cancelCompany=!this.cancelCompany}togglePersonal(){this.cancelPersonal=!this.cancelPersonal}togglePassword(){this.cancelPassword=!this.cancelPassword}fetchUserData(){this.userId=sessionStorage.getItem("UserId"),this.userId?this.DashDataService.userDetails(this.userId).subscribe(t=>{this.fname=t[0].FirstName,this.lname=t[0].LastName,this.companyEmail=t[0].CompanyEmail,this.personalEmail=t[0].PersonalEmail,this.companyName=t[0].CompanyName,this.location=t[0].Location,this.designation=t[0].Designation,this.contactNo=t[0].ContactNo,this.dashService.isPageLoading(!1)},t=>{this.snackBar.open("Error for getting details!","Dismiss",{duration:2e3})}):this.snackBar.open("UserId is not available!","Dismiss",{duration:2e3})}updatePersonal(){this.userId?this.DashDataService.updatePersonal(this.userId,{FirstName:this.fname,LastName:this.lname}).subscribe(()=>{this.snackBar.open("Successfully Updated!","Dismiss",{duration:2e3}),this.fetchUserData(),this.togglePersonal()},a=>{this.snackBar.open("Error for getting details!","Dismiss",{duration:2e3})}):this.snackBar.open("UserId is not available!","Dismiss",{duration:2e3})}updateCompany(){this.userId?this.DashDataService.updateCompany(this.userId,{Designation:this.designation,ContactNo:this.contactNo,Location:this.location}).subscribe(()=>{this.snackBar.open("Successfully Updated!","Dismiss",{duration:2e3}),this.fetchUserData(),this.toggleCompany()},a=>{this.snackBar.open("Error for getting details!","Dismiss",{duration:2e3})}):this.snackBar.open("UserId is not available!","Dismiss",{duration:2e3})}updatePassword(){this.password===this.CPassword?this.userId?this.DashDataService.updatePassword(this.userId,{Password:this.password}).subscribe(()=>{this.snackBar.open("Successfully updated password!","Dismiss",{duration:2e3}),this.fetchUserData(),this.togglePassword()},a=>{this.snackBar.open("Error updating password!","Dismiss",{duration:2e3})}):this.snackBar.open("UserId is not available!","Dismiss",{duration:2e3}):this.snackBar.open("Passwords do not match!","Dismiss",{duration:2e3})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(bt.k),e.Y36(he.e),e.Y36(J),e.Y36(me.ux))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-profile"]],decls:107,vars:36,consts:[[1,"profile","container"],[1,"row","mb-1"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"title-card"],[1,"d-flex"],[1,"title-card-head"],[1,"ms-auto","title-card-head"],[1,"col-lg-6","mb-3"],[1,"prs-card"],[1,"row"],[1,"col-lg-12","d-flex","mb-3"],[1,"me-auto","profile-title"],["mat-icon-button","","aria-label","edit",1,"minimized-button","ms-auto",3,"color","click"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"avatar"],["src","../../../../assets/img/profile.gif","alt","Avatar"],[1,"col-lg-8","col-md-8","col-sm-12"],[1,"col-lg-12"],[1,"form-field"],["matInput","","required","","disabled","",3,"ngModel","ngModelChange"],["matInput","","disabled","",3,"ngModel","ngModelChange"],[1,"col-lg-6"],["matInput","","required","",3,"ngModel","disabled","ngModelChange"],["matInput","",3,"ngModel","disabled","ngModelChange"],["class","col-lg-12 text-center",4,"ngIf"],[1,"mb-3","cmn-card","cmn-card-left"],[1,"mb-3","cmn-card","cmn-card-right"],["matInput","",3,"type","ngModel","disabled","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-lg-12","text-center"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content")(5,"div",4)(6,"p",5),e._uU(7),e.qZA(),e.TgZ(8,"p",6),e._uU(9,"Welcome to the Dashbord"),e.qZA()()()()(),e.TgZ(10,"div",7)(11,"mat-card",8)(12,"mat-card-content")(13,"div",9)(14,"div",10)(15,"h6",11),e._uU(16,"Company Details"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return a.toggleCompany()}),e.TgZ(18,"mat-icon"),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",9)(21,"div",13)(22,"div",14),e._UZ(23,"img",15),e.qZA()(),e.TgZ(24,"div",16)(25,"div",9)(26,"div",17)(27,"mat-form-field",18)(28,"mat-label"),e._uU(29,"Company Name"),e.qZA(),e.TgZ(30,"input",19),e.NdJ("ngModelChange",function(b){return a.companyName=b}),e.qZA()()(),e.TgZ(31,"div",17)(32,"mat-form-field",18)(33,"mat-label"),e._uU(34,"Company Email"),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(b){return a.companyEmail=b}),e.qZA()()()()()(),e.TgZ(36,"div",9)(37,"div",21)(38,"mat-form-field",18)(39,"mat-label"),e._uU(40,"Contact No"),e.qZA(),e.TgZ(41,"input",22),e.NdJ("ngModelChange",function(b){return a.contactNo=b}),e.qZA()()(),e.TgZ(42,"div",21)(43,"mat-form-field",18)(44,"mat-label"),e._uU(45,"Location"),e.qZA(),e.TgZ(46,"input",22),e.NdJ("ngModelChange",function(b){return a.location=b}),e.qZA()()(),e.TgZ(47,"div",17)(48,"mat-form-field",18)(49,"mat-label"),e._uU(50,"Designation"),e.qZA(),e.TgZ(51,"input",23),e.NdJ("ngModelChange",function(b){return a.designation=b}),e.qZA()()(),e.YNc(52,cr,3,0,"div",24),e.qZA()()()(),e.TgZ(53,"div",7)(54,"mat-card",25)(55,"mat-card-content")(56,"div",9)(57,"div",10)(58,"h6",11),e._uU(59,"Personal Details"),e.qZA(),e.TgZ(60,"button",12),e.NdJ("click",function(){return a.togglePersonal()}),e.TgZ(61,"mat-icon"),e._uU(62),e.qZA()()()(),e.TgZ(63,"div",9)(64,"div",21)(65,"mat-form-field",18)(66,"mat-label"),e._uU(67,"First name"),e.qZA(),e.TgZ(68,"input",22),e.NdJ("ngModelChange",function(b){return a.fname=b}),e.qZA()()(),e.TgZ(69,"div",21)(70,"mat-form-field",18)(71,"mat-label"),e._uU(72,"Last Name"),e.qZA(),e.TgZ(73,"input",22),e.NdJ("ngModelChange",function(b){return a.lname=b}),e.qZA()()(),e.TgZ(74,"div",17)(75,"mat-form-field",18)(76,"mat-label"),e._uU(77,"Personal Email"),e.qZA(),e.TgZ(78,"input",20),e.NdJ("ngModelChange",function(b){return a.personalEmail=b}),e.qZA()()(),e.YNc(79,so,3,0,"div",24),e.qZA()()(),e.TgZ(80,"mat-card",26)(81,"mat-card-content")(82,"div",9)(83,"div",10)(84,"h6",11),e._uU(85,"Update Password"),e.qZA(),e.TgZ(86,"button",12),e.NdJ("click",function(){return a.togglePassword()}),e.TgZ(87,"mat-icon"),e._uU(88),e.qZA()()()(),e.TgZ(89,"div",9)(90,"div",21)(91,"mat-form-field")(92,"mat-label"),e._uU(93,"New Password"),e.qZA(),e.TgZ(94,"input",27),e.NdJ("ngModelChange",function(b){return a.password=b}),e.qZA(),e.TgZ(95,"button",28),e.NdJ("click",function(){return a.hidePassword=!a.hidePassword}),e.TgZ(96,"mat-icon"),e._uU(97),e.qZA()()()(),e.TgZ(98,"div",21)(99,"mat-form-field")(100,"mat-label"),e._uU(101,"Confirm password"),e.qZA(),e.TgZ(102,"input",27),e.NdJ("ngModelChange",function(b){return a.CPassword=b}),e.qZA(),e.TgZ(103,"button",28),e.NdJ("click",function(){return a.hideConfirmPassword=!a.hideConfirmPassword}),e.TgZ(104,"mat-icon"),e._uU(105),e.qZA()()()(),e.YNc(106,Xs,3,0,"div",24),e.qZA()()()()()()),2&t&&(e.xp6(7),e.AsE("Hello, ",a.fname," ",a.lname,""),e.xp6(10),e.s9C("color",a.cancelCompany?"accent":"warn"),e.xp6(2),e.Oqu(a.cancelCompany?"cancel":"edit"),e.xp6(11),e.Q6J("ngModel",a.companyName),e.xp6(5),e.Q6J("ngModel",a.companyEmail),e.xp6(6),e.Q6J("ngModel",a.contactNo)("disabled",!a.cancelCompany),e.xp6(5),e.Q6J("ngModel",a.location)("disabled",!a.cancelCompany),e.xp6(5),e.Q6J("ngModel",a.designation)("disabled",!a.cancelCompany),e.xp6(1),e.Q6J("ngIf",a.cancelCompany),e.xp6(8),e.s9C("color",a.cancelPersonal?"accent":"warn"),e.xp6(2),e.Oqu(a.cancelPersonal?"cancel":"edit"),e.xp6(6),e.Q6J("ngModel",a.fname)("disabled",!a.cancelPersonal),e.xp6(5),e.Q6J("ngModel",a.lname)("disabled",!a.cancelPersonal),e.xp6(5),e.Q6J("ngModel",a.personalEmail),e.xp6(1),e.Q6J("ngIf",a.cancelPersonal),e.xp6(7),e.s9C("color",a.cancelPassword?"accent":"warn"),e.xp6(2),e.Oqu(a.cancelPassword?"cancel":"edit"),e.xp6(6),e.Q6J("type",a.hidePassword?"password":"text")("ngModel",a.password)("disabled",!a.cancelPassword),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",a.hidePassword),e.xp6(2),e.Oqu(a.hidePassword?"visibility_off":"visibility"),e.xp6(5),e.Q6J("type",a.hideConfirmPassword?"password":"text")("ngModel",a.CPassword)("disabled",!a.cancelPassword),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",a.hideConfirmPassword),e.xp6(2),e.Oqu(a.hideConfirmPassword?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",a.cancelPassword))},dependencies:[It.O5,wt.Hw,K.lW,K.RK,Tt.a8,Tt.dn,ae.KE,ae.hX,ae.R9,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.On],styles:[".title-card[_ngcontent-%COMP%]{border-left:20px solid #3F51B5;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);height:75%;font-weight:600}.prs-card[_ngcontent-%COMP%]{border-bottom:20px solid #3F51B5;height:auto;width:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.cmn-card[_ngcontent-%COMP%]{height:auto;width:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.cmn-card-left[_ngcontent-%COMP%]{border-left:20px solid #3F51B5}.cmn-card-right[_ngcontent-%COMP%]{border-right:20px solid #3F51B5}.profile[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}.user-container[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#f5f5f5;overflow:hidden}.circle-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-field[_ngcontent-%COMP%]{width:100%}.profile-title[_ngcontent-%COMP%]{color:#3f51b5;font-size:20px}.profile-info[_ngcontent-%COMP%]{font-size:16px;font-weight:550;color:gray}.minimized-button[_ngcontent-%COMP%]{width:30px;height:30px;align-items:center;justify-content:center;padding:0}.minimized-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{line-height:30px}.minimized-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px}.avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:150px;height:150px;border-radius:50%;overflow:hidden;margin-bottom:20px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width:425px){.profile[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.title-card-head[_ngcontent-%COMP%]{font-size:13px}.user-container[_ngcontent-%COMP%]{width:100px;height:100px}}@media (min-width:425px) and (max-width:576px){.profile[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.title-card-head[_ngcontent-%COMP%]{font-size:15px}.user-container[_ngcontent-%COMP%]{width:125px;height:125px}}@media (min-width:576px) and (max-width:1024px){.profile[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.title-card-head[_ngcontent-%COMP%]{font-size:15px}}@media (min-width:1024px) and (max-width:1440px){.profile[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}.title-card-head[_ngcontent-%COMP%]{font-size:15px}}.avatar-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin-right:40px;margin-top:30px}.avatar-image[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:50%}"]}),h})();function Ks(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"First Name is Required."),e.qZA())}function oc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Last Name is Required."),e.qZA())}function sc(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getPersonalEmailErrorMessage())}}function el(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Contact No is Required."),e.qZA())}function Ho(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Location is Required."),e.qZA())}function Rn(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Designation is Required."),e.qZA())}function tl(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"User Type is Required."),e.qZA())}let On=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.FirstName=new ce.NI("",[ce.kI.required]),this.LastName=new ce.NI("",[ce.kI.required]),this.PersonalEmail=new ce.NI("",[ce.kI.required,ce.kI.email]),this.ContactNo=new ce.NI("",[ce.kI.required]),this.UserType=new ce.NI("",[ce.kI.required]),this.Location=new ce.NI("",[ce.kI.required]),this.Designation=new ce.NI("",[ce.kI.required])}ngOnInit(){this.companyDetails()}getPersonalEmailErrorMessage(){return this.PersonalEmail.hasError("required")?"Email is Required":this.PersonalEmail.hasError("email")?"Not a valid email":""}onNoClick(){this.dialogRef.close()}onSaveClick(){this.FirstName.valid&&this.LastName.valid&&this.PersonalEmail.valid&&this.ContactNo.valid&&this.UserType.valid&&this.Location.valid&&this.Designation.valid&&this.DashDataService.addUser({companyName:this.CompanyName,companyEmail:this.CompanyEmail,contact:this.ContactNo.value,location:this.Location.value,firstName:this.FirstName.value,lastName:this.LastName.value,personalEmail:this.PersonalEmail.value,designation:this.Designation.value,password:this.PersonalEmail.value,userType:this.UserType.value}).subscribe(()=>{this.snackBar.open("User Added Successful!","Dismiss",{duration:2e3}),this.dialogRef.close()},a=>{this.snackBar.open(a.error.message||"Failed to add User. Please try again.","Dismiss",{duration:2e3}),this.dialogRef.close()})}companyDetails(){this.userId=sessionStorage.getItem("UserId"),this.userId&&this.DashDataService.userDetails(this.userId).subscribe(t=>{this.CompanyEmail=t[0].CompanyEmail,this.CompanyName=t[0].CompanyName},t=>{this.snackBar.open(t.error.message||"Error While Fetching the Compnay Details.","Dismiss",{duration:2e3})})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-add-user"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:58,vars:14,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"model-title"],[1,"row"],[1,"col-md-6","mb-2"],[1,"from-field"],["matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"col-md-12","mb-2"],[3,"formControl"],["value","Admin"],["value","Standard"],[1,"col-md-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Add User to Dashboard"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"First Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Ks,2,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Last Name"),e.qZA(),e._UZ(16,"input",7),e.YNc(17,oc,2,0,"mat-error",8),e.qZA()(),e.TgZ(18,"div",9)(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Personal Email"),e.qZA(),e._UZ(22,"input",7),e.YNc(23,sc,2,1,"mat-error",8),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"Contact No"),e.qZA(),e._UZ(28,"input",7),e.YNc(29,el,2,0,"mat-error",8),e.qZA()(),e.TgZ(30,"div",5)(31,"mat-form-field",6)(32,"mat-label"),e._uU(33,"Location"),e.qZA(),e._UZ(34,"input",7),e.YNc(35,Ho,2,0,"mat-error",8),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Designation"),e.qZA(),e._UZ(40,"input",7),e.YNc(41,Rn,2,0,"mat-error",8),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-form-field",6)(44,"mat-label"),e._uU(45,"User Type"),e.qZA(),e.TgZ(46,"mat-select",10)(47,"mat-option",11),e._uU(48,"Admin"),e.qZA(),e.TgZ(49,"mat-option",12),e._uU(50,"Standard"),e.qZA()(),e.YNc(51,tl,2,0,"mat-error",8),e.qZA()(),e.TgZ(52,"div",13)(53,"button",14),e.NdJ("click",function(){return a.onNoClick()}),e._uU(54,"Close"),e.qZA()(),e.TgZ(55,"div",5)(56,"button",15),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(57,"Save"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.FirstName),e.xp6(1),e.Q6J("ngIf",a.FirstName.invalid),e.xp6(5),e.Q6J("formControl",a.LastName),e.xp6(1),e.Q6J("ngIf",a.LastName.invalid),e.xp6(5),e.Q6J("formControl",a.PersonalEmail),e.xp6(1),e.Q6J("ngIf",a.PersonalEmail.invalid),e.xp6(5),e.Q6J("formControl",a.ContactNo),e.xp6(1),e.Q6J("ngIf",a.ContactNo.invalid),e.xp6(5),e.Q6J("formControl",a.Location),e.xp6(1),e.Q6J("ngIf",a.Location.invalid),e.xp6(5),e.Q6J("formControl",a.Designation),e.xp6(1),e.Q6J("ngIf",a.Location.invalid),e.xp6(5),e.Q6J("formControl",a.UserType),e.xp6(5),e.Q6J("ngIf",a.UserType.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();function Ta(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Name is Required."),e.qZA())}function lc(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getThresholdErrorMessage())}}function cc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Unique ID is Required."),e.qZA())}function Xn(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Location is Required."),e.qZA())}function dc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Type is Required."),e.qZA())}let il=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.errorMessage="",this.TriggerValue=new ce.NI("",[ce.kI.required,ce.kI.pattern(/^\d*\.?\d+$/),ce.kI.min(0),ce.kI.max(100)]),this.DeviceName=new ce.NI("",[ce.kI.required]),this.DeviceUID=new ce.NI("",[ce.kI.required]),this.DeviceLocation=new ce.NI("",[ce.kI.required]),this.DeviceType=new ce.NI("",[ce.kI.required])}ngOnInit(){this.companyDetails()}onNoClick(){this.dialogRef.close()}onSaveClick(){if(this.DeviceName.valid&&this.DeviceLocation.valid&&this.DeviceUID.valid&&this.TriggerValue.valid){const a={DeviceUID:this.DeviceUID.value,TriggerValue:this.TriggerValue.value,CompanyEmail:this.CompanyEmail};this.DashDataService.addDevice({DeviceUID:this.DeviceUID.value,DeviceLocation:this.DeviceLocation.value,DeviceName:this.DeviceName.value,CompanyEmail:this.CompanyEmail,CompanyName:this.CompanyName,type:this.UserType,SMS:this.ContactNo,email:this.PersonalEmail,DeviceType:this.DeviceType.value}).subscribe(()=>{this.DashDataService.addDeviceTrigger(a).subscribe(()=>{this.snackBar.open("Device Added Successful!","Dismiss",{duration:2e3}),this.dialogRef.close()},v=>{this.snackBar.open(v.error.message||"Failed to set Trigger. Please try again.","Dismiss",{duration:2e3})})},v=>{this.snackBar.open(v.error.message||"Failed to add Device. Please try again.","Dismiss",{duration:2e3}),this.dialogRef.close()})}}companyDetails(){this.userId=sessionStorage.getItem("UserId"),this.userId&&this.DashDataService.userDetails(this.userId).subscribe(t=>{this.CompanyEmail=t[0].CompanyEmail,this.CompanyName=t[0].CompanyName,this.UserType=t[0].UserType,this.ContactNo=t[0].ContactNo,this.PersonalEmail=t[0].PersonalEmail},t=>{this.snackBar.open(t.error.message||"Error While Fetching the Compnay Details.","Dismiss",{duration:2e3})})}getThresholdErrorMessage(){return this.TriggerValue.hasError("required")?"Threshold is required":this.TriggerValue.hasError("pattern")?"Not a valid number":this.TriggerValue.hasError("min")?"Not less than 0":this.TriggerValue.hasError("max")?"Not more than 100":""}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-add-device"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:56,vars:10,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"model-title"],[1,"row"],[1,"col-md-6","mb-2"],[1,"from-field"],["matInput","","required","",3,"formControl"],[4,"ngIf"],["matInput","","placeholder","35","required","",3,"formControl"],[1,"col-md-12","mb-2"],[3,"formControl"],["value","t"],["value","h"],["value","th"],["value","ryb"],["value","ws"],["value","fs"],["value","ps"],[1,"col-md-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Add Device to Dashboard"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Ta,2,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Device Trigger"),e.qZA(),e._UZ(16,"input",9),e.YNc(17,lc,2,1,"mat-error",8),e.qZA()(),e.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Device Unique Id"),e.qZA(),e._UZ(22,"input",7),e.YNc(23,cc,2,0,"mat-error",8),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"Device Location"),e.qZA(),e._UZ(28,"input",7),e.YNc(29,Xn,2,0,"mat-error",8),e.qZA()(),e.TgZ(30,"div",10)(31,"mat-form-field",6)(32,"mat-label"),e._uU(33,"Device Type"),e.qZA(),e.TgZ(34,"mat-select",11)(35,"mat-option",12),e._uU(36,"Temprature"),e.qZA(),e.TgZ(37,"mat-option",13),e._uU(38,"Humidity"),e.qZA(),e.TgZ(39,"mat-option",14),e._uU(40,"Temperature - TH"),e.qZA(),e.TgZ(41,"mat-option",15),e._uU(42,"Temperature - RYB"),e.qZA(),e.TgZ(43,"mat-option",16),e._uU(44,"Water Flow Sensor"),e.qZA(),e.TgZ(45,"mat-option",17),e._uU(46,"Flow Sensor"),e.qZA(),e.TgZ(47,"mat-option",18),e._uU(48,"Pressure Sensor"),e.qZA()(),e.YNc(49,dc,2,0,"mat-error",8),e.qZA()(),e.TgZ(50,"div",19)(51,"button",20),e.NdJ("click",function(){return a.onNoClick()}),e._uU(52,"Close"),e.qZA()(),e.TgZ(53,"div",5)(54,"button",21),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(55,"Save"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.DeviceName),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("formControl",a.TriggerValue),e.xp6(1),e.Q6J("ngIf",a.TriggerValue.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceUID),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceLocation),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceType),e.xp6(15),e.Q6J("ngIf",a.DeviceType.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();function nl(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getDevicenameError())}}function hc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Location is Required."),e.qZA())}function uc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Type is Required."),e.qZA())}function pc(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",25),e._uU(2,"\xb0C"),e.qZA(),e.TgZ(3,"mat-option",26),e._uU(4,"\xb0F"),e.qZA(),e.BQk())}function fc(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2,"%"),e.qZA(),e.BQk())}function mc(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",25),e._uU(2,"\xb0C"),e.qZA(),e.TgZ(3,"mat-option",26),e._uU(4,"\xb0F"),e.qZA(),e.BQk())}function gc(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",25),e._uU(2,"\xb0C"),e.qZA(),e.TgZ(3,"mat-option",26),e._uU(4,"\xb0F"),e.qZA(),e.BQk())}function vc(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",28),e._uU(2,"m/s"),e.qZA(),e.TgZ(3,"mat-option",29),e._uU(4,"g/m"),e.qZA(),e.BQk())}function al(h,x){1&h&&(e.ynx(0),e.TgZ(1,"mat-option",30),e._uU(2,"pa"),e.qZA(),e.BQk())}function _c(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Unit is required."),e.qZA())}let bc=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.device={},this.DeviceName=new ce.NI("",[ce.kI.required]),this.DeviceLocation=new ce.NI("",[ce.kI.required]),this.DeviceUnits=new ce.NI("",[ce.kI.required]),this.DeviceType=new ce.NI("",[ce.kI.required]),this.device=V.device}ngOnInit(){this.device&&(this.DeviceName.setValue(this.device.DeviceName),this.DeviceLocation.setValue(this.device.DeviceLocation),this.DeviceType.setValue(this.device.DeviceType)),this.adjustDialogWidth()}onNoClick(){this.dialogRef.close()}editDevice(){this.deviceId=this.device.DeviceUID,this.DeviceLocation.valid&&this.DeviceName.valid&&this.DeviceType.valid&&this.DashDataService.editDeviceFromSetting(this.deviceId,{DeviceLocation:this.DeviceLocation.value,DeviceName:this.DeviceName.value,DeviceType:this.DeviceType.value}).subscribe(()=>{this.snackBar.open("Device Details Updated successfully!","Dismiss",{duration:2e3}),this.dialogRef.close()},a=>{this.snackBar.open("Failed to update Device!","Dismiss",{duration:2e3})})}getDevicenameError(){return this.DeviceName.hasError("required")?"Name is required":""}getLocationError(){return this.DeviceLocation.hasError("required")?"Location is required":""}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-edit-device-from-setting"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:61,vars:16,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"model-title"],[1,"row"],[1,"col-md-12","mb-2"],[1,"from-field"],["matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"col-md-6","mb-2"],["matInput","","disabled","",3,"ngModel","ngModelChange"],["matInput","","required","",3,"formControl","ngModel","ngModelChange"],[1,"col-md-8","mb-2"],[3,"formControl"],["value","t"],["value","th"],["value","ryb"],["value","ws"],["value","fs"],["value","ps"],[1,"col-md-4","mb-2"],[1,"col-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],[1,"col-6","mb-2"],["mat-raised-button","","color","primary",3,"click"],["value","degC"],["value","degF"],["value","%"],["value","m/s"],["value","g/m"],["value","pa"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit Device"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,nl,2,1,"mat-error",8),e.qZA()(),e.TgZ(12,"div",9)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Device Id"),e.qZA(),e.TgZ(16,"input",10),e.NdJ("ngModelChange",function(b){return a.device.DeviceUID=b}),e.qZA()()(),e.TgZ(17,"div",9)(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"Device Location"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("ngModelChange",function(b){return a.device.DeviceLocation=b}),e.qZA(),e.YNc(22,hc,2,0,"mat-error",8),e.qZA()(),e.TgZ(23,"div",12)(24,"mat-form-field",6)(25,"mat-label"),e._uU(26,"Device Type"),e.qZA(),e.TgZ(27,"mat-select",13)(28,"mat-option",14),e._uU(29,"Temperature"),e.qZA(),e.TgZ(30,"mat-option",15),e._uU(31,"Temperature - TH"),e.qZA(),e.TgZ(32,"mat-option",16),e._uU(33,"Temperature - RYB"),e.qZA(),e.TgZ(34,"mat-option",17),e._uU(35,"Water Flow Sensor"),e.qZA(),e.TgZ(36,"mat-option",18),e._uU(37,"Flow Sensor"),e.qZA(),e.TgZ(38,"mat-option",18),e._uU(39,"Flow Sensor"),e.qZA(),e.TgZ(40,"mat-option",19),e._uU(41,"Pressure Sensor"),e.qZA()(),e.YNc(42,uc,2,0,"mat-error",8),e.qZA()(),e.TgZ(43,"div",20)(44,"mat-form-field",6)(45,"mat-label"),e._uU(46,"Units"),e.qZA(),e.TgZ(47,"mat-select",13),e.YNc(48,pc,5,0,"ng-container",8),e.YNc(49,fc,3,0,"ng-container",8),e.YNc(50,mc,5,0,"ng-container",8),e.YNc(51,gc,5,0,"ng-container",8),e.YNc(52,vc,5,0,"ng-container",8),e.YNc(53,al,3,0,"ng-container",8),e.qZA(),e.YNc(54,_c,2,0,"mat-error",8),e.qZA()(),e.TgZ(55,"div",21)(56,"button",22),e.NdJ("click",function(){return a.onNoClick()}),e._uU(57,"Close"),e.qZA()(),e.TgZ(58,"div",23)(59,"button",24),e.NdJ("click",function(){return a.editDevice()}),e._uU(60,"Update"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.DeviceName),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("ngModel",a.device.DeviceUID),e.xp6(5),e.Q6J("formControl",a.DeviceLocation)("ngModel",a.device.DeviceLocation),e.xp6(1),e.Q6J("ngIf",a.DeviceLocation.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceType),e.xp6(15),e.Q6J("ngIf",a.DeviceType.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceUnits),e.xp6(1),e.Q6J("ngIf","t"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf","h"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf","th"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf","ryb"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf","ws"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf","ps"===a.DeviceType.value),e.xp6(1),e.Q6J("ngIf",a.DeviceUnits.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH,ce.On],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();function yc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"First Name is Required."),e.qZA())}function wc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Last Name is Required."),e.qZA())}function Dc(h,x){if(1&h&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&h){const t=e.oxw();e.xp6(1),e.Oqu(t.getPersonalEmailErrorMessage())}}function xc(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Contact No is Required."),e.qZA())}function o(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Location is Required."),e.qZA())}function i(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Designation is Required."),e.qZA())}function r(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"User Type is Required."),e.qZA())}let s=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b,V){this.DashDataService=t,this.authService=a,this.snackBar=v,this.dialogRef=b,this.data=V,this.user={},this.FirstName=new ce.NI("",[ce.kI.required]),this.LastName=new ce.NI("",[ce.kI.required]),this.PersonalEmail=new ce.NI("",[ce.kI.required,ce.kI.email]),this.ContactNo=new ce.NI("",[ce.kI.required]),this.UserType=new ce.NI("",[ce.kI.required]),this.Location=new ce.NI("",[ce.kI.required]),this.Designation=new ce.NI("",[ce.kI.required]),this.user=V.data,this.FirstName=new ce.NI(this.user.FirstName,[ce.kI.required]),this.LastName=new ce.NI(this.user.LastName,[ce.kI.required]),this.PersonalEmail=new ce.NI(this.user.PersonalEmail,[ce.kI.required]),this.ContactNo=new ce.NI(this.user.ContactNo,[ce.kI.required]),this.Location=new ce.NI(this.user.Location,[ce.kI.required]),this.Designation=new ce.NI(this.user.Designation,[ce.kI.required]),this.UserType=new ce.NI(this.user.UserType,[ce.kI.required])}ngOnInit(){this.adjustDialogWidth()}onNoClick(){this.dialogRef.close()}editUser(){this.userId=this.user.UserId,this.FirstName.valid&&this.LastName.valid&&this.PersonalEmail.valid&&this.ContactNo.valid&&this.UserType.valid&&this.Location.valid&&this.Designation.valid&&this.DashDataService.editUser(this.userId,{FirstName:this.FirstName.value,LastName:this.LastName.value,PersonalEmail:this.PersonalEmail.value,ContactNo:this.ContactNo.value,UserType:this.UserType.value,Location:this.Location.value,Designation:this.Designation.value}).subscribe(()=>{this.snackBar.open("User Details Updated successfully!","Dismiss",{duration:2e3}),this.dialogRef.close()},a=>{this.snackBar.open("Failed to update User!","Dismiss",{duration:2e3})})}getPersonalEmailErrorMessage(){return this.PersonalEmail.hasError("required")?"Email is Required":this.PersonalEmail.hasError("email")?"Not a valid email":""}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-edit-user"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:58,vars:14,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-12","col-sm-12","pt-1"],[1,"model-title"],[1,"row"],[1,"col-md-6","mb-2"],[1,"from-field"],["matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"col-md-12","mb-2"],["matInput","","disabled","",3,"ngModel","ngModelChange"],[3,"formControl"],["value","Admin"],["value","Standard"],[1,"col-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],[1,"col-6","mb-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit User"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"First Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,yc,2,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Last Name"),e.qZA(),e._UZ(16,"input",7),e.YNc(17,wc,2,0,"mat-error",8),e.qZA()(),e.TgZ(18,"div",9)(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Personal Email"),e.qZA(),e.TgZ(22,"input",10),e.NdJ("ngModelChange",function(b){return a.user.PersonalEmail=b}),e.qZA(),e.YNc(23,Dc,2,1,"mat-error",8),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"Contact No"),e.qZA(),e._UZ(28,"input",7),e.YNc(29,xc,2,0,"mat-error",8),e.qZA()(),e.TgZ(30,"div",5)(31,"mat-form-field",6)(32,"mat-label"),e._uU(33,"Location"),e.qZA(),e._UZ(34,"input",7),e.YNc(35,o,2,0,"mat-error",8),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Designation"),e.qZA(),e._UZ(40,"input",7),e.YNc(41,i,2,0,"mat-error",8),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-form-field",6)(44,"mat-label"),e._uU(45,"User Type"),e.qZA(),e.TgZ(46,"mat-select",11)(47,"mat-option",12),e._uU(48,"Admin"),e.qZA(),e.TgZ(49,"mat-option",13),e._uU(50,"Standard"),e.qZA()(),e.YNc(51,r,2,0,"mat-error",8),e.qZA()(),e.TgZ(52,"div",14)(53,"button",15),e.NdJ("click",function(){return a.onNoClick()}),e._uU(54,"Close"),e.qZA()(),e.TgZ(55,"div",16)(56,"button",17),e.NdJ("click",function(){return a.editUser()}),e._uU(57,"Save"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.FirstName),e.xp6(1),e.Q6J("ngIf",a.FirstName.invalid),e.xp6(5),e.Q6J("formControl",a.LastName),e.xp6(1),e.Q6J("ngIf",a.LastName.invalid),e.xp6(5),e.Q6J("ngModel",a.user.PersonalEmail),e.xp6(1),e.Q6J("ngIf",a.PersonalEmail.invalid),e.xp6(5),e.Q6J("formControl",a.ContactNo),e.xp6(1),e.Q6J("ngIf",a.ContactNo.invalid),e.xp6(5),e.Q6J("formControl",a.Location),e.xp6(1),e.Q6J("ngIf",a.Location.invalid),e.xp6(5),e.Q6J("formControl",a.Designation),e.xp6(1),e.Q6J("ngIf",a.Designation.invalid),e.xp6(5),e.Q6J("formControl",a.UserType),e.xp6(5),e.Q6J("ngIf",a.UserType.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH,ce.On],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();var d=Pt(5226),c=Pt.n(d),p=Pt(7155);function m(h,x){1&h&&(e.TgZ(0,"div"),e._UZ(1,"app-page-loading"),e.qZA())}function g(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Actions"),e.qZA())}function D(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",32)(1,"button",33),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.editUser(b))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",33),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.deleteUser(b))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function k(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Name"),e.qZA())}function F(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.hij(" ",t.UserType," ")}}function O(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Contact"),e.qZA())}function y(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.hij("",t.PersonalEmail," "),e.xp6(2),e.hij(" ",t.ContactNo,"")}}function X(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Designation"),e.qZA())}function z(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.Designation)}}function re(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Status"),e.qZA())}const Z=function(h,x){return{online:h,offline:x}};function $(h,x){if(1&h&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.Q6J("ngClass",e.WLB(2,Z,"Online"===t.status,"Offline"===t.status)),e.xp6(1),e.Oqu(t.status)}}function Ne(h,x){1&h&&e._UZ(0,"tr",35)}function qe(h,x){1&h&&e._UZ(0,"tr",36)}function $e(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Device"),e.qZA())}function vt(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.DeviceName),e.xp6(2),e.Oqu(t.DeviceUID)}}function ze(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Location"),e.qZA())}function ve(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.DeviceLocation)}}function ct(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Date if Issue"),e.qZA())}function lt(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.formattedIssueDate)}}function W(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Status"),e.qZA())}function H(h,x){if(1&h&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.Q6J("ngClass",e.WLB(2,Z,"Online"===t.Status,"Offline"===t.Status)),e.xp6(1),e.Oqu(t.Status)}}function Ae(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Actions"),e.qZA())}function be(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",32)(1,"button",33),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.editDevice(b))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",33),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.deleteDevice(b))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function et(h,x){1&h&&(e.TgZ(0,"th",31),e._uU(1,"Device Type"),e.qZA())}function Je(h,x){if(1&h&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.hij(" ","ryb"===t.DeviceType?"RYB":"th"===t.DeviceType?"TH":"ws"===t.DeviceType?"Water Sensor":"ps"===t.DeviceType?"Pressure Sensor":"fs"===t.DeviceType?"Flow Sensor":"t"===t.DeviceType?"Temprature":"h"===t.DeviceType?"Humidity":"Unknown"," ")}}function ot(h,x){1&h&&e._UZ(0,"tr",35)}function Ve(h,x){1&h&&e._UZ(0,"tr",36)}function dt(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-card")(6,"mat-card-content")(7,"div",5)(8,"mat-icon",6),e._uU(9,"group"),e.qZA(),e.TgZ(10,"div",7),e._uU(11),e.qZA()()()()(),e.TgZ(12,"div",4)(13,"mat-card")(14,"mat-card-content")(15,"div",5)(16,"mat-icon",8),e._uU(17,"account_circle"),e.qZA(),e.TgZ(18,"div",7),e._uU(19),e.qZA()()()()(),e.TgZ(20,"div",4)(21,"mat-card")(22,"mat-card-content")(23,"div",5)(24,"mat-icon",9),e._uU(25,"account_circle"),e.qZA(),e.TgZ(26,"div",7),e._uU(27),e.qZA()()()()(),e.TgZ(28,"div",4)(29,"mat-card")(30,"mat-card-content")(31,"div",5)(32,"mat-icon",6),e._uU(33,"group"),e.qZA(),e.TgZ(34,"div",7),e._uU(35),e.qZA()()()()(),e.TgZ(36,"div",4)(37,"mat-card")(38,"mat-card-content")(39,"div",5)(40,"mat-icon",8),e._uU(41,"check_circle"),e.qZA(),e.TgZ(42,"div",7),e._uU(43),e.qZA()()()()(),e.TgZ(44,"div",4)(45,"mat-card")(46,"mat-card-content")(47,"div",5)(48,"mat-icon",9),e._uU(49,"offline_bolt"),e.qZA(),e.TgZ(50,"div",7),e._uU(51),e.qZA()()()()(),e.TgZ(52,"div",10)(53,"mat-card")(54,"mat-card-header",11)(55,"div",12),e._uU(56,"Users"),e.qZA(),e.TgZ(57,"button",13),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.openAddUserDialog())}),e.TgZ(58,"mat-icon"),e._uU(59,"person_add"),e.qZA()()(),e.TgZ(60,"mat-card-content")(61,"div",14)(62,"table",15),e.ynx(63,16),e.YNc(64,g,2,0,"th",17),e.YNc(65,D,7,0,"td",18),e.BQk(),e.ynx(66,19),e.YNc(67,k,2,0,"th",17),e.YNc(68,F,4,3,"td",18),e.BQk(),e.ynx(69,20),e.YNc(70,O,2,0,"th",17),e.YNc(71,y,4,2,"td",18),e.BQk(),e.ynx(72,21),e.YNc(73,X,2,0,"th",17),e.YNc(74,z,2,1,"td",18),e.BQk(),e.ynx(75,22),e.YNc(76,re,2,0,"th",17),e.YNc(77,$,2,5,"td",23),e.BQk(),e.TgZ(78,"thead"),e.YNc(79,Ne,1,0,"tr",24),e.qZA(),e.TgZ(80,"tbody"),e.YNc(81,qe,1,0,"tr",25),e.qZA()()()()()(),e.TgZ(82,"div",10)(83,"mat-card")(84,"mat-card-header",11)(85,"div",12),e._uU(86,"Devices"),e.qZA(),e.TgZ(87,"button",13),e.NdJ("click",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.openAddDeviceDialog())}),e.TgZ(88,"mat-icon"),e._uU(89,"add_circle"),e.qZA()()(),e.TgZ(90,"mat-card-content")(91,"div",14)(92,"table",15),e.ynx(93,26),e.YNc(94,$e,2,0,"th",17),e.YNc(95,vt,4,2,"td",18),e.BQk(),e.ynx(96,27),e.YNc(97,ze,2,0,"th",17),e.YNc(98,ve,2,1,"td",18),e.BQk(),e.ynx(99,28),e.YNc(100,ct,2,0,"th",17),e.YNc(101,lt,2,1,"td",18),e.BQk(),e.ynx(102,22),e.YNc(103,W,2,0,"th",17),e.YNc(104,H,2,5,"td",23),e.BQk(),e.ynx(105,29),e.YNc(106,Ae,2,0,"th",17),e.YNc(107,be,7,0,"td",18),e.BQk(),e.ynx(108,30),e.YNc(109,et,2,0,"th",17),e.YNc(110,Je,2,1,"td",18),e.BQk(),e.TgZ(111,"thead"),e.YNc(112,ot,1,0,"tr",24),e.qZA(),e.TgZ(113,"tbody"),e.YNc(114,Ve,1,0,"tr",25),e.qZA()()()()()()()()()()}if(2&h){const t=e.oxw();e.xp6(11),e.hij(" Total users: ",t.totalUsers," "),e.xp6(8),e.hij(" Active Users: ",t.totalOnlineUsers," "),e.xp6(8),e.hij(" Offline Users: ",t.totalOfflineUsers," "),e.xp6(8),e.hij(" Total Devices: ",t.totalDevices," "),e.xp6(8),e.hij(" Active Devices: ",t.totalActiveDevices," "),e.xp6(8),e.hij(" Offline Devices: ",t.totalInactiveDevices," "),e.xp6(11),e.Q6J("dataSource",t.dataSource),e.xp6(17),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(2),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(11),e.Q6J("dataSource",t.dataSource2),e.xp6(20),e.Q6J("matHeaderRowDef",t.displayedColumns2),e.xp6(2),e.Q6J("matRowDefColumns",t.displayedColumns2)}}let st=(()=>{class h{constructor(t,a,v,b,V,tt){this.dialog=t,this.authService=a,this.dashDataService=v,this.datePipe=b,this.dashService=V,this.snackBar=tt,this.displayedColumns=["Name","Contact","Designation","Status","Actions"],this.displayedColumns2=["DeviceName","Location","IssueDate","Status","DeviceType","Actions2"],this.dataSource=[],this.dataSource2=[],this.totalUsers=0,this.totalOnlineUsers=0,this.totalOfflineUsers=0,this.totalDevices=0,this.totalActiveDevices=0,this.totalInactiveDevices=0}ngOnInit(){this.fetchData(),this.startInterval(),this.dashService.isPageLoading(!0)}ngOnDestroy(){this.stopInterval()}startInterval(){this.intervalSubscription=Q(5e3).pipe((0,Ro.q)(1/0)).subscribe(()=>{this.fetchData()})}stopInterval(){this.intervalSubscription&&this.intervalSubscription.unsubscribe()}fetchData(){this.fetchUsers(),this.fetchDevices()}fetchUsers(){this.CompanyEmail=sessionStorage.getItem("CompanyEmail"),this.CompanyEmail&&this.dashDataService.companyUsers(this.CompanyEmail).subscribe(t=>{this.dataSource=t.map(a=>(a.status=1===a.is_online?"Online":"Offline",a)),this.totalUsers=t.length,this.totalOnlineUsers=this.dataSource.filter(a=>1===a.is_online).length,this.totalOfflineUsers=this.dataSource.filter(a=>0===a.is_online).length,this.dashService.isPageLoading(!1)},t=>{console.error("Error fetching users:",t)})}fetchDevices(){this.CompanyEmail&&this.dashDataService.userDevices(this.CompanyEmail).subscribe(t=>{this.dataSource2=t.devices.map(a=>(a.formattedIssueDate=this.datePipe.transform(a.IssueDate,"yyyy-MM-dd HH:mm:ss"),a)),console.log(this.dataSource2),this.dataSource2=t.devices.map(a=>(a.Status="online"===a.status||"heating"===a.status?"Online":"Offline",a)),this.totalDevices=this.dataSource2.length,this.totalActiveDevices=this.dataSource2.filter(a=>"online"===a.status||"heating"===a.status).length,this.totalInactiveDevices=this.dataSource2.filter(a=>"offline"===a.status).length,this.dashService.isPageLoading(!1)},t=>{console.log("Error while fetching user devices!")})}openAddUserDialog(){const t=new we.vA;t.width="500px",t.height="auto",t.maxWidth="90vw",this.dialog.open(On,t).afterClosed().subscribe(v=>{})}openAddDeviceDialog(){const t=new we.vA;t.width="500px",t.height="auto",t.maxWidth="90vw",this.dialog.open(il,t).afterClosed().subscribe(v=>{})}editUser(t){const a=new we.vA;a.width="500px",a.height="auto",a.maxWidth="90vw",a.data={data:t},this.dialog.open(s,a).afterClosed().subscribe(b=>{})}editDevice(t){const a=new we.vA;a.width="500px",a.height="auto",a.maxWidth="90vw",a.data={device:t},this.dialog.open(bc,a).afterClosed().subscribe(b=>{})}deleteDevice(t){const a=t.DeviceUID;c().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&this.dashDataService.deleteDevice(a).subscribe(()=>{c().fire({title:"Deleted!",text:"Device has been deleted.",icon:"success",timer:2e3,timerProgressBar:!0});const b=this.dataSource2.indexOf(t);-1!==b&&this.dataSource2.splice(b,1),this.dataSource2=[...this.dataSource2]},b=>{console.error("Error deleting user:",b),c().fire({title:"Error",text:"Error deleting user",icon:"error",timer:2e3,timerProgressBar:!0})})})}deleteUser(t){const a=t.UserId;c().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&this.dashDataService.deleteUser(a).subscribe(()=>{c().fire({title:"Deleted!",text:"User has been deleted.",icon:"success",timer:2e3,timerProgressBar:!0});const b=this.dataSource.indexOf(t);-1!==b&&this.dataSource.splice(b,1),this.dataSource=[...this.dataSource]},b=>{console.error("Error deleting user:",b),c().fire({title:"Error",text:"Error deleting user",icon:"error",timer:2e3,timerProgressBar:!0})})})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(we.uw),e.Y36(he.e),e.Y36(J),e.Y36(It.uU),e.Y36(bt.k),e.Y36(me.ux))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-user-manage"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"users","container-fluid"],[1,"container-fluid"],[1,"row","pt-3"],[1,"col-lg-2","col-md-4","col-sm-4","mb-2"],[1,"d-flex"],["color","primary"],[1,"user-text","ms-auto"],[1,"success"],["color","warn"],[1,"col-lg-6","col-md-12","col-sm-12","mb-3"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"flex-grow-1","user-head"],["mat-mini-fab","","color","primary",3,"click"],[1,"table-container",2,"overflow","auto","max-height","calc(60vh - 10vh)"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Contact"],["matColumnDef","Designation"],["matColumnDef","Status"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","DeviceName"],["matColumnDef","Location"],["matColumnDef","IssueDate"],["matColumnDef","Actions2"],["matColumnDef","DeviceType"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary","aria-label","Example icon button with a home icon",3,"click"],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.YNc(0,m,2,0,"div",0),e.YNc(1,dt,115,12,"div",0)),2&t&&(e.Q6J("ngIf",a.dashService.pageLoading),e.xp6(1),e.Q6J("ngIf",!a.dashService.pageLoading))},dependencies:[It.mk,It.O5,wt.Hw,K.RK,K.nh,Tt.a8,Tt.dn,Tt.dk,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,Oe],styles:[".users[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}.user-head[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:550;color:#3f51b5}.user-text[_ngcontent-%COMP%]{font-weight:550}.success[_ngcontent-%COMP%]{color:green}.online[_ngcontent-%COMP%]{color:green;font-weight:550}.offline[_ngcontent-%COMP%]{color:red;font-weight:550}.total-count[_ngcontent-%COMP%]{font-size:28px;font-weight:700;text-align:center;margin-top:12px;color:green}.table-header[_ngcontent-%COMP%]{position:relative;z-index:-1}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}"]}),h})();var Ft=Pt(8739);const P=["button"],te=["*"],pe=new e.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),ke=new e.OlP("MatButtonToggleGroup"),Re={provide:ce.JU,useExisting:(0,e.Gpc)(()=>Qe),multi:!0};let He=0;class Ge{constructor(x,t){this.source=x,this.value=t}}let Qe=(()=>{class h{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,se.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(a=>a.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,se.Ig)(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,se.Ig)(t),this._markButtonsForCheck()}constructor(t,a){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+He++,this.valueChange=new e.vpe,this.change=new e.vpe,this.appearance=a&&a.appearance?a.appearance:"standard"}ngOnInit(){this._selectionModel=new Le.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const a=new Ge(t,this.value);this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(t,a,v=!1,b=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?a?this._selectionModel.select(t):this._selectionModel.deselect(t):b=!0,b?Promise.resolve().then(()=>this._updateModelValue(t,v)):this._updateModelValue(t,v)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(a=>null!=t.value&&a===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(a=>this._selectValue(a))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const a=this._buttonToggles.find(v=>null!=v.value&&v.value===t);a&&(a.checked=!0,this._selectionModel.select(a))}_updateModelValue(t,a){a&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(e.sBO),e.Y36(pe,8))},h.\u0275dir=e.lG2({type:h,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,a,v){if(1&t&&e.Suo(v,Ct,5),2&t){let b;e.iGM(b=e.CRH())&&(a._buttonToggles=b)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,a){2&t&&(e.uIk("aria-disabled",a.disabled),e.ekj("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard","standard"===a.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[e._Bn([Re,{provide:ke,useExisting:h}])]}),h})();const At=(0,q.Kr)(class{});let Ct=(()=>{class h extends At{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const a=(0,se.Ig)(t);a!==this._checked&&(this._checked=a,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,se.Ig)(t)}constructor(t,a,v,b,V,tt){super(),this._changeDetectorRef=a,this._elementRef=v,this._focusMonitor=b,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new e.vpe;const Wt=Number(V);this.tabIndex=Wt||0===Wt?Wt:null,this.buttonToggleGroup=t,this.appearance=tt&&tt.appearance?tt.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+He++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Ge(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(ke,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(U.tE),e.$8M("tabindex"),e.Y36(pe,8))},h.\u0275cmp=e.Xpm({type:h,selectors:[["mat-button-toggle"]],viewQuery:function(t,a){if(1&t&&e.Gf(P,5),2&t){let v;e.iGM(v=e.CRH())&&(a._buttonElement=v.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,a){1&t&&e.NdJ("focus",function(){return a.focus()}),2&t&&(e.uIk("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),e.ekj("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-appearance-standard","standard"===a.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[e.qOj],ngContentSelectors:te,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,a){if(1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return a._onButtonClick()}),e.TgZ(2,"span",2),e.Hsn(3),e.qZA()(),e._UZ(4,"span",3)(5,"span",4)),2&t){const v=e.MAs(1);e.Q6J("id",a.buttonId)("disabled",a.disabled||null),e.uIk("tabindex",a.disabled?-1:a.tabIndex)("aria-pressed",a.checked)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),e.xp6(5),e.Q6J("matRippleTrigger",v)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[q.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),h})(),jt=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[q.BQ,q.si,q.BQ]}),h})();function Zt(h,x){if(1&h&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.DeviceName," ")}}function ti(h,x){if(1&h&&(e.TgZ(0,"th",37),e._uU(1),e.qZA()),2&h){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function at(h,x){if(1&h&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&h){const t=x.$implicit,a=e.oxw().$implicit;e.xp6(1),e.Oqu(t[a])}}function fe(h,x){if(1&h&&(e.ynx(0)(1,34),e.YNc(2,ti,2,1,"th",35),e.YNc(3,at,2,1,"td",36),e.BQk()()),2&h){const t=x.$implicit;e.xp6(1),e.s9C("matColumnDef",t)}}function hi(h,x){1&h&&e._UZ(0,"tr",39)}function Ht(h,x){1&h&&e._UZ(0,"tr",40)}function Dt(h,x){if(1&h&&(e.ynx(0),e.TgZ(1,"table",30),e.YNc(2,fe,4,1,"ng-container",31),e.YNc(3,hi,1,0,"tr",32),e.YNc(4,Ht,1,0,"tr",33),e.qZA(),e.BQk()),2&h){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(1),e.Q6J("ngForOf",t.displayedColumns),e.xp6(1),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function Mt(h,x){1&h&&(e.TgZ(0,"div",41)(1,"h4"),e._uU(2,"No data found for this time interval."),e.qZA()())}let Ut=(()=>{class h{constructor(t,a,v,b){this.DashDataService=t,this.authService=a,this.snackBar=v,this.datePipe=b,this.deviceOptions=[],this.device_uid=new ce.NI("",[ce.kI.required]),this.start_date=new ce.NI("",[ce.kI.required,this.dateShouldNotBeAfterToday.bind(this)]),this.end_date=new ce.NI("",[ce.kI.required,this.endDateShouldNotBeAfterToday.bind(this),this.endDateShouldBeAfterStartDate.bind(this)]),this.displayedColumns=[],this.dataSource=new p.by}ngOnInit(){this.getUserDevices()}getUserDevices(){this.CompanyEmail=this.authService.getCompanyEmail(),this.CompanyEmail&&this.DashDataService.userDevices(this.CompanyEmail).subscribe(t=>{this.deviceOptions=t.devices;const a=sessionStorage.getItem("reportDevice")??"",v=a?JSON.parse(a):"",b=sessionStorage.getItem("reportStartDate")??"",V=sessionStorage.getItem("reportEndDate")??"";if(console.log(v,b,V),v&&b&&V){const tt=this.deviceOptions.find(Wt=>Wt.DeviceUID===v.DeviceUID);tt?(this.device_uid.setValue(tt),this.start_date.setValue(b),this.end_date.setValue(V),this.fetchData()):this.snackBar.open("Selected device not found.","Dismiss",{duration:2e3})}else if(this.deviceOptions.length>0){this.device_uid.setValue(this.deviceOptions[0]);const Wt=new Date,ai=new Date(Wt);ai.setDate(Wt.getDate()-1),this.start_date.setValue(ai.toISOString().split("T")[0]),this.end_date.setValue(Wt.toISOString().split("T")[0]),this.fetchData()}else this.snackBar.open("No devices found.","Dismiss",{duration:2e3})},t=>{this.snackBar.open("Error while fetching user devices!","Dismiss",{duration:2e3})})}setDisplayedColumns(){switch(this.selectedDeviceType){case"t":this.displayedColumns=["DeviceName","DeviceUID","Date","Temperature"];break;case"th":this.displayedColumns=["DeviceName","DeviceUID","Date","Temperature","Humidity"];break;case"ryb":this.displayedColumns=["DeviceName","DeviceUID","Date","TemperatureR","TemperatureY","TemperatureB"];break;case"ws":case"fs":this.displayedColumns=["DeviceName","DeviceUID","Date","flowRate","totalVolume"];break;default:this.displayedColumns=["DeviceName","DeviceUID","Date"]}}dateShouldNotBeAfterToday(t){return new Date(t.value)<=new Date?null:{dateShouldNotBeAfterToday:!0}}endDateShouldNotBeAfterToday(t){return new Date(t.value)<=new Date?null:{endDateShouldNotBeAfterToday:!0}}endDateShouldBeAfterStartDate(t){const v=new Date(this.start_date.value??"");return new Date(t.value)>=v?null:{endDateShouldBeAfterStartDate:!0}}getDeviceUidErrorMessage(){return this.device_uid.hasError("required")?"Device Name is <strong>required</strong>":""}getStartDateErrorMessage(){return this.start_date.hasError("required")?"Start date is <strong>required</strong>":this.start_date.hasError("dateShouldNotBeAfterToday")?"Start date should not be after today":""}getEndDateErrorMessage(){return this.end_date.hasError("required")?"End date is <strong>required</strong>":this.end_date.hasError("endDateShouldNotBeAfterToday")?"End date should not be after today":this.end_date.hasError("endDateShouldBeAfterStartDate")?"End date should be after start date":""}getMaxEndDate(){return(new Date).toISOString().split("T")[0]}fetchData(){var t=this;return(0,Lo.Z)(function*(){try{if(!t.device_uid.valid||!t.start_date.valid||!t.end_date.valid)return t.device_uid.markAsTouched(),t.start_date.markAsTouched(),t.end_date.markAsTouched(),void t.snackBar.open("Validation failed!","Dismiss",{duration:2e3});const v=t.datePipe.transform(t.start_date.value,"yyyy-MM-dd")||"",b=t.datePipe.transform(t.end_date.value,"yyyy-MM-dd")||"";if(t.selectedDeviceUID=t.device_uid.value?.DeviceUID,t.selectedDeviceType=t.device_uid.value?.DeviceType,t.device_uid.value&&t.start_date.value&&t.end_date.value){sessionStorage.setItem("reportStartDate",v),sessionStorage.setItem("reportEndDate",b);var a=JSON.stringify(t.device_uid.value);sessionStorage.setItem("reportDevice",a)}let V,tt;("ws"===t.selectedDeviceType||"fs"===t.selectedDeviceType)&&(V=t.DashDataService.getCustomConsumption(t.selectedDeviceUID,v,b).toPromise()),tt=t.DashDataService.DataByCustomDate(t.selectedDeviceUID,v,b).toPromise();const[Wt,ai]=yield Promise.all([V,tt]);t.setDisplayedColumns(),"t"===t.selectedDeviceType?t.processChartDataT(ai):"th"===t.selectedDeviceType?t.processChartDataTH(ai):"ryb"===t.selectedDeviceType?t.processChartDataRYB(ai):"ws"===t.selectedDeviceType||"fs"===t.selectedDeviceType?t.mergeChartData(ai,Wt):t.snackBar.open("Device Type is not Found!","Dismiss",{duration:2e3})}catch(v){console.error("Error while fetching data:",v),t.snackBar.open("Error while fetching data!","Dismiss",{duration:2e3})}})()}processChartDataTH(t){const b=t.data.map(V=>{const tt=V.DeviceUID,Wt=this.deviceOptions.find(ra=>ra.DeviceUID===tt),ai=new Date(V.bucket_start_time).getTime(),di=V.Temperature?parseFloat(V.Temperature).toFixed(1):"Offline",Yi=V.Humidity?parseFloat(V.Humidity).toFixed(1):"Offline",xn=new Date(ai).toISOString().replace(/T/," ").replace(/\..+/,"");return{DeviceName:Wt?Wt.DeviceName:"",DeviceUID:tt,Date:xn,Temperature:di,Humidity:Yi}});this.dataSource.data=b,this.dataSource.paginator=this.paginator,console.log(this.dataSource)}processChartDataT(t){const b=t.data.map(V=>{const tt=V.DeviceUID,Wt=this.deviceOptions.find(xn=>xn.DeviceUID===tt),ai=new Date(V.bucket_start_time).getTime(),di=V.Temperature?parseFloat(V.Temperature).toFixed(1):"Offline",Yi=new Date(ai).toISOString().replace(/T/," ").replace(/\..+/,"");return{DeviceName:Wt?Wt.DeviceName:"",DeviceUID:tt,Date:Yi,Temperature:di}});this.dataSource.data=b,this.dataSource.paginator=this.paginator,console.log(this.dataSource)}processChartDataRYB(t){const b=t.data.map(V=>{const tt=V.DeviceUID,Wt=this.deviceOptions.find(Wa=>Wa.DeviceUID===tt),ai=new Date(V.bucket_start_time).getTime(),di=V.TemperatureR?parseFloat(V.TemperatureR).toFixed(1):"Offline",Yi=V.TemperatureY?parseFloat(V.TemperatureY).toFixed(1):"Offline",xn=V.TemperatureB?parseFloat(V.TemperatureB).toFixed(1):"Offline",ra=new Date(ai).toISOString().replace(/T/," ").replace(/\..+/,"");return{DeviceName:Wt?Wt.DeviceName:"",DeviceUID:tt,Date:ra,TemperatureR:di,TemperatureY:Yi,TemperatureB:xn}});this.dataSource.data=b,this.dataSource.paginator=this.paginator,console.log(this.dataSource)}mergeChartData(t,a){const v=this.processChartDataWSFS(t),b=this.processChartDataWSFSTotal(a),V={};b.forEach(Wt=>{const ai=Wt.Date;V[ai]=(V[ai]||0)+parseFloat(Wt.totalVolume)});const tt=v.map(Wt=>{const di=V[Wt.Date];return{...Wt,totalVolume:di||"N/A"}});this.dataSource.data=tt,this.dataSource.paginator=this.paginator,console.log(this.dataSource)}processChartDataWSFS(t){return t.data.map(b=>{const V=b.DeviceUID,tt=this.deviceOptions.find(Yi=>Yi.DeviceUID===V),Wt=new Date(b.bucket_start_time).getTime(),ai=b.flowRate?parseFloat(b.flowRate).toFixed(1):"Offline",di=new Date(Wt).toISOString().replace(/T/," ").replace(/\..+/,"");return{DeviceName:tt?tt.DeviceName:"",DeviceUID:V,Date:di,flowRate:ai}})}processChartDataWSFSTotal(t){return t.data.map(b=>{const V=b.DeviceUID,tt=this.deviceOptions.find(Yi=>Yi.DeviceUID===V),Wt=new Date(b.TimeStamp),ai=b.totalVolume?parseFloat(b.totalVolume).toFixed(1):"Offline",di=new Date(Wt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});return{DeviceName:tt?tt.DeviceName:"",DeviceUID:V,Date:di,totalVolume:ai}})}downloadCSV(){const t=this.datePipe.transform(this.start_date.value,"yyyyMMdd"),a=this.datePipe.transform(this.end_date.value,"yyyyMMdd"),v=`${this.selectedDeviceUID}_${t}_${a}.csv`,b=this.convertDataSourceToCSV(this.dataSource.data);if(!b||""===b.trim())return void this.snackBar.open("No data found.","Dismiss",{duration:2e3});const V=new Blob([b],{type:"text/csv"}),tt=document.createElement("a");tt.href=window.URL.createObjectURL(V),tt.download=v,tt.click()}convertDataSourceToCSV(t){return t&&0!==t.length?Object.keys(t[0]).join(",")+"\n"+t.map(b=>Object.values(b).join(",")+"\n").join(""):""}downloadXLXS(){this.snackBar.open("XLSX sheed will be Available in Next Update!","Dismiss",{duration:2e3})}downloadPDF(){this.snackBar.open("PDF sheed will be Available in Next Update!","Dismiss",{duration:2e3})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(he.e),e.Y36(me.ux),e.Y36(It.uU))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-app-mqtt"]],viewQuery:function(t,a){if(1&t&&e.Gf(Ft.NW,7),2&t){let v;e.iGM(v=e.CRH())&&(a.paginator=v.first)}},decls:59,vars:18,consts:[[1,"content"],[1,"container-fluid"],[1,"row","pt-3","mb-3"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-2"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-4"],["name","fontStyle","aria-label","Font Style",1,"button-group"],["value","csv",1,"button-group",3,"click"],["value","xlxs",1,"button-group",3,"click"],["value","pdf",1,"button-group",3,"click"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-1"],["appearance","outline",1,"form-field"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"innerHTML"],["matInput","","placeholder","Start Date",3,"formControl","matDatepicker","max"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","placeholder","End Date",3,"formControl","matDatepicker","min","max"],["endPicker",""],[1,"d-flex","justify-content-end"],["mat-raised-button","","color","primary",2,"width","100%",3,"click"],[1,"col-xl-8","col-lg-8","col-md-12","col-sm-12","mb-2"],[1,"dataTable"],[1,"table-container",2,"overflow","auto","max-height","100%"],[4,"ngIf","ngIfElse"],["noData",""],[3,"hidden"],["showFirstLastButtons","",3,"pageSize"],[3,"value"],["mat-table","",1,"",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"msg"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-content")(6,"div",1)(7,"div",4)(8,"div",5)(9,"div"),e._uU(10,"Download Report"),e.qZA(),e.TgZ(11,"mat-button-toggle-group",6)(12,"mat-button-toggle",7),e.NdJ("click",function(){return a.downloadCSV()}),e._uU(13,"CSV"),e.qZA(),e.TgZ(14,"mat-button-toggle",8),e.NdJ("click",function(){return a.downloadXLXS()}),e._uU(15,"Excel"),e.qZA(),e.TgZ(16,"mat-button-toggle",9),e.NdJ("click",function(){return a.downloadPDF()}),e._uU(17,"Print"),e.qZA()()(),e.TgZ(18,"div",10)(19,"div"),e._uU(20,"Apply Filter"),e.qZA()(),e.TgZ(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),e._uU(24,"Select Device"),e.qZA(),e.TgZ(25,"mat-select",12),e.YNc(26,Zt,2,2,"mat-option",13),e.qZA(),e._UZ(27,"mat-error",14),e.qZA()(),e.TgZ(28,"div",10)(29,"mat-form-field",11)(30,"mat-label"),e._uU(31,"Start Date"),e.qZA(),e._UZ(32,"input",15)(33,"mat-datepicker-toggle",16)(34,"mat-datepicker",null,17)(36,"mat-error",14),e.qZA()(),e.TgZ(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),e._uU(40,"End Date"),e.qZA(),e._UZ(41,"input",18)(42,"mat-datepicker-toggle",16)(43,"mat-datepicker",null,19)(45,"mat-error",14),e.qZA()(),e.TgZ(46,"div",10)(47,"div",20)(48,"button",21),e.NdJ("click",function(){return a.fetchData()}),e._uU(49,"Filter"),e.qZA()()()()()()()(),e.TgZ(50,"div",22)(51,"mat-card",23)(52,"mat-card-content")(53,"div",24),e.YNc(54,Dt,5,4,"ng-container",25),e.YNc(55,Mt,3,0,"ng-template",null,26,e.W1O),e.qZA(),e.TgZ(57,"div",27),e._UZ(58,"mat-paginator",28),e.qZA()()()()()()()),2&t){const v=e.MAs(35),b=e.MAs(44),V=e.MAs(56);e.xp6(25),e.Q6J("formControl",a.device_uid),e.xp6(1),e.Q6J("ngForOf",a.deviceOptions),e.xp6(1),e.Q6J("innerHTML",a.getDeviceUidErrorMessage(),e.oJD),e.xp6(5),e.Q6J("formControl",a.start_date)("matDatepicker",v)("max",a.getMaxEndDate()),e.xp6(1),e.Q6J("for",v),e.xp6(3),e.Q6J("innerHTML",a.getStartDateErrorMessage(),e.oJD),e.xp6(5),e.Q6J("formControl",a.end_date)("matDatepicker",b)("min",a.start_date.value)("max",a.getMaxEndDate()),e.xp6(1),e.Q6J("for",b),e.xp6(3),e.Q6J("innerHTML",a.getEndDateErrorMessage(),e.oJD),e.xp6(9),e.Q6J("ngIf",a.dataSource.data.length>0)("ngIfElse",V),e.xp6(3),e.Q6J("hidden",0===a.dataSource.data.length),e.xp6(1),e.Q6J("pageSize",10)}},dependencies:[It.sg,It.O5,K.lW,Tt.a8,Tt.dn,ae.KE,ae.hX,ae.TO,ae.R9,Ea.gD,q.ey,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH,pa,ao,Hi,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,Qe,Ct,Ft.NW],styles:[".content[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}button[_ngcontent-%COMP%]{z-index:0}.button-group[_ngcontent-%COMP%]{width:100%;background-color:#3f51b5;color:#f5f5f5;border:1px solid whitesmoke;border-radius:10px}.form-field[_ngcontent-%COMP%]{width:100%}.dataTable[_ngcontent-%COMP%]{height:100%;min-width:100%}.msg[_ngcontent-%COMP%]{color:gray;display:flex;align-items:center;justify-content:center;height:80vh;text-align:center}@media (max-width:425px){.content[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}@media (min-width:425px) and (max-width:576px){.content[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}@media (min-width:576px) and (max-width:1024px){.content[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}"]}),h})();function Et(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device Name is Required."),e.qZA())}function Gt(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Device UID is required"),e.qZA())}function li(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Threshold is Required."),e.qZA())}function fi(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Mail is Required."),e.qZA())}function vi(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Phone No. is Required."),e.qZA())}function Di(h,x){1&h&&(e.TgZ(0,"mat-error"),e._uU(1,"Interval is Required."),e.qZA())}let Li=(()=>{class h{onWindowResize(){this.adjustDialogWidth()}adjustDialogWidth(){const t=window.innerWidth;this.dialogRef.updateSize(t<=600?"90%":t<=960?"70%":"400px","")}constructor(t,a,v,b){this.DashDataService=t,this.snackBar=a,this.dialogRef=v,this.data=b,this.errorMessage="",this.DeviceName=new ce.NI({value:"",disabled:!0}),this.DeviceUID=new ce.NI({value:"",disabled:!0}),this.TriggerValue=new ce.NI("",[ce.kI.required]),this.PersonalEmail=new ce.NI("",[ce.kI.required]),this.ContactNO=new ce.NI("",[ce.kI.required]),this.interval=new ce.NI("",[ce.kI.required]),this.device=b}ngOnInit(){this.adjustDialogWidth(),this.DeviceName.setValue(this.device.DeviceName),this.DeviceUID.setValue(this.device.DeviceUID),this.TriggerValue.setValue(this.device.TriggerValue),this.PersonalEmail.setValue(this.device.PersonalEmail),this.ContactNO.setValue(this.device.ContactNO),this.interval.setValue(this.device.interval)}onNoClick(){this.dialogRef.close()}onSaveClick(){if(this.TriggerValue.valid&&this.PersonalEmail.valid&&this.ContactNO.valid){const t=this.DeviceUID.value,a={DeviceName:this.DeviceName.value,TriggerValue:this.TriggerValue.value,interval:this.interval.value,PersonalEmail:this.PersonalEmail.value,ContactNO:this.ContactNO.value};console.log(a),this.DashDataService.updateTrigger(t,a).subscribe(()=>{this.snackBar.open("User updated Successfully!","Dismiss",{duration:2e3}),this.dialogRef.close()},v=>{this.snackBar.open(v.errorMessage||"Failed to rdit user, Please try Again!","Dismiss",{duration:2e3})})}}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(J),e.Y36(me.ux),e.Y36(we.so),e.Y36(we.WI))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-alert-edit"]],hostBindings:function(t,a){1&t&&e.NdJ("resize",function(){return a.onWindowResize()},!1,e.Jf7)},decls:49,vars:12,consts:[[1,"container-fluid"],[1,"row","model-head","mb-2"],[1,"col-lg-12","col-md-6","col-sm-6","pt-1"],[1,"model-title"],[1,"row"],[1,"col-md-6","mb-2"],[1,"from-field"],["matInput","",3,"formControl"],[4,"ngIf"],["matInput","","required","",3,"formControl"],[1,"col-6","justify-content-end","d-flex","mb-2"],["mat-raised-button","",3,"click"],[1,"col-6","mb-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Edit Device"),e.qZA()()(),e.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Device Name"),e.qZA(),e._UZ(10,"input",7),e.YNc(11,Et,2,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Device UID"),e.qZA(),e._UZ(16,"input",7),e.YNc(17,Gt,2,0,"mat-error",8),e.qZA()(),e.TgZ(18,"div",5)(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"Threshold"),e.qZA(),e._UZ(22,"input",9),e.YNc(23,li,2,0,"mat-error",8),e.qZA()(),e.TgZ(24,"div",5)(25,"mat-form-field",6)(26,"mat-label"),e._uU(27,"User Mail"),e.qZA(),e._UZ(28,"input",9),e.YNc(29,fi,2,0,"mat-error",8),e.qZA()(),e.TgZ(30,"div",5)(31,"mat-form-field",6)(32,"mat-label"),e._uU(33,"User Phone"),e.qZA(),e._UZ(34,"input",9),e.YNc(35,vi,2,0,"mat-error",8),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Interval"),e.qZA(),e._UZ(40,"input",9),e.YNc(41,Di,2,0,"mat-error",8),e.qZA()()(),e.TgZ(42,"div",4)(43,"div",10)(44,"button",11),e.NdJ("click",function(){return a.onNoClick()}),e._uU(45,"Close"),e.qZA()(),e.TgZ(46,"div",12)(47,"button",13),e.NdJ("click",function(){return a.onSaveClick()}),e._uU(48,"Update"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("formControl",a.DeviceName),e.xp6(1),e.Q6J("ngIf",a.DeviceName.invalid),e.xp6(5),e.Q6J("formControl",a.DeviceUID),e.xp6(1),e.Q6J("ngIf",a.DeviceUID.invalid),e.xp6(5),e.Q6J("formControl",a.TriggerValue),e.xp6(1),e.Q6J("ngIf",a.TriggerValue.invalid),e.xp6(5),e.Q6J("formControl",a.PersonalEmail),e.xp6(1),e.Q6J("ngIf",a.PersonalEmail.invalid),e.xp6(5),e.Q6J("formControl",a.ContactNO),e.xp6(1),e.Q6J("ngIf",a.ContactNO.invalid),e.xp6(5),e.Q6J("formControl",a.interval),e.xp6(1),e.Q6J("ngIf",a.interval.invalid))},dependencies:[It.O5,K.lW,ae.KE,ae.hX,ae.TO,Ie.Nt,ce.Fj,ce.JJ,ce.Q7,ce.oH],styles:[".model-head[_ngcontent-%COMP%]{background-color:#3f51b5;height:50px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;color:#f5f5f5;display:flex;justify-content:space-between;align-items:center}.model-title[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:550}.from-field[_ngcontent-%COMP%]{width:100%}"]}),h})();var ni=Pt(6709);function yi(h,x){1&h&&(e.TgZ(0,"div"),e._UZ(1,"app-page-loading"),e.qZA())}function qt(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Device Name"),e.qZA())}function _n(h,x){if(1&h&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.DeviceName)}}function Ci(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Device UID"),e.qZA())}function Bn(h,x){if(1&h&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.DeviceUID)}}function Ei(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Threshold"),e.qZA())}function ji(h,x){if(1&h&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.TriggerValue)}}function $n(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"PersonalEmail"),e.qZA())}function Ti(h,x){if(1&h&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.PersonalEmail)}}function Va(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Contact"),e.qZA())}function Wi(h,x){if(1&h&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&h){const t=x.$implicit;e.xp6(1),e.Oqu(t.ContactNO)}}function Un(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"WhatsApp"),e.qZA())}function ma(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",20)(1,"mat-checkbox",21),e.NdJ("change",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.onCheckboxWhatsAppClick(b))}),e._uU(2),e.qZA()()}if(2&h){const t=x.$implicit;e.xp6(1),e.Q6J("checked","1"===t.Whatsapp),e.xp6(1),e.hij(" ","1"===t.Whatsapp?"Enabled":"Disabled"," ")}}function Gi(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Mail"),e.qZA())}function ci(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",20)(1,"mat-checkbox",21),e.NdJ("change",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.onCheckboxMailClick(b))}),e._uU(2),e.qZA()()}if(2&h){const t=x.$implicit;e.xp6(1),e.Q6J("checked","1"===t.Mail),e.xp6(1),e.hij(" ","1"===t.Mail?"Enabled":"Disabled"," ")}}function Ni(h,x){1&h&&(e.TgZ(0,"th",19),e._uU(1,"Action"),e.qZA())}function Ha(h,x){if(1&h){const t=e.EpF();e.TgZ(0,"td",20)(1,"button",22),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.openeditDialog(b))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",23),e.NdJ("click",function(){const b=e.CHM(t).$implicit,V=e.oxw(2);return e.KtG(V.deleteTrigger(b))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function pn(h,x){1&h&&e._UZ(0,"tr",24)}function Kn(h,x){1&h&&e._UZ(0,"tr",25)}function ea(h,x){if(1&h&&(e.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card")(5,"mat-card-content")(6,"div",4)(7,"h3"),e._uU(8,"Alert"),e.qZA()(),e.TgZ(9,"div",5)(10,"table",6),e.ynx(11,7),e.YNc(12,qt,2,0,"th",8),e.YNc(13,_n,2,1,"td",9),e.BQk(),e.ynx(14,10),e.YNc(15,Ci,2,0,"th",8),e.YNc(16,Bn,2,1,"td",9),e.BQk(),e.ynx(17,11),e.YNc(18,Ei,2,0,"th",8),e.YNc(19,ji,2,1,"td",9),e.BQk(),e.ynx(20,12),e.YNc(21,$n,2,0,"th",8),e.YNc(22,Ti,2,1,"td",9),e.BQk(),e.ynx(23,13),e.YNc(24,Va,2,0,"th",8),e.YNc(25,Wi,2,1,"td",9),e.BQk(),e.ynx(26,14),e.YNc(27,Un,2,0,"th",8),e.YNc(28,ma,3,2,"td",9),e.BQk(),e.ynx(29,15),e.YNc(30,Gi,2,0,"th",8),e.YNc(31,ci,3,2,"td",9),e.BQk(),e.ynx(32,16),e.YNc(33,Ni,2,0,"th",8),e.YNc(34,Ha,7,0,"td",9),e.BQk(),e.YNc(35,pn,1,0,"tr",17),e.YNc(36,Kn,1,0,"tr",18),e.qZA()()()()()()()()),2&h){const t=e.oxw();e.xp6(10),e.Q6J("dataSource",t.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}const qn=[{path:"data",component:Vo},{path:"temp",component:Ss},{path:"profile",component:$s},{path:"alert",component:(()=>{class h{constructor(t,a,v){this.dialog=t,this.DashDataService=a,this.dashService=v,this.displayedColumns=["Device Name","Device UID","Threshold","CompanyEmail","Contact No","WhatsApp","Mail","Action"],this.dataSource=[]}ngOnInit(){this.getdata(),this.dashService.isPageLoading(!0)}getdata(){const t=sessionStorage.getItem("CompanyEmail")??"";this.DashDataService.getTriggersData(t).subscribe(a=>{this.dataSource=a,this.dashService.isPageLoading(!1)},()=>{console.log("Error fetching employee data.")})}onCheckboxWhatsAppClick(t){let a;const v=t.DeviceUID;a="0"===t.Whatsapp?1:0,console.log(a),this.DashDataService.UpdateWhatsapp(v,{Whatsapp:a}).subscribe(V=>{this.getdata()},V=>{console.error("Error updating WhatsApp setting:",V)})}onCheckboxMailClick(t){let a;const v=t.DeviceUID;a="0"===t.Mail?1:0,console.log(a),this.DashDataService.UpdateMail(v,{Mail:a}).subscribe(V=>{this.getdata()},V=>{console.error("Error updating Mail setting:",V)})}openeditDialog(t){const a=new we.vA;a.width="500px",a.height="auto",a.maxWidth="90vw",a.data=t,this.dialog.open(Li,a).afterClosed().subscribe(b=>{this.getdata()})}deleteTrigger(t){const a=t.DeviceUID;c().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(v=>{v.isConfirmed&&this.DashDataService.deleteTrigger(a).subscribe(()=>{c().fire({title:"Deleted!",text:"Device Trigger has been deleted.",icon:"success",timer:2e3,timerProgressBar:!0});const b=this.dataSource.indexOf(t);-1!==b&&this.dataSource.splice(b,1),this.dataSource=[...this.dataSource]},b=>{console.error("Error deleting user:",b),c().fire({title:"Error",text:"Error deleting user",icon:"error",timer:2e3,timerProgressBar:!0})})})}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(we.uw),e.Y36(J),e.Y36(bt.k))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-alert"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid","alert"],[1,"row","mb","c-2"],[1,"col-12","mb-2"],[2,"color","#000099"],[1,"table-container",2,"overflow","auto","max-height","100%"],["mat-table","",1,"",3,"dataSource"],["matColumnDef","Device Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Device UID"],["matColumnDef","Threshold"],["matColumnDef","CompanyEmail"],["matColumnDef","Contact No"],["matColumnDef","WhatsApp"],["matColumnDef","Mail"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-icon-button","","color","primary","aria-label","Edit",3,"click"],["mat-icon-button","","color","warn","aria-label","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.YNc(0,yi,2,0,"div",0),e.YNc(1,ea,37,3,"div",0)),2&t&&(e.Q6J("ngIf",a.dashService.pageLoading),e.xp6(1),e.Q6J("ngIf",!a.dashService.pageLoading))},dependencies:[It.O5,wt.Hw,K.RK,Tt.a8,Tt.dn,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,ni.oG,Oe],styles:[".alert[_ngcontent-%COMP%]{padding-top:13vh;padding-bottom:5vh}@media (max-width:425px){.alert[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}@media (min-width:425px) and (max-width:576px){.alert[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}@media (min-width:576px) and (max-width:1024px){.alert[_ngcontent-%COMP%]{padding-top:75px;padding-bottom:20px}}"]}),h})()},{path:"users",component:st},{path:"report",component:Ut},{path:"",redirectTo:"temp",pathMatch:"full"}];let ta=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[mn.Bz.forChild(qn),mn.Bz]}),h})();var An=Pt(3683),sn=Pt(2673),Ki=Pt(4850),Nn=Pt(8255),dr=Pt(6338);let pr=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[It.ez,q.BQ,ks.ZD,ks.ZD,q.BQ]}),h})();var Qo=Pt(7084),Qi=Pt(266),co=Pt(7331),ho=Pt(3848);let uo=(()=>{class h{}return h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({providers:[he.e,It.uU],imports:[It.ez,ta,wt.Ps,An.g0,K.ot,sn.g,Tt.QW,Ea.LD,Ie.c,ae.lN,we.Is,Ki.t,ce.UX,We,ce.u5,Za,q.XK,Nn.Tx,dr.ie,ye.JF,pr,Qo.To,p.p0,ho.Nh,co.Hi,me.ZX,Vt.Cq,Qi.AV,jt,Ft.TU,ni.p9]}),h})()},2407:(La,Hn,Pt)=>{"use strict";var It,mn,we;we=function(we){function ce(e,ye,J,he){e.hasOwnProperty(ye)||(e[ye]=he.apply(null,J),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:ye,module:e[ye]}})))}ce(we=we?we._modules:{},"Extensions/Pane.js",[we["Core/Chart/Chart.js"],we["Series/CenteredUtilities.js"],we["Core/Globals.js"],we["Core/Pointer.js"],we["Core/Utilities.js"]],function(e,ye,J,he,me){function K(C,w,T,M,E){let Q=!0;const de=T[0],q=T[1],U=Math.sqrt(Math.pow(C-de,2)+Math.pow(w-q,2));return Ce(M)&&Ce(E)&&(C=Math.atan2(Ie(w-q,8),Ie(C-de,8)),E!==M&&(Q=M>E?C>=M&&C<=Math.PI||C<=E&&C>=-Math.PI:C>=M&&C<=Ie(E,8))),U<=Math.ceil(T[2]/2)&&Q}const{addEvent:ae,correctFloat:Ie,defined:Ce,extend:ge,merge:Me,pick:oe,splat:ne}=me;return e.prototype.collectionsWithUpdate.push("pane"),e.prototype.getHoverPane=function(C){const w=this;let T;return C&&w.pane.forEach(M=>{K(C.chartX-w.plotLeft,C.chartY-w.plotTop,M.center)&&(T=M)}),T},ae(e,"afterIsInsidePlot",function(C){this.polar&&(C.options.inverted&&([C.x,C.y]=[C.y,C.x]),C.isInsidePlot=this.pane.some(w=>K(C.x,C.y,w.center,w.axis&&w.axis.normalizedStartAngleRad,w.axis&&w.axis.normalizedEndAngleRad)))}),ae(he,"beforeGetHoverData",function(C){const w=this.chart;w.polar?(w.hoverPane=w.getHoverPane(C),C.filter=function(T){return T.visible&&!(!C.shared&&T.directTouch)&&oe(T.options.enableMouseTracking,!0)&&(!w.hoverPane||T.xAxis.pane===w.hoverPane)}):w.hoverPane=void 0}),ae(he,"afterGetHoverData",function(C){const w=this.chart;C.hoverPoint&&C.hoverPoint.plotX&&C.hoverPoint.plotY&&w.hoverPane&&!K(C.hoverPoint.plotX,C.hoverPoint.plotY,w.hoverPane.center)&&(C.hoverPoint=void 0)}),J.Pane=class Y{constructor(w,T){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(w,T)}init(w,T){this.chart=T,this.background=[],T.pane.push(this),this.setOptions(w)}setOptions(w){this.options=Me(this.defaultOptions,this.chart.angular?{background:{}}:void 0,w)}render(){var w=this.options;let T=this.options.background;var M=this.chart.renderer;if(this.group||(this.group=M.g("pane-group").attr({zIndex:w.zIndex||0}).add()),this.updateCenter(),T)for(T=ne(T),w=Math.max(T.length,this.background.length||0),M=0;M<w;M++)T[M]&&this.axis?this.renderBackground(Me(this.defaultBackgroundOptions,T[M]),M):this.background[M]&&(this.background[M]=this.background[M].destroy(),this.background.splice(M,1))}renderBackground(w,T){let M="animate",E={class:"highcharts-pane "+(w.className||"")};this.chart.styledMode||ge(E,{fill:w.backgroundColor,stroke:w.borderColor,"stroke-width":w.borderWidth}),this.background[T]||(this.background[T]=this.chart.renderer.path().add(this.group),M="attr"),this.background[T][M]({d:this.axis.getPlotBandPath(w.from,w.to,w)}).attr(E)}updateCenter(w){this.center=(w||this.axis||{}).center=ye.getCenter.call(this)}update(w,T){Me(!0,this.options,w),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(M){M.pane===this&&(M.pane=null,M.update({},T))},this)}},J.Pane}),ce(we,"Series/AreaRange/AreaRangePoint.js",[we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye){const{area:{prototype:{pointClass:J,pointClass:{prototype:he}}}}=e.seriesTypes,{defined:me,isNumber:K}=ye;return class ae extends J{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const Ce=this.state,ge=this.series,Me=ge.chart.polar;me(this.plotHigh)||(this.plotHigh=ge.yAxis.toPixels(this.high,!0)),me(this.plotLow)||(this.plotLow=this.plotY=ge.yAxis.toPixels(this.low,!0)),ge.stateMarkerGraphic&&(ge.lowerStateMarkerGraphic=ge.stateMarkerGraphic,ge.stateMarkerGraphic=ge.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,Me&&K(this.plotHighX)&&(this.plotX=this.plotHighX),he.setState.apply(this,arguments),this.state=Ce,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],Me&&K(this.plotLowX)&&(this.plotX=this.plotLowX),ge.stateMarkerGraphic&&(ge.upperStateMarkerGraphic=ge.stateMarkerGraphic,ge.stateMarkerGraphic=ge.lowerStateMarkerGraphic,ge.lowerStateMarkerGraphic=void 0),he.setState.apply(this,arguments)}haloPath(){const Ce=this.series.chart.polar;let ge=[];return this.plotY=this.plotLow,Ce&&K(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(ge=he.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,Ce&&K(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(ge=ge.concat(he.haloPath.apply(this,arguments))),ge}isValid(){return K(this.low)&&K(this.high)}}}),ce(we,"Series/AreaRange/AreaRangeSeries.js",[we["Series/AreaRange/AreaRangePoint.js"],we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he){({noop:ye}=ye);const{area:me,area:{prototype:K},column:{prototype:ae}}=J.seriesTypes,{addEvent:Ie,defined:Ce,extend:ge,isArray:Me,isNumber:oe,pick:ne,merge:Y}=he;class C extends me{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(T){return[T.low,T.high]}highToXY(T){const M=this.chart,E=this.xAxis.postTranslate(T.rectPlotX||0,this.yAxis.len-(T.plotHigh||0));T.plotHighX=E.x-M.plotLeft,T.plotHigh=E.y-M.plotTop,T.plotLowX=T.plotX}getGraphPath(T){var M=[],E=[];const Q=K.getGraphPath;var de=this.options;const q=this.chart.polar,U=q&&!1!==de.connectEnds,se=de.connectNulls;let Le,ee,le,L=de.step;for(Le=(T=T||this.points).length;Le--;){ee=T[Le];const j=q?{plotX:ee.rectPlotX,plotY:ee.yBottom,doCurve:!1}:{plotX:ee.plotX,plotY:ee.plotY,doCurve:!1};ee.isNull||U||se||T[Le+1]&&!T[Le+1].isNull||E.push(j),le={polarPlotY:ee.polarPlotY,rectPlotX:ee.rectPlotX,yBottom:ee.yBottom,plotX:ne(ee.plotHighX,ee.plotX),plotY:ee.plotHigh,isNull:ee.isNull},E.push(le),M.push(le),ee.isNull||U||se||T[Le-1]&&!T[Le-1].isNull||E.push(j)}return T=Q.call(this,T),L&&(!0===L&&(L="left"),de.step={left:"right",center:"center",right:"left"}[L]),M=Q.call(this,M),E=Q.call(this,E),de.step=L,de=[].concat(T,M),!this.chart.polar&&E[0]&&"M"===E[0][0]&&(E[0]=["L",E[0][1],E[0][2]]),this.graphPath=de,this.areaPath=T.concat(E),de.isArea=!0,de.xMap=T.xMap,this.areaPath.xMap=T.xMap,de}drawDataLabels(){const T=this.points,M=T.length,E=[],Q=this.options.dataLabels,de=this.chart.inverted;let q,U,se,Le,ee;if(Q){if(Me(Q)?(Le=Q[0]||{enabled:!1},ee=Q[1]||{enabled:!1}):(Le=ge({},Q),Le.x=Q.xHigh,Le.y=Q.yHigh,ee=ge({},Q),ee.x=Q.xLow,ee.y=Q.yLow),Le.enabled||this._hasPointLabels){for(q=M;q--;)if(U=T[q]){const{plotHigh:le=0,plotLow:L=0}=U;se=Le.inside?le<L:le>L,U.y=U.high,U._plotY=U.plotY,U.plotY=le,E[q]=U.dataLabel,U.dataLabel=U.dataLabelUpper,U.below=se,de?Le.align||(Le.align=se?"right":"left"):Le.verticalAlign||(Le.verticalAlign=se?"top":"bottom")}for(this.options.dataLabels=Le,K.drawDataLabels&&K.drawDataLabels.apply(this,arguments),q=M;q--;)(U=T[q])&&(U.dataLabelUpper=U.dataLabel,U.dataLabel=E[q],delete U.dataLabels,U.y=U.low,U.plotY=U._plotY)}if(ee.enabled||this._hasPointLabels){for(q=M;q--;)if(U=T[q]){const{plotHigh:le=0,plotLow:L=0}=U;se=ee.inside?le<L:le>L,U.below=!se,de?ee.align||(ee.align=se?"left":"right"):ee.verticalAlign||(ee.verticalAlign=se?"bottom":"top")}this.options.dataLabels=ee,K.drawDataLabels&&K.drawDataLabels.apply(this,arguments)}if(Le.enabled)for(q=M;q--;)(U=T[q])&&(U.dataLabels=[U.dataLabelUpper,U.dataLabel].filter(function(le){return!!le}));this.options.dataLabels=Q}}alignDataLabel(){ae.alignDataLabel.apply(this,arguments)}drawPoints(){const T=this.points.length;let M,E;for(K.drawPoints.apply(this,arguments),M=0;M<T;)E=this.points[M],E.graphics=E.graphics||[],E.origProps={plotY:E.plotY,plotX:E.plotX,isInside:E.isInside,negative:E.negative,zone:E.zone,y:E.y},(E.graphic||E.graphics[0])&&(E.graphics[0]=E.graphic),E.graphic=E.graphics[1],E.plotY=E.plotHigh,Ce(E.plotHighX)&&(E.plotX=E.plotHighX),E.y=ne(E.high,E.origProps.y),E.negative=E.y<(this.options.threshold||0),this.zones.length&&(E.zone=E.getZone()),this.chart.polar||(E.isInside=E.isTopInside=typeof E.plotY<"u"&&0<=E.plotY&&E.plotY<=this.yAxis.len&&0<=E.plotX&&E.plotX<=this.xAxis.len),M++;for(K.drawPoints.apply(this,arguments),M=0;M<T;)E=this.points[M],E.graphics=E.graphics||[],(E.graphic||E.graphics[1])&&(E.graphics[1]=E.graphic),E.graphic=E.graphics[0],E.origProps&&(ge(E,E.origProps),delete E.origProps),M++}}return C.defaultOptions=Y(me.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),Ie(C,"afterTranslate",function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(w=>{const T=w.high,M=w.plotY;w.isNull?w.plotY=void 0:(w.plotLow=M,w.plotHigh=oe(T)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(T):T,!1,!0,void 0,!0):void 0,this.dataModify&&(w.yBottom=w.plotHigh))})},{order:0}),Ie(C,"afterTranslate",function(){this.points.forEach(w=>{if(this.chart.polar)this.highToXY(w),w.plotLow=w.plotY,w.tooltipPos=[((w.plotHighX||0)+(w.plotLowX||0))/2,((w.plotHigh||0)+(w.plotLow||0))/2];else{const T=w.pos(!1,w.plotLow),M=w.pos(!1,w.plotHigh);T&&M&&(T[0]=(T[0]+M[0])/2,T[1]=(T[1]+M[1])/2),w.tooltipPos=T}})},{order:3}),ge(C.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:e,pointValKey:"low",setStackedPoints:ye}),J.registerSeriesType("arearange",C),C}),ce(we,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[we["Series/AreaRange/AreaRangeSeries.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J){const{spline:{prototype:he}}=ye.seriesTypes,{merge:me,extend:K}=J;class ae extends e{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return ae.defaultOptions=me(e.defaultOptions),K(ae.prototype,{getPointSpline:he.getPointSpline}),ye.registerSeriesType("areasplinerange",ae),ae}),ce(we,"Series/BoxPlot/BoxPlotSeries.js",[we["Series/Column/ColumnSeries.js"],we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he){({noop:ye}=ye);const{extend:me,merge:K,pick:ae}=he;class Ie extends e{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const ge=this.yAxis,Me=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(oe){Me.forEach(function(ne){null!==oe[ne]&&(oe[ne+"Plot"]=ge.translate(oe[ne],0,1,0,1))}),oe.plotHigh=oe.highPlot})}drawPoints(){let Y,C,w,T,M,E,de,q,U,se,ee,ge=this,Me=ge.options,oe=ge.chart,ne=oe.renderer,Q=0,Le=!1!==ge.doQuartiles,le=ge.options.whiskerLength;ge.points.forEach(function(L){var j=L.graphic;let ue=j?"animate":"attr",_e=L.shapeArgs,De={},Be={},Ye={},it={},xt=L.color||ge.color;typeof L.plotY<"u"&&(de=Math.round(_e.width),q=Math.floor(_e.x),U=q+de,se=Math.round(de/2),Y=Math.floor(Le?L.q1Plot:L.lowPlot),C=Math.floor(Le?L.q3Plot:L.lowPlot),w=Math.floor(L.highPlot),T=Math.floor(L.lowPlot),j||(L.graphic=j=ne.g("point").add(ge.group),L.stem=ne.path().addClass("highcharts-boxplot-stem").add(j),le&&(L.whiskers=ne.path().addClass("highcharts-boxplot-whisker").add(j)),Le&&(L.box=ne.path(void 0).addClass("highcharts-boxplot-box").add(j)),L.medianShape=ne.path(void 0).addClass("highcharts-boxplot-median").add(j)),oe.styledMode||(Be.stroke=L.stemColor||Me.stemColor||xt,Be["stroke-width"]=ae(L.stemWidth,Me.stemWidth,Me.lineWidth),Be.dashstyle=L.stemDashStyle||Me.stemDashStyle||Me.dashStyle,L.stem.attr(Be),le&&(Ye.stroke=L.whiskerColor||Me.whiskerColor||xt,Ye["stroke-width"]=ae(L.whiskerWidth,Me.whiskerWidth,Me.lineWidth),Ye.dashstyle=L.whiskerDashStyle||Me.whiskerDashStyle||Me.dashStyle,L.whiskers.attr(Ye)),Le&&(De.fill=L.fillColor||Me.fillColor||xt,De.stroke=Me.lineColor||xt,De["stroke-width"]=Me.lineWidth||0,De.dashstyle=L.boxDashStyle||Me.boxDashStyle||Me.dashStyle,L.box.attr(De)),it.stroke=L.medianColor||Me.medianColor||xt,it["stroke-width"]=ae(L.medianWidth,Me.medianWidth,Me.lineWidth),it.dashstyle=L.medianDashStyle||Me.medianDashStyle||Me.dashStyle,L.medianShape.attr(it)),E=L.stem.strokeWidth()%2/2,Q=q+se+E,L.stem[ue]({d:j=[["M",Q,C],["L",Q,w],["M",Q,Y],["L",Q,T]]}),Le&&(E=L.box.strokeWidth()%2/2,Y=Math.floor(Y)+E,C=Math.floor(C)+E,q+=E,U+=E,L.box[ue]({d:j=[["M",q,C],["L",q,Y],["L",U,Y],["L",U,C],["L",q,C],["Z"]]})),le&&(E=L.whiskers.strokeWidth()%2/2,w+=E,T+=E,ee=/%$/.test(le)?se*parseFloat(le)/100:le/2,L.whiskers[ue]({d:j=[["M",Q-ee,w],["L",Q+ee,w],["M",Q-ee,T],["L",Q+ee,T]]})),M=Math.round(L.medianPlot),E=L.medianShape.strokeWidth()%2/2,M+=E,L.medianShape[ue]({d:j=[["M",q,M],["L",U,M]]}))})}toYData(ge){return[ge.low,ge.q1,ge.median,ge.q3,ge.high]}}return Ie.defaultOptions=K(e.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),me(Ie.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:ye,setStackedPoints:ye}),J.registerSeriesType("boxplot",Ie),Ie}),ce(we,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),ce(we,"Series/Bubble/BubbleLegendItem.js",[we["Core/Color/Color.js"],we["Core/Templating.js"],we["Core/Globals.js"],we["Core/Utilities.js"]],function(e,ye,J,he){const{parse:me}=e,{noop:K}=J,{arrayMax:ae,arrayMin:Ie,isNumber:Ce,merge:ge,pick:Me,stableSort:oe}=he;return class ne{constructor(C,w){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=K,this.init(C,w)}init(C,w){this.options=C,this.visible=!0,this.chart=w.chart,this.legend=w}addToLegend(C){C.splice(this.options.legendIndex,0,this)}drawLegendSymbol(C){const w=Me(C.options.itemDistance,20),T=this.legendItem||{},M=this.options;var E=M.ranges,Q=M.connectorDistance;if(E&&E.length&&Ce(E[0].value)){oe(E,function(q,U){return U.value-q.value}),this.ranges=E,this.setOptions(),this.render(),C=this.getMaxLabelSize();var de=this.ranges[0].radius;E=2*de,Q=0<(Q=Q-de+C.width)?Q:0,this.maxLabel=C,this.movementX="left"===M.labels.align?Q:0,T.labelWidth=E+Q+w,T.labelHeight=E+C.height/2}else C.options.bubbleLegend.autoRanges=!0}setOptions(){const C=this.ranges,w=this.options,T=this.chart.series[w.seriesIndex],M=this.legend.baseline,E={zIndex:w.zIndex,"stroke-width":w.borderWidth},Q={zIndex:w.zIndex,"stroke-width":w.connectorWidth},de={align:this.legend.options.rtl||"left"===w.labels.align?"right":"left",zIndex:w.zIndex},q=T.options.marker.fillOpacity,U=this.chart.styledMode;C.forEach(function(se,Le){U||(E.stroke=Me(se.borderColor,w.borderColor,T.color),E.fill=Me(se.color,w.color,1!==q?me(T.color).setOpacity(q).get("rgba"):T.color),Q.stroke=Me(se.connectorColor,w.connectorColor,T.color)),C[Le].radius=this.getRangeRadius(se.value),C[Le]=ge(C[Le],{center:C[0].radius-C[Le].radius+M}),U||ge(!0,C[Le],{bubbleAttribs:ge(E),connectorAttribs:ge(Q),labelAttribs:de})},this)}getRangeRadius(C){const w=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,w.ranges[w.ranges.length-1].value,w.ranges[0].value,w.minSize,w.maxSize,C)}render(){const C=this.legendItem||{},w=this.chart.renderer,T=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),C.symbol=w.g("bubble-legend"),C.label=w.g("bubble-legend-item").css(this.legend.itemStyle||{}),C.symbol.translateX=0,C.symbol.translateY=0,C.symbol.add(C.label),C.label.add(C.group);for(const M of this.ranges)M.value>=T&&this.renderRange(M);this.hideOverlappingLabels()}renderRange(C){var w=this.options;const T=w.labels;var M=this.chart;const E=M.series[w.seriesIndex],Q=M.renderer,de=this.symbols;M=de.labels;const q=C.center,U=Math.abs(C.radius);var se=w.connectorDistance||0;const Le=T.align,ee=w.connectorWidth,le=this.ranges[0].radius||0,L=q-U-w.borderWidth/2+ee/2,j=Q.styledMode;se=this.legend.options.rtl||"left"===Le?-se:se,"center"===Le&&(se=0,w.connectorDistance=0,C.labelAttribs.align="center"),de.bubbleItems.push(Q.circle(le,q+((L%1?1:.5)-(ee%2?0:.5)),U).attr(j?{}:C.bubbleAttribs).addClass((j?"highcharts-color-"+E.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(w.className||"")).add(this.legendItem.symbol)),de.connectors.push(Q.path(Q.crispLine([["M",le,L],["L",le+se,L]],w.connectorWidth)).attr(j?{}:C.connectorAttribs).addClass((j?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(w.connectorClassName||"")).add(this.legendItem.symbol)),C=Q.text(this.formatLabel(C)).attr(j?{}:C.labelAttribs).css(j?{}:T.style).addClass("highcharts-bubble-legend-labels "+(w.labels.className||"")).add(this.legendItem.symbol),w={x:le+se+w.labels.x,y:L+w.labels.y+.4*C.getBBox().height},C.attr(w),M.push(C),C.placed=!0,C.alignAttr=w}getMaxLabelSize(){let C,w;return this.symbols.labels.forEach(function(T){w=T.getBBox(!0),C=C?w.width>C.width?w:C:w}),C||{}}formatLabel(C){var w=this.options;const T=w.labels.formatter;w=w.labels.format;const{numberFormatter:M}=this.chart;return w?ye.format(w,C):T?T.call(C):M(C.value,1)}hideOverlappingLabels(){const w=this.symbols;!this.options.labels.allowOverlap&&w&&(this.chart.hideOverlappingLabels(w.labels),w.labels.forEach(function(T,M){T.newOpacity?T.newOpacity!==T.oldOpacity&&w.connectors[M].show():w.connectors[M].hide()}))}getRanges(){const C=this.legend.bubbleLegend,w=C.options.ranges;let T,M,E=Number.MAX_VALUE,Q=-Number.MAX_VALUE;return C.chart.series.forEach(function(de){de.isBubble&&!de.ignoreSeries&&(M=de.zData.filter(Ce),M.length&&(E=Me(de.options.zMin,Math.min(E,Math.max(Ie(M),!1===de.options.displayNegative?de.options.zThreshold:-Number.MAX_VALUE))),Q=Me(de.options.zMax,Math.max(Q,ae(M)))))}),T=E===Q?[{value:Q}]:[{value:E},{value:(E+Q)/2},{value:Q,autoRanges:!0}],w.length&&w[0].radius&&T.reverse(),T.forEach(function(de,q){w&&w[q]&&(T[q]=ge(w[q],de))}),T}predictBubbleSizes(){var C=this.chart,w=C.legend.options,T=w.floating;const M=(w="horizontal"===w.layout)?C.legend.lastLineHeight:0,E=C.plotSizeX,Q=C.plotSizeY;var de=C.series[this.options.seriesIndex],q=de.getPxExtremes();C=Math.ceil(q.minPxSize),q=Math.ceil(q.maxPxSize);const U=Math.min(Q,E);return de=de.options.maxSize,T||!/%$/.test(de)?T=q:(T=(U+M)*(de=parseFloat(de))/100/(de/100+1),(w&&Q-T>=E||!w&&E-T>=Q)&&(T=q)),[C,Math.ceil(T)]}updateRanges(C,w){const T=this.legend.options.bubbleLegend;T.minSize=C,T.maxSize=w,T.ranges=this.getRanges()}correctSizes(){const C=this.legend,w=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(w.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,w.maxPxSize),C.render())}}}),ce(we,"Series/Bubble/BubbleLegendComposition.js",[we["Series/Bubble/BubbleLegendDefaults.js"],we["Series/Bubble/BubbleLegendItem.js"],we["Core/Defaults.js"],we["Core/Utilities.js"]],function(e,ye,J,he){function me(w,T,M){const E=this.legend;var Q=0<=K(this);let de,q;E&&E.options.enabled&&E.bubbleLegend&&E.options.bubbleLegend.autoRanges&&Q?(de=E.bubbleLegend.options,Q=E.bubbleLegend.predictBubbleSizes(),E.bubbleLegend.updateRanges(Q[0],Q[1]),de.placed||(E.group.placed=!1,E.allItems.forEach(U=>{q=U.legendItem||{},q.group&&(q.group.translateY=null)})),E.render(),this.getMargins(),this.axes.forEach(function(U){U.visible&&U.render(),de.placed||(U.setScale(),U.updateNames(),ne(U.ticks,function(se){se.isNew=!0,se.isNewLabel=!0}))}),de.placed=!0,this.getMargins(),w.call(this,T,M),E.bubbleLegend.correctSizes(),ge(E,ae(E))):(w.call(this,T,M),E&&E.options.enabled&&E.bubbleLegend&&(E.render(),ge(E,ae(E))))}function K(w){w=w.series;let T=0;for(;T<w.length;){if(w[T]&&w[T].isBubble&&w[T].visible&&w[T].zData.length)return T;T++}return-1}function ae(w){const T=[],M=(w=w.allItems).length;let E,Q,de=0;for(Q=0;Q<M;Q++){var q=w[Q].legendItem||{};if(E=(w[Q+1]||{}).legendItem||{},q.labelHeight&&(w[Q].itemHeight=q.labelHeight),w[Q]===w[M-1]||q.y!==E.y){for(T.push({height:0}),q=T[T.length-1];de<=Q;de++)w[de].itemHeight>q.height&&(q.height=w[de].itemHeight);q.step=Q}}return T}function Ie(w){const T=this.bubbleLegend,M=this.options,E=M.bubbleLegend,Q=K(this.chart);T&&T.ranges&&T.ranges.length&&(E.ranges.length&&(E.autoRanges=!!E.ranges[0].autoRanges),this.destroyItem(T)),0<=Q&&M.enabled&&E.enabled&&(E.seriesIndex=Q,this.bubbleLegend=new ye(E,this),this.bubbleLegend.addToLegend(w.allItems))}function Ce(w){if(w.defaultPrevented)return!1;var T=this.chart;w=this.visible;const M=this.chart.legend;M&&M.bubbleLegend&&(this.visible=!w,this.ignoreSeries=w,T=0<=K(T),M.bubbleLegend.visible!==T&&(M.update({bubbleLegend:{enabled:T}}),M.bubbleLegend.visible=T),this.visible=w)}function ge(w,T){const M=w.options.rtl;let E,Q,de,q,U=0;w.allItems.forEach((se,Le)=>{q=se.legendItem||{},q.group&&(E=q.group.translateX||0,Q=q.y||0,((de=se.movementX)||M&&se.ranges)&&(de=M?E-se.options.maxSize/2:E+de,q.group.attr({translateX:de})),Le>T[U].step&&U++,q.group.attr({translateY:Math.round(Q+T[U].height/2)}),q.y=Q+T[U].height/2)})}const{setOptions:Me}=J,{addEvent:oe,objectEach:ne,wrap:Y}=he,C=[];return{compose:function(w,T,M){he.pushUnique(C,w)&&(Me({legend:{bubbleLegend:e}}),Y(w.prototype,"drawChartBox",me)),he.pushUnique(C,T)&&oe(T,"afterGetAllItems",Ie),he.pushUnique(C,M)&&oe(M,"legendItemClick",Ce)}}}),ce(we,"Series/Bubble/BubblePoint.js",[we["Core/Series/Point.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J){({seriesTypes:{scatter:{prototype:{pointClass:ye}}}}=ye),({extend:J}=J);class he extends ye{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(K){return e.prototype.haloPath.call(this,0===K?0:(this.marker&&this.marker.radius||0)+K)}}return J(he.prototype,{ttBelow:!1}),he}),ce(we,"Series/Bubble/BubbleSeries.js",[we["Series/Bubble/BubbleLegendComposition.js"],we["Series/Bubble/BubblePoint.js"],we["Core/Color/Color.js"],we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he,me,K){function ae(){const q=this.len,U=this.chart,se=this.isXAxis,Le=se?"xData":"yData",ee=this.min,le=this.max-ee;let _e,L=0,j=q,ue=q/le;this.series.forEach(De=>{if(De.bubblePadding&&(De.visible||!U.options.chart.ignoreHiddenSeries)){_e=this.allowZoomOutside=!0;const Be=De[Le];if(se&&((De.onPoint||De).getRadii(0,0,De),De.onPoint&&(De.radii=De.onPoint.radii)),0<le){let Ye=Be.length;for(;Ye--;)if(T(Be[Ye])&&this.dataMin<=Be[Ye]&&Be[Ye]<=this.max){const it=De.radii&&De.radii[Ye]||0;L=Math.min((Be[Ye]-ee)*ue-it,L),j=Math.max((Be[Ye]-ee)*ue+it,j)}}}}),_e&&0<le&&!this.logarithmic&&(j-=q,ue*=(q+Math.max(0,L)-Math.min(j,q))/q,[["min","userMin",L],["max","userMax",j]].forEach(De=>{typeof E(this.options[De[0]],this[De[1]])>"u"&&(this[De[0]]+=De[2]/ue)}))}const{parse:Ie}=J;({noop:J}=he);const{series:Ce,seriesTypes:{column:{prototype:ge},scatter:Me}}=me,{addEvent:oe,arrayMax:ne,arrayMin:Y,clamp:C,extend:w,isNumber:T,merge:M,pick:E}=K,Q=[];class de extends Me{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(U,se,Le,ee){e.compose(se,Le,ee),K.pushUnique(Q,U)&&(U.prototype.beforePadding=ae)}animate(U){!U&&this.points.length<this.options.animationLimit&&this.points.forEach(function(se){const{graphic:Le}=se;Le&&Le.width&&(this.hasRendered||Le.attr({x:se.plotX,y:se.plotY,width:1,height:1}),Le.animate(this.markerAttribs(se),this.options.animation))},this)}getRadii(){const U=this.zData,se=this.yData,Le=[];let ee,le,L,j=this.chart.bubbleZExtremes;const{minPxSize:ue,maxPxSize:_e}=this.getPxExtremes();if(!j){let Ye,De=Number.MAX_VALUE,Be=-Number.MAX_VALUE;this.chart.series.forEach(it=>{it.bubblePadding&&(it.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(it=(it.onPoint||it).getZExtremes())&&(De=Math.min(E(De,it.zMin),it.zMin),Be=Math.max(E(Be,it.zMax),it.zMax),Ye=!0)}),Ye?(j={zMin:De,zMax:Be},this.chart.bubbleZExtremes=j):j={zMin:0,zMax:0}}for(le=0,ee=U.length;le<ee;le++)L=U[le],Le.push(this.getRadius(j.zMin,j.zMax,ue,_e,L,se&&se[le]));this.radii=Le}getRadius(U,se,Le,ee,le,L){const j=this.options,ue="width"!==j.sizeBy,_e=j.zThreshold;let De=se-U,Be=.5;if(null===L||null===le)return null;if(T(le)){if(j.sizeByAbsoluteValue&&(le=Math.abs(le-_e),De=Math.max(se-_e,Math.abs(U-_e)),U=0),le<U)return Le/2-1;0<De&&(Be=(le-U)/De)}return ue&&0<=Be&&(Be=Math.sqrt(Be)),Math.ceil(Le+Be*(ee-Le))/2}hasData(){return!!this.processedXData.length}pointAttribs(U,se){const Le=this.options.marker.fillOpacity;return U=Ce.prototype.pointAttribs.call(this,U,se),1!==Le&&(U.fill=Ie(U.fill).setOpacity(Le).get("rgba")),U}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:U,options:se,radii:Le}=this,{minPxSize:ee}=this.getPxExtremes();let le=U.length;for(;le--;){const L=U[le],j=Le?Le[le]:0;"z"===this.zoneAxis&&(L.negative=(L.z||0)<(se.zThreshold||0)),T(j)&&j>=ee/2?(L.marker=w(L.marker,{radius:j,width:2*j,height:2*j}),L.dlBox={x:L.plotX-j,y:L.plotY-j,width:2*j,height:2*j}):(L.shapeArgs=L.plotY=L.dlBox=void 0,L.isInside=!1)}}getPxExtremes(){const U=Math.min(this.chart.plotWidth,this.chart.plotHeight);var se=ee=>{let le;return"string"==typeof ee&&(le=/%$/.test(ee),ee=parseInt(ee,10)),le?U*ee/100:ee};const Le=se(E(this.options.minSize,8));return{minPxSize:Le,maxPxSize:se=Math.max(se(E(this.options.maxSize,"20%")),Le)}}getZExtremes(){var U=this.options;const se=(this.zData||[]).filter(T);if(se.length){const Le=E(U.zMin,C(Y(se),!1===U.displayNegative?U.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(U=E(U.zMax,ne(se)),T(Le)&&T(U))return{zMin:Le,zMax:U}}}}return de.defaultOptions=M(Me.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:q}=this.series.chart,{z:U}=this.point;return T(U)?q(U,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),w(de.prototype,{alignDataLabel:ge.alignDataLabel,applyZones:J,bubblePadding:!0,buildKDTree:J,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:ye,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),oe(de,"updatedData",q=>{delete q.target.chart.bubbleZExtremes}),oe(de,"remove",q=>{delete q.target.chart.bubbleZExtremes}),me.registerSeriesType("bubble",de),de}),ce(we,"Series/ColumnRange/ColumnRangePoint.js",[we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye){const{seriesTypes:{column:{prototype:{pointClass:{prototype:J}}},arearange:{prototype:{pointClass:he}}}}=e,{extend:me,isNumber:K}=ye;class ae extends he{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return K(this.low)}}return me(ae.prototype,{setState:J.setState}),ae}),ce(we,"Series/ColumnRange/ColumnRangeSeries.js",[we["Series/ColumnRange/ColumnRangePoint.js"],we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he){({noop:ye}=ye);const{seriesTypes:{arearange:me,column:K,column:{prototype:ae}}}=J,{addEvent:Ie,clamp:Ce,extend:ge,isNumber:Me,merge:oe,pick:ne}=he;class Y extends me{setOptions(){return oe(!0,arguments[0],{stacking:void 0}),me.prototype.setOptions.apply(this,arguments)}translate(){return ae.translate.apply(this)}pointAttribs(){return ae.pointAttribs.apply(this,arguments)}translate3dPoints(){return ae.translate3dPoints.apply(this,arguments)}translate3dShapes(){return ae.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){const w=this.yAxis,T=this.xAxis,M=T.startAngleRad,E=this.chart,Q=this.xAxis.isRadial,de=Math.max(E.chartWidth,E.chartHeight)+999;let q,U,se,Le;this.points.forEach(ee=>{const le=ee.shapeArgs||{},L=this.options.minPointLength,j=ee.plotY,ue=w.translate(ee.high,0,1,0,1);if(Me(ue)&&Me(j))if(ee.plotHigh=Ce(ue,-de,de),ee.plotLow=Ce(j,-de,de),Le=ee.plotHigh,q=ne(ee.rectPlotY,ee.plotY)-ee.plotHigh,Math.abs(q)<L?(U=L-q,q+=U,Le-=U/2):0>q&&(q*=-1,Le-=q),Q&&this.polar)se=ee.barX+M,ee.shapeType="arc",ee.shapeArgs=this.polar.arc(Le+q,Le,se,se+ee.pointWidth);else{le.height=q,le.y=Le;const{x:_e=0,width:De=0}=le;ee.shapeArgs=oe(ee.shapeArgs,this.crispCol(_e,Le,De,q)),ee.tooltipPos=E.inverted?[w.len+w.pos-E.plotLeft-Le-q/2,T.len+T.pos-E.plotTop-_e-De/2,q]:[T.left-E.plotLeft+_e+De/2,w.pos-E.plotTop+Le+q/2,q]}})}}return Y.defaultOptions=oe(K.defaultOptions,me.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),Ie(Y,"afterColumnTranslate",function(){Y.prototype.afterColumnTranslate.apply(this)},{order:5}),ge(Y.prototype,{directTouch:!0,pointClass:e,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:ae.adjustForMissingColumns,animate:ae.animate,crispCol:ae.crispCol,drawGraph:ye,drawPoints:ae.drawPoints,getSymbol:ye,drawTracker:ae.drawTracker,getColumnMetrics:ae.getColumnMetrics}),J.registerSeriesType("columnrange",Y),Y}),ce(we,"Series/ColumnPyramid/ColumnPyramidSeries.js",[we["Series/Column/ColumnSeries.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J){const{prototype:he}=e,{clamp:me,merge:K,pick:ae}=J;class Ie extends e{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let ge=this,Me=ge.chart,oe=ge.options;var ne=ge.dense=2>ge.closestPointRange*ge.xAxis.transA;ne=ge.borderWidth=ae(oe.borderWidth,ne?0:1);let Y=ge.yAxis,C=oe.threshold,w=ge.translatedThreshold=Y.getThreshold(C),T=ae(oe.minPointLength,5),M=ge.getColumnMetrics(),E=M.width,Q=ge.barW=Math.max(E,1+2*ne),de=ge.pointXOffset=M.offset;Me.inverted&&(w-=.5),oe.pointPadding&&(Q=Math.ceil(Q)),he.translate.apply(ge),ge.points.forEach(function(q){var U=ae(q.yBottom,w),se=999+Math.abs(U),Le=me(q.plotY,-se,Y.len+se);se=q.plotX+de;let ee=Q/2,le=Math.min(Le,U);var L;let j,ue;U=Math.max(Le,U)-le,q.barX=se,q.pointWidth=E,q.tooltipPos=Me.inverted?[Y.len+Y.pos-Me.plotLeft-Le,ge.xAxis.len-se-ee,U]:[se+ee,Le+Y.pos-Me.plotTop,U],Le=C+(q.total||q.y),"percent"===oe.stacking&&(Le=C+(0>q.y)?-100:100),Le=Y.toPixels(Le,!0);var _e=(L=Me.plotHeight-Le-(Me.plotHeight-w))?ee*(le-Le)/L:0,De=L?ee*(le+U-Le)/L:0;L=se-_e+ee,_e=se+_e+ee;var Be=se+De+ee;De=se-De+ee,j=le-T,ue=le+U,0>q.y&&(j=le,ue=le+U+T),Me.inverted&&(De=ee*(Le-((Be=Y.width-le)-U))/(L=Le-(Y.width-w)),_e=(L=se+ee+(_e=ee*(Le-Be)/L))-2*_e,Be=se-De+ee,De=se+De+ee,j=le,ue=le+U-T,0>q.y&&(ue=le+U+T)),q.shapeType="path",q.shapeArgs={x:L,y:j,width:_e-L,height:U,d:[["M",L,j],["L",_e,j],["L",Be,ue],["L",De,ue],["Z"]]}})}}return Ie.defaultOptions=K(e.defaultOptions,{}),ye.registerSeriesType("columnpyramid",Ie),Ie}),ce(we,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),ce(we,"Series/ErrorBar/ErrorBarSeries.js",[we["Series/BoxPlot/BoxPlotSeries.js"],we["Series/Column/ColumnSeries.js"],we["Series/ErrorBar/ErrorBarSeriesDefaults.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he,me){const{arearange:K}=he.seriesTypes,{addEvent:ae,merge:Ie,extend:Ce}=me;class ge extends e{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||ye.prototype.getColumnMetrics.call(this)}drawDataLabels(){const oe=this.pointValKey;K&&(K.prototype.drawDataLabels.call(this),this.data.forEach(function(ne){ne.y=ne[oe]}))}toYData(oe){return[oe.low,oe.high]}}return ge.defaultOptions=Ie(e.defaultOptions,J),ae(ge,"afterTranslate",function(){this.points.forEach(Me=>{Me.plotLow=Me.plotY})},{order:0}),Ce(ge.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),he.registerSeriesType("errorbar",ge),ge}),ce(we,"Series/Gauge/GaugePoint.js",[we["Core/Series/SeriesRegistry.js"]],function(e){return({series:{prototype:{pointClass:e}}}=e),class ye extends e{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(he){this.state=he}}}),ce(we,"Series/Gauge/GaugeSeries.js",[we["Series/Gauge/GaugePoint.js"],we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J,he){({noop:ye}=ye);const{series:me,seriesTypes:{column:K}}=J,{clamp:ae,isNumber:Ie,extend:Ce,merge:ge,pick:Me,pInt:oe,defined:ne}=he;class Y extends me{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const w=this.yAxis,T=this.options,M=w.center;this.generatePoints(),this.points.forEach(E=>{const Q=ge(T.dial,E.dial),de=oe(Q.radius)*M[2]/200,q=oe(Q.baseLength)*de/100,U=oe(Q.rearLength)*de/100,se=Q.baseWidth,Le=Q.topWidth;let ee=T.overshoot,le=w.startAngleRad+w.translate(E.y,void 0,void 0,void 0,!0);(Ie(ee)||!1===T.wrap)&&(ee=Ie(ee)?ee/180*Math.PI:0,le=ae(le,w.startAngleRad-ee,w.endAngleRad+ee)),le=180*le/Math.PI,E.shapeType="path",E.shapeArgs={d:Q.path||[["M",-U,-se/2],["L",q,-se/2],["L",de,-Le/2],["L",de,Le/2],["L",q,se/2],["L",-U,se/2],["Z"]],translateX:M[0],translateY:M[1],rotation:le},E.plotX=M[0],E.plotY=M[1],ne(E.y)&&w.max-w.min&&(E.percentage=(E.y-w.min)/(w.max-w.min)*100)})}drawPoints(){const w=this,T=w.chart,M=w.yAxis.center,E=w.pivot,Q=w.options,de=Q.pivot,q=T.renderer;w.points.forEach(U=>{const se=U.graphic,Le=U.shapeArgs,ee=Le.d,le=ge(Q.dial,U.dial);se?(se.animate(Le),Le.d=ee):U.graphic=q[U.shapeType](Le).addClass("highcharts-dial").add(w.group),T.styledMode||U.graphic[se?"animate":"attr"]({stroke:le.borderColor,"stroke-width":le.borderWidth,fill:le.backgroundColor})}),E?E.animate({translateX:M[0],translateY:M[1]}):de&&(w.pivot=q.circle(0,0,de.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(M[0],M[1]).add(w.group),T.styledMode||w.pivot.attr({fill:de.backgroundColor,stroke:de.borderColor,"stroke-width":de.borderWidth}))}animate(w){const T=this;w||T.points.forEach(M=>{const E=M.graphic;E&&(E.attr({rotation:180*T.yAxis.startAngleRad/Math.PI}),E.animate({rotation:M.shapeArgs.rotation},T.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),me.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(w,T){me.prototype.setData.call(this,w,!1),this.processData(),this.generatePoints(),Me(T,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return Y.defaultOptions=ge(me.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),Ce(Y.prototype,{angular:!0,directTouch:!0,drawGraph:ye,drawTracker:K.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:e,trackerGroups:["group","dataLabelsGroup"]}),J.registerSeriesType("gauge",Y),Y}),ce(we,"Series/DragNodesComposition.js",[we["Core/Utilities.js"]],function(e){function ye(){const me=this;let K,ae,Ie;me.container&&(K=J(me.container,"mousedown",Ce=>{const ge=me.hoverPoint;ge&&ge.series&&ge.series.hasDraggableNodes&&ge.series.options.draggable&&(ge.series.onMouseDown(ge,Ce),ae=J(me.container,"mousemove",Me=>ge&&ge.series&&ge.series.onMouseMove(ge,Me)),Ie=J(me.container.ownerDocument,"mouseup",Me=>(ae(),Ie(),ge&&ge.series&&ge.series.onMouseUp(ge,Me))))})),J(me,"destroy",function(){K()})}const{addEvent:J}=e,he=[];return{compose:function(me){e.pushUnique(he,me)&&J(me,"load",ye)},onMouseDown:function(me,K){K=this.chart.pointer.normalize(K),me.fixedPosition={chartX:K.chartX,chartY:K.chartY,plotX:me.plotX,plotY:me.plotY},me.inDragMode=!0},onMouseMove:function(me,K){if(me.fixedPosition&&me.inDragMode){const Ce=this.chart;K=Ce.pointer.normalize(K);var ae=me.fixedPosition.chartX-K.chartX,Ie=me.fixedPosition.chartY-K.chartY;K=Ce.graphLayoutsLookup,(5<Math.abs(ae)||5<Math.abs(Ie))&&Ce.isInsidePlot(ae=me.fixedPosition.plotX-ae,Ie=me.fixedPosition.plotY-Ie)&&(me.plotX=ae,me.plotY=Ie,me.hasDragged=!0,this.redrawHalo(me),K.forEach(ge=>{ge.restartSimulation()}))}},onMouseUp:function(me,K){me.fixedPosition&&(me.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),me.inDragMode=me.hasDragged=!1,this.options.fixedDraggable||delete me.fixedPosition)},redrawHalo:function(me){me&&this.halo&&this.halo.attr({d:me.haloPath(this.options.states.hover.halo.size)})}}}),ce(we,"Series/GraphLayoutComposition.js",[we["Core/Animation/AnimationUtilities.js"],we["Core/Utilities.js"]],function(e,ye){function J(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(ge=>{ge.updateSimulation()}),this.redraw())}function he(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(ge=>{ge.updateSimulation(!1)}),this.redraw())}function me(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(ge=>{ge.stop()})}function K(){let ge,Me=!1;const oe=ne=>{ne.maxIterations--&&isFinite(ne.temperature)&&!ne.isStable()&&!ne.enableSimulation&&(ne.beforeStep&&ne.beforeStep(),ne.step(),ge=!1,Me=!0)};if(this.graphLayoutsLookup){for(ae(!1,this),this.graphLayoutsLookup.forEach(ne=>ne.start());!ge;)ge=!0,this.graphLayoutsLookup.forEach(oe);Me&&this.series.forEach(ne=>{ne&&ne.layout&&ne.render()})}}const{setAnimation:ae}=e,{addEvent:Ie}=ye,Ce=[];return{compose:function(ge){ye.pushUnique(Ce,ge)&&(Ie(ge,"afterPrint",J),Ie(ge,"beforePrint",he),Ie(ge,"predraw",me),Ie(ge,"render",K))},integrations:{},layouts:{}}}),ce(we,"Series/PackedBubble/PackedBubblePoint.js",[we["Core/Chart/Chart.js"],we["Core/Series/Point.js"],we["Core/Series/SeriesRegistry.js"]],function(e,ye,J){return({seriesTypes:{bubble:{prototype:{pointClass:J}}}}=J),class he extends J{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),ye.prototype.destroy.apply(this,arguments)}firePointEvent(){const K=this.series.options;if(this.isParentNode&&K.parentNode){const ae=K.allowPointSelect;K.allowPointSelect=K.parentNode.allowPointSelect,ye.prototype.firePointEvent.apply(this,arguments),K.allowPointSelect=ae}else ye.prototype.firePointEvent.apply(this,arguments)}select(){const K=this.series.chart;this.isParentNode?(K.getSelectedPoints=K.getSelectedParentNodes,ye.prototype.select.apply(this,arguments),K.getSelectedPoints=e.prototype.getSelectedPoints):ye.prototype.select.apply(this,arguments)}}}),ce(we,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[we["Core/Utilities.js"]],function(e){const{isNumber:ye}=e;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:J}=this.series.chart,{value:he}=this.point;return ye(he)?J(he,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),ce(we,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(e,ye,J){const he=e.getMass(),me=-J.x*ye*this.diffTemperature;ye=-J.y*ye*this.diffTemperature,e.fromNode.fixedPosition||(e.fromNode.plotX-=me*he.fromNode/e.fromNode.degree,e.fromNode.plotY-=ye*he.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.plotX+=me*he.toNode/e.toNode.degree,e.toNode.plotY+=ye*he.toNode/e.toNode.degree)},attractiveForceFunction:function(e,ye){return(ye-e)/e},barycenter:function(){let e=this.options.gravitationalConstant,ye=this.barycenter.xFactor,J=this.barycenter.yFactor;ye=(ye-(this.box.left+this.box.width)/2)*e,J=(J-(this.box.top+this.box.height)/2)*e,this.nodes.forEach(function(he){he.fixedPosition||(he.plotX-=ye/he.mass/he.degree,he.plotY-=J/he.mass/he.degree)})},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.5)},integrate:function(e,ye){var J=-e.options.friction;let he=e.options.maxSpeed,me=(ye.plotX+ye.dispX-ye.prevX)*J;J*=ye.plotY+ye.dispY-ye.prevY;var K=Math.abs;let ae=K(me)/(me||1);K=K(J)/(J||1),me=ae*Math.min(he,Math.abs(me)),J=K*Math.min(he,Math.abs(J)),ye.prevX=ye.plotX+ye.dispX,ye.prevY=ye.plotY+ye.dispY,ye.plotX+=me,ye.plotY+=J,ye.temperature=e.vectorLength({x:me,y:J})},repulsive:function(e,ye,J){ye=ye*this.diffTemperature/e.mass/e.degree,e.fixedPosition||(e.plotX+=J.x*ye,e.plotY+=J.y*ye)},repulsiveForceFunction:function(e,ye){return(ye-e)/e*(ye>e?1:0)}}}),ce(we,"Series/PackedBubble/PackedBubbleIntegration.js",[we["Core/Globals.js"],we["Series/Networkgraph/VerletIntegration.js"]],function(e,ye){return({noop:e}=e),{barycenter:function(){const J=this.options.gravitationalConstant,he=this.box,me=this.nodes;let K,ae;for(const Ie of me)this.options.splitSeries&&!Ie.isParentNode?(K=Ie.series.parentNode.plotX,ae=Ie.series.parentNode.plotY):(K=he.width/2,ae=he.height/2),Ie.fixedPosition||(Ie.plotX-=(Ie.plotX-K)*J/(Ie.mass*Math.sqrt(me.length)),Ie.plotY-=(Ie.plotY-ae)*J/(Ie.mass*Math.sqrt(me.length)))},getK:e,integrate:ye.integrate,repulsive:function(J,he,me,K){const ae=he*this.diffTemperature/J.mass/J.degree;he=me.x*ae,me=me.y*ae,J.fixedPosition||(J.plotX+=he,J.plotY+=me),K.fixedPosition||(K.plotX-=he,K.plotY-=me)},repulsiveForceFunction:function(J,he,me,K){return Math.min(J,(me.marker.radius+K.marker.radius)/2)}}}),ce(we,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(e,ye,J,he){const me=e.getMass(),K=J.x/he*ye;ye*=J.y/he,e.fromNode.fixedPosition||(e.fromNode.dispX-=K*me.fromNode/e.fromNode.degree,e.fromNode.dispY-=ye*me.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.dispX+=K*me.toNode/e.toNode.degree,e.toNode.dispY+=ye*me.toNode/e.toNode.degree)},attractiveForceFunction:function(e,ye){return e*e/ye},barycenter:function(){const e=this.options.gravitationalConstant,ye=this.barycenter.xFactor,J=this.barycenter.yFactor;this.nodes.forEach(function(he){if(!he.fixedPosition){var me=he.getDegree();he.dispX+=(ye-he.plotX)*e*(me*=1+me/2)/he.degree,he.dispY+=(J-he.plotY)*e*me/he.degree}})},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.3)},integrate:function(e,ye){let J;ye.dispX+=ye.dispX*e.options.friction,ye.dispY+=ye.dispY*e.options.friction,J=ye.temperature=e.vectorLength({x:ye.dispX,y:ye.dispY}),0!==J&&(ye.plotX+=ye.dispX/J*Math.min(Math.abs(ye.dispX),e.temperature),ye.plotY+=ye.dispY/J*Math.min(Math.abs(ye.dispY),e.temperature))},repulsive:function(e,ye,J,he){e.dispX+=J.x/he*ye/e.degree,e.dispY+=J.y/he*ye/e.degree},repulsiveForceFunction:function(e,ye){return ye*ye/e}}}),ce(we,"Series/Networkgraph/QuadTreeNode.js",[],function(){class e{constructor(J){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=J,this.boxSize=Math.min(J.width,J.height)}divideBox(){const J=this.box.width/2,he=this.box.height/2;this.nodes[0]=new e({left:this.box.left,top:this.box.top,width:J,height:he}),this.nodes[1]=new e({left:this.box.left+J,top:this.box.top,width:J,height:he}),this.nodes[2]=new e({left:this.box.left+J,top:this.box.top+he,width:J,height:he}),this.nodes[3]=new e({left:this.box.left,top:this.box.top+he,width:J,height:he})}getBoxPosition(J){const he=J.plotY<this.box.top+this.box.height/2;return J.plotX<this.box.left+this.box.width/2?he?0:3:he?1:2}insert(J,he){this.isInternal?this.nodes[this.getBoxPosition(J)].insert(J,he-1):(this.isEmpty=!1,this.body?he?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,he-1),this.body=!0),this.nodes[this.getBoxPosition(J)].insert(J,he-1)):((he=new e({top:J.plotX||NaN,left:J.plotY||NaN,width:.1,height:.1})).body=J,he.isInternal=!1,this.nodes.push(he)):(this.isInternal=!1,this.body=J))}updateMassAndCenter(){let J=0,he=0,me=0;if(this.isInternal){for(const K of this.nodes)K.isEmpty||(J+=K.mass,he+=K.plotX*K.mass,me+=K.plotY*K.mass);he/=J,me/=J}else this.body&&(J=this.body.mass,he=this.body.plotX,me=this.body.plotY);this.mass=J,this.plotX=he,this.plotY=me}}return e}),ce(we,"Series/Networkgraph/QuadTree.js",[we["Series/Networkgraph/QuadTreeNode.js"]],function(e){return class ye{constructor(he,me,K,ae){this.box={left:he,top:me,width:K,height:ae},this.maxDepth=25,this.root=new e(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(he){he.updateMassAndCenter()})}insertNodes(he){for(const me of he)this.root.insert(me,this.maxDepth)}visitNodeRecursive(he,me,K){let ae;if(he||(he=this.root),he===this.root&&me&&(ae=me(he)),!1!==ae){for(const Ie of he.nodes){if(Ie.isInternal){if(me&&(ae=me(Ie)),!1===ae)continue;this.visitNodeRecursive(Ie,me,K)}else Ie.body&&me&&me(Ie.body);K&&K(Ie)}he===this.root&&K&&K(he)}}}}),ce(we,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[we["Series/Networkgraph/EulerIntegration.js"],we["Core/Globals.js"],we["Series/GraphLayoutComposition.js"],we["Series/Networkgraph/QuadTree.js"],we["Core/Utilities.js"],we["Series/Networkgraph/VerletIntegration.js"]],function(e,ye,J,he,me,K){const{win:ae}=ye,{clamp:Ie,defined:Ce,isFunction:ge,fireEvent:Me,pick:oe}=me;class ne{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(C){J.compose(C),J.integrations.euler=e,J.integrations.verlet=K,J.layouts["reingold-fruchterman"]=ne}init(C){this.options=C,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=J.integrations[C.integration],this.enableSimulation=C.enableSimulation,this.attractiveForce=oe(C.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=oe(C.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=C.approximation}updateSimulation(C){this.enableSimulation=oe(C,this.options.enableSimulation)}start(){const C=this.series,w=this.options;this.currentStep=0,this.forces=C[0]&&C[0].forces||[],this.chart=C[0]&&C[0].chart,this.initialRendering&&(this.initPositions(),C.forEach(function(T){T.finishedAnimating=!0,T.render()})),this.setK(),this.resetSimulation(w),this.enableSimulation&&this.step()}step(){const C=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const w of this.forces||[])this[w+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const w of C)w.chart&&w.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&ae.cancelAnimationFrame(this.simulation),this.simulation=ae.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(w=>{Me(w,"afterSimulation")}))}}stop(){this.simulation&&ae.cancelAnimationFrame(this.simulation)}setArea(C,w,T,M){this.box={left:C,top:w,width:T,height:M}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(C,w){for(const T of C)-1===w.indexOf(T)&&w.push(T)}removeElementFromCollection(C,w){-1!==(C=w.indexOf(C))&&w.splice(C,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(C){this.maxIterations=oe(C,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(C){this.initialRendering=C}createQuadTree(){this.quadTree=new he(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const C=this.options.initialPositions;if(ge(C)){C.call(this);for(const w of this.nodes)Ce(w.prevX)||(w.prevX=w.plotX),Ce(w.prevY)||(w.prevY=w.plotY),w.dispX=0,w.dispY=0}else"circle"===C?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const C=this.box;var w=this.nodes;const T=2*Math.PI/(w.length+1),M=w.filter(function(U){return 0===U.linksTo.length}),E={},Q=this.options.initialPositionRadius,de=U=>{for(const se of U.linksFrom||[])E[se.toNode.id]||(E[se.toNode.id]=!0,q.push(se.toNode),de(se.toNode))};let q=[];for(const U of M)q.push(U),de(U);if(q.length)for(const U of w)-1===q.indexOf(U)&&q.push(U);else q=w;for(let U=0,se=q.length;U<se;++U)(w=q[U]).plotX=w.prevX=oe(w.plotX,C.width/2+Q*Math.cos(U*T)),w.plotY=w.prevY=oe(w.plotY,C.height/2+Q*Math.sin(U*T)),w.dispX=0,w.dispY=0}setRandomPositions(){const C=this.box,w=this.nodes,T=w.length+1,M=Q=>(Q=Q*Q/Math.PI)-Math.floor(Q);let E;for(let Q=0,de=w.length;Q<de;++Q)E=w[Q],E.plotX=E.prevX=oe(E.plotX,C.width*M(Q)),E.plotY=E.prevY=oe(E.plotY,C.height*M(T+Q)),E.dispX=0,E.dispY=0}force(C,...w){this.integration[C].apply(this,w)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let C=0,w=0,T=0;for(const M of this.nodes)w+=M.plotX*M.mass,T+=M.plotY*M.mass,C+=M.mass;return this.barycenter={x:w,y:T,xFactor:w/C,yFactor:T/C}}barnesHutApproximation(C,w){const T=this.getDistXY(C,w),M=this.vectorLength(T);let E,Q;return C!==w&&0!==M&&(w.isInternal?w.boxSize/M<this.options.theta&&0!==M?(Q=this.repulsiveForce(M,this.k),this.force("repulsive",C,Q*w.mass,T,M),E=!1):E=!0:(Q=this.repulsiveForce(M,this.k),this.force("repulsive",C,Q*w.mass,T,M))),E}repulsiveForces(){if("barnes-hut"===this.approximation)for(const C of this.nodes)this.quadTree.visitNodeRecursive(null,w=>this.barnesHutApproximation(C,w));else{let C,w,T;for(const M of this.nodes)for(const E of this.nodes)M===E||M.fixedPosition||(T=this.getDistXY(M,E),w=this.vectorLength(T),0!==w&&(C=this.repulsiveForce(w,this.k),this.force("repulsive",M,C*E.mass,T,w)))}}attractiveForces(){let C,w,T;for(const M of this.links)M.fromNode&&M.toNode&&(C=this.getDistXY(M.fromNode,M.toNode),w=this.vectorLength(C),0!==w&&(T=this.attractiveForce(w,this.k),this.force("attractive",M,T,C,w)))}applyLimits(){const C=this.nodes;for(const w of C){if(w.fixedPosition)break;this.integration.integrate(this,w),this.applyLimitBox(w,this.box),w.dispX=0,w.dispY=0}}applyLimitBox(C,w){const T=C.radius;C.plotX=Ie(C.plotX,w.left+T,w.width-T),C.plotY=Ie(C.plotY,w.top+T,w.height-T)}coolDown(C,w,T){return C-w*T}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let C=0;for(const w of this.nodes)C+=w.temperature;return C}vectorLength(C){return Math.sqrt(C.x*C.x+C.y*C.y)}getDistR(C,w){return C=this.getDistXY(C,w),this.vectorLength(C)}getDistXY(C,w){const T=C.plotX-w.plotX;return{x:T,y:C=C.plotY-w.plotY,absX:Math.abs(T),absY:Math.abs(C)}}}return ne}),ce(we,"Series/PackedBubble/PackedBubbleLayout.js",[we["Series/GraphLayoutComposition.js"],we["Series/PackedBubble/PackedBubbleIntegration.js"],we["Series/Networkgraph/ReingoldFruchtermanLayout.js"],we["Core/Utilities.js"]],function(e,ye,J,he){function me(){const Me=[];return this.series.forEach(oe=>{oe.parentNode&&oe.parentNode.selected&&Me.push(oe.parentNode)}),Me}function K(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:ae,pick:Ie}=he,Ce=[];class ge extends J{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(oe){J.compose(oe),e.integrations.packedbubble=ye,e.layouts.packedbubble=ge,he.pushUnique(Ce,oe)&&(ae(oe,"beforeRedraw",K),oe.prototype.getSelectedParentNodes=me)}beforeStep(){this.options.marker&&this.series.forEach(oe=>{oe&&oe.calculateParentRadius()})}isStable(){const oe=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>oe||0>=this.temperature}setCircularPositions(){const oe=this.box;var ne=this.nodes;const Y=2*Math.PI/(ne.length+1),C=this.options.initialPositionRadius;let w,T=0;for(const M of ne)this.options.splitSeries&&!M.isParentNode?(ne=M.series.parentNode.plotX,w=M.series.parentNode.plotY):(ne=oe.width/2,w=oe.height/2),M.plotX=M.prevX=Ie(M.plotX,ne+C*Math.cos(M.index||T*Y)),M.plotY=M.prevY=Ie(M.plotY,w+C*Math.sin(M.index||T*Y)),M.dispX=0,M.dispY=0,T++}repulsiveForces(){const oe=this,ne=oe.options.bubblePadding;let Y,C,w;oe.nodes.forEach(T=>{T.degree=T.mass,T.neighbours=0,oe.nodes.forEach(M=>{Y=0,T===M||T.fixedPosition||!oe.options.seriesInteraction&&T.series!==M.series||(w=oe.getDistXY(T,M),C=oe.vectorLength(w)-(T.marker.radius+M.marker.radius+ne),0>C&&(T.degree+=.01,T.neighbours++,Y=oe.repulsiveForce(-C/Math.sqrt(T.neighbours),oe.k,T,M)),oe.force("repulsive",T,Y*M.mass,w,M,C))})})}applyLimitBox(oe,ne){let Y,C;this.options.splitSeries&&!oe.isParentNode&&this.options.parentNodeLimit&&(Y=this.getDistXY(oe,oe.series.parentNode),C=oe.series.parentNodeRadius-oe.marker.radius-this.vectorLength(Y),0>C&&C>-2*oe.marker.radius&&(oe.plotX-=.01*Y.x,oe.plotY-=.01*Y.y)),super.applyLimitBox(oe,ne)}}return e.layouts.packedbubble=ge}),ce(we,"Series/SimulationSeriesUtilities.js",[we["Core/Utilities.js"],we["Core/Animation/AnimationUtilities.js"]],function(e,ye){const{syncTimeout:J}=e,{animObject:he}=ye;return{initDataLabels:function(){const me=this.options.dataLabels;if(!this.dataLabelsGroup){const K=this.initDataLabelsGroup();return!this.chart.styledMode&&null!=me&&me.style&&K.css(me.style),K.attr({opacity:0}),this.visible&&K.show(),K}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var me;const K=this.options.dataLabels;null!=K&&K.defer&&null!==(me=this.options.layoutAlgorithm)&&void 0!==me&&me.enableSimulation?J(()=>{this.deferDataLabels=!1},K?he(K.animation).defer:0):this.deferDataLabels=!1}}}),ce(we,"Series/PackedBubble/PackedBubbleSeries.js",[we["Core/Color/Color.js"],we["Series/DragNodesComposition.js"],we["Series/GraphLayoutComposition.js"],we["Core/Globals.js"],we["Series/PackedBubble/PackedBubblePoint.js"],we["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],we["Series/PackedBubble/PackedBubbleLayout.js"],we["Core/Series/SeriesRegistry.js"],we["Series/SimulationSeriesUtilities.js"],we["Core/Utilities.js"],we["Core/Animation/AnimationUtilities.js"]],function(e,ye,J,he,me,K,ae,Ie,Ce,ge,Me){const{parse:oe}=e;({noop:e}=he);const{series:{prototype:ne},seriesTypes:{bubble:Y}}=Ie,{initDataLabels:C,initDataLabelsDefer:w}=Ce,{addEvent:T,clamp:M,defined:E,extend:Q,fireEvent:de,isArray:q,isNumber:U,merge:se,pick:Le}=ge;class ee extends Y{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(L,j,ue,_e){Y.compose(L,j,ue,_e),ye.compose(j),ae.compose(j)}accumulateAllPoints(){const L=this.chart,j=[];let ue;for(const _e of L.series)if(_e.is("packedbubble")&&_e.visible||!L.options.chart.ignoreHiddenSeries){ue=_e.yData||[];for(let De=0;De<ue.length;De++)j.push([null,null,ue[De],_e.index,De,{id:De,marker:{radius:0}}])}return j}addLayout(){const L=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},j=L.type||"packedbubble",ue=this.chart.options.chart;let Be,_e=this.chart.graphLayoutsStorage,De=this.chart.graphLayoutsLookup;_e||(this.chart.graphLayoutsStorage=_e={},this.chart.graphLayoutsLookup=De=[]),Be=_e[j],Be||(L.enableSimulation=E(ue.forExport)?!ue.forExport:L.enableSimulation,_e[j]=Be=new J.layouts[j],Be.init(L),De.splice(Be.index,0,Be)),this.layout=Be,this.points.forEach(Ye=>{Ye.mass=2,Ye.degree=1,Ye.collisionNmb=1}),Be.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Be.addElementsToCollection([this],Be.series),Be.addElementsToCollection(this.points,Be.nodes)}addSeriesLayout(){var L=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const j=L.type||"packedbubble",ue=this.chart.graphLayoutsStorage,_e=this.chart.graphLayoutsLookup;L=se(L,L.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let De=ue[j+"-series"];De||(ue[j+"-series"]=De=new J.layouts[j],De.init(L),_e.splice(De.index,0,De)),this.parentNodeLayout=De,this.createParentNodes()}calculateParentRadius(){const L=this.seriesBox();this.parentNodeRadius=M(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,L?Math.max(Math.sqrt(Math.pow(L.width,2)+Math.pow(L.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let L=this.options.zMin,j=this.options.zMax,ue=1/0,_e=-1/0;return L&&j||(this.chart.series.forEach(De=>{De.yData.forEach(Be=>{E(Be)&&(Be>_e&&(_e=Be),Be<ue&&(ue=Be))})}),L=Le(L,ue),j=Le(j,_e)),[L,j]}checkOverlap(L,j){const ue=L[0]-j[0],_e=L[1]-j[1];return-.001>Math.sqrt(ue*ue+_e*_e)-Math.abs(L[2]+j[2])}createParentNodes(){const L=this.pointClass,j=this.chart,ue=this.parentNodeLayout,_e=this.layout.options;let De,Be=this.parentNode,Ye={radius:this.parentNodeRadius,lineColor:this.color,fillColor:oe(this.color).brighten(.4).get()};_e.parentNodeOptions&&(Ye=se(_e.parentNodeOptions.marker||{},Ye)),this.parentNodeMass=0,this.points.forEach(it=>{this.parentNodeMass+=Math.PI*Math.pow(it.marker.radius,2)}),this.calculateParentRadius(),ue.nodes.forEach(it=>{it.seriesIndex===this.index&&(De=!0)}),ue.setArea(0,0,j.plotWidth,j.plotHeight),De||(Be||(Be=(new L).init(this,{mass:this.parentNodeRadius/2,marker:Ye,dataLabels:{inside:!1},states:{normal:{marker:Ye},hover:{marker:Ye}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Be.plotX=this.parentNode.plotX,Be.plotY=this.parentNode.plotY),this.parentNode=Be,ue.addElementsToCollection([this],ue.series),ue.addElementsToCollection([Be],ue.nodes))}deferLayout(){const L=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),L.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(L=>{L.removeElementFromCollection(this,L.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),ne.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(ne.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",ne.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var L;if(this.layout&&this.layout.options.splitSeries){var j=this.chart,ue=this.layout.options.parentNodeOptions.marker;ue={fill:ue.fillColor||oe(this.color).brighten(.4).get(),opacity:ue.fillOpacity,stroke:ue.lineColor||this.color,"stroke-width":Le(ue.lineWidth,this.options.lineWidth)},this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,j.seriesGroup),null===(L=this.group)||void 0===L||L.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&E(this.parentNode.plotX)&&E(this.parentNode.plotY)&&E(this.parentNodeRadius)&&(L=se({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},ue),this.parentNode.graphic||(this.graph=this.parentNode.graphic=j.renderer.symbol(ue.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(L))}}drawTracker(){const L=this.parentNode;let j;super.drawTracker(),L&&(j=q(L.dataLabels)?L.dataLabels:L.dataLabel?[L.dataLabel]:[],L.graphic&&(L.graphic.element.point=L),j.forEach(ue=>{ue.div?ue.div.point=L:ue.element.point=L}))}getPointRadius(){const L=this.chart,j=this.options,ue=j.useSimulation,_e=Math.min(L.plotWidth,L.plotHeight),De={},Be=[],Ye=L.allDataPoints||[],it=Ye.length;let xt,ri,Xe,Ee;["minSize","maxSize"].forEach(ht=>{const ut=parseInt(j[ht],10),bt=/%$/.test(j[ht]);De[ht]=bt?_e*ut/100:ut*Math.sqrt(it)}),L.minRadius=xt=De.minSize/Math.sqrt(it),L.maxRadius=ri=De.maxSize/Math.sqrt(it);const We=ue?this.calculateZExtremes():[xt,ri];Ye.forEach((ht,ut)=>{Xe=ue?M(ht[2],We[0],We[1]):ht[2],Ee=this.getRadius(We[0],We[1],xt,ri,Xe),0===Ee&&(Ee=null),Ye[ut][2]=Ee,Be.push(Ee)}),this.radii=Be}init(){return ne.init.apply(this,arguments),w.call(this),this.eventsToUnbind.push(T(this,"updatedData",function(){this.chart.series.forEach(L=>{L.type===this.type&&(L.isDirty=!0)},this)})),this}onMouseUp(L){const j=L;if(j.fixedPosition&&!j.removed){const ue=this.layout,_e=this.parentNodeLayout;let De,Be;_e&&ue.options.dragBetweenSeries&&_e.nodes.forEach(Ye=>{j&&j.marker&&Ye!==j.series.parentNode&&(De=ue.getDistXY(j,Ye),Be=ue.vectorLength(De)-Ye.marker.radius-j.marker.radius,0>Be&&(Ye.series.addPoint(se(j.options,{plotX:j.plotX,plotY:j.plotY}),!1),ue.removeElementFromCollection(j,ue.nodes),j.remove()))}),ye.onMouseUp.apply(this,arguments)}}placeBubbles(L){const j=this.checkOverlap,ue=this.positionBubble,_e=[];let De=1,Be=0,Ye=0;var it=[];let xt;if((L=L.sort((ri,Xe)=>Xe[2]-ri[2])).length){if(_e.push([[0,0,L[0][2],L[0][3],L[0][4]]]),1<L.length)for(_e.push([[0,0-L[1][2]-L[0][2],L[1][2],L[1][3],L[1][4]]]),xt=2;xt<L.length;xt++)L[xt][2]=L[xt][2]||1,j(it=ue(_e[De][Be],_e[De-1][Ye],L[xt]),_e[De][0])?(_e.push([]),Ye=0,_e[De+1].push(ue(_e[De][Be],_e[De][0],L[xt])),De++,Be=0):1<De&&_e[De-1][Ye+1]&&j(it,_e[De-1][Ye+1])?(Ye++,_e[De].push(ue(_e[De][Be],_e[De-1][Ye],L[xt])),Be++):(Be++,_e[De].push(it));this.chart.stages=_e,this.chart.rawPositions=[].concat.apply([],_e),this.resizeRadius(),it=this.chart.rawPositions}return it}pointAttribs(L,j){var ue=this.options;let _e=ue.marker;return L&&L.isParentNode&&ue.layoutAlgorithm&&ue.layoutAlgorithm.parentNodeOptions&&(_e=ue.layoutAlgorithm.parentNodeOptions.marker),ue=_e.fillOpacity,L=ne.pointAttribs.call(this,L,j),1!==ue&&(L["fill-opacity"]=ue),L}positionBubble(L,j,ue){var _e=Math.sqrt,De=Math.asin,Be=Math.acos;const Ye=Math.pow,it=Math.abs;return _e=_e(Ye(L[0]-j[0],2)+Ye(L[1]-j[1],2)),Be=Be((Ye(_e,2)+Ye(ue[2]+j[2],2)-Ye(ue[2]+L[2],2))/(2*(ue[2]+j[2])*_e)),De=De(it(L[0]-j[0])/_e),L=(0>L[1]-j[1]?0:Math.PI)+Be+De*(0>(L[0]-j[0])*(L[1]-j[1])?1:-1),[j[0]+(j[2]+ue[2])*Math.sin(L),j[1]-(j[2]+ue[2])*Math.cos(L),ue[2],ue[3],ue[4]]}render(){const L=[];ne.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(j=>{q(j.dataLabels)&&j.dataLabels.forEach(ue=>{L.push(ue)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(L))}resizeRadius(){const L=this.chart,j=L.rawPositions;var ue=Math.min,_e=Math.max;const De=L.plotLeft,Be=L.plotTop,Ye=L.plotHeight,it=L.plotWidth;let xt,ri,Xe,Ee,We;xt=Xe=Number.POSITIVE_INFINITY,ri=Ee=Number.NEGATIVE_INFINITY;for(const ht of j)We=ht[2],xt=ue(xt,ht[0]-We),ri=_e(ri,ht[0]+We),Xe=ue(Xe,ht[1]-We),Ee=_e(Ee,ht[1]+We);if(ue=ue.apply([],[(it-De)/(_e=[ri-xt,Ee-Xe])[0],(Ye-Be)/_e[1]]),1e-10<Math.abs(ue-1)){for(const ht of j)ht[2]*=ue;this.placeBubbles(j)}else L.diffY=Ye/2+Be-Xe-(Ee-Xe)/2,L.diffX=it/2+De-xt-(ri-xt)/2}seriesBox(){const L=this.chart,j=Math.max,ue=Math.min,_e=[L.plotLeft,L.plotLeft+L.plotWidth,L.plotTop,L.plotTop+L.plotHeight];let De;return this.data.forEach(Be=>{E(Be.plotX)&&E(Be.plotY)&&Be.marker.radius&&(De=Be.marker.radius,_e[0]=ue(_e[0],Be.plotX-De),_e[1]=j(_e[1],Be.plotX+De),_e[2]=ue(_e[2],Be.plotY-De),_e[3]=j(_e[3],Be.plotY+De))}),U(_e.width/_e.height)?_e:null}setVisible(){const L=this;ne.setVisible.apply(L,arguments),L.parentNodeLayout&&L.graph?L.visible?(L.graph.show(),L.parentNode.dataLabel&&L.parentNode.dataLabel.show()):(L.graph.hide(),L.parentNodeLayout.removeElementFromCollection(L.parentNode,L.parentNodeLayout.nodes),L.parentNode.dataLabel&&L.parentNode.dataLabel.hide()):L.layout&&(L.visible?L.layout.addElementsToCollection(L.points,L.layout.nodes):L.points.forEach(j=>{L.layout.removeElementFromCollection(j,L.layout.nodes)}))}translate(){const L=this.chart,j=this.data,ue=this.index,_e=this.options.useSimulation;let De;if(this.processedXData=this.xData,this.generatePoints(),E(L.allDataPoints)||(L.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),_e)var Be=L.allDataPoints;else Be=this.placeBubbles(L.allDataPoints),this.options.draggable=!1;for(const Ye of Be)Ye[3]===ue&&(Be=j[Ye[4]],De=Le(Ye[2],void 0),_e||(Be.plotX=Ye[0]-L.plotLeft+L.diffX,Be.plotY=Ye[1]-L.plotTop+L.diffY),U(De)&&(Be.marker=Q(Be.marker,{radius:De,width:2*De,height:2*De}),Be.radius=De));_e&&this.deferLayout(),de(this,"afterTranslate")}}return ee.defaultOptions=se(Y.defaultOptions,K),Q(ee.prototype,{pointClass:me,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:C,alignDataLabel:ne.alignDataLabel,indexateNodes:e,onMouseDown:ye.onMouseDown,onMouseMove:ye.onMouseMove,redrawHalo:ye.redrawHalo,searchPoint:e}),Ie.registerSeriesType("packedbubble",ee),ee}),ce(we,"Series/Polygon/PolygonSeries.js",[we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"]],function(e,ye,J){({noop:e}=e);const{series:he,seriesTypes:{area:me,line:K,scatter:ae}}=ye,{extend:Ie,merge:Ce}=J;class ge extends ae{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let oe=K.prototype.getGraphPath.call(this),ne=oe.length+1;for(;ne--;)(ne===oe.length||"M"===oe[ne][0])&&0<ne&&oe.splice(ne,0,["Z"]);return this.areaPath=oe}drawGraph(){this.options.fillColor=this.color,me.prototype.drawGraph.call(this)}}return ge.defaultOptions=Ce(ae.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),Ie(ge.prototype,{type:"polygon",drawTracker:he.prototype.drawTracker,setStackedPoints:e}),ye.registerSeriesType("polygon",ge),ge}),ce(we,"Core/Axis/WaterfallAxis.js",[we["Core/Axis/Stacking/StackItem.js"],we["Core/Utilities.js"]],function(e,ye){const{addEvent:J,objectEach:he}=ye;var me;return function(K){function ae(){const oe=this.waterfall.stacks;oe&&(oe.changed=!1,delete oe.alreadyChanged)}function Ie(){const oe=this.options.stackLabels;oe&&oe.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function Ce(){let oe=this.axes,ne=this.series,Y=ne.length;for(;Y--;)ne[Y].options.stacking&&(oe.forEach(function(C){C.isXAxis||(C.waterfall.stacks.changed=!0)}),Y=0)}function ge(){this.waterfall||(this.waterfall=new Me(this))}class Me{constructor(ne){this.axis=ne,this.stacks={changed:!1}}renderStackTotals(){const ne=this.axis,Y=ne.waterfall.stacks,C=ne.stacking&&ne.stacking.stackTotalGroup,w=new e(ne,ne.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=w,C&&he(Y,function(T){he(T,function(M,E){w.total=M.stackTotal,w.x=+E,M.label&&(w.label=M.label),e.prototype.render.call(w,C),M.label=w.label,delete w.label})}),w.total=null}}K.Composition=Me,K.compose=function(oe,ne){J(oe,"init",ge),J(oe,"afterBuildStacks",ae),J(oe,"afterRender",Ie),J(ne,"beforeRedraw",Ce)}}(me||(me={})),me}),ce(we,"Series/Waterfall/WaterfallPoint.js",[we["Series/Column/ColumnSeries.js"],we["Core/Series/Point.js"],we["Core/Utilities.js"]],function(e,ye,J){const{isNumber:he}=J;return class me extends e.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let ae=ye.prototype.getClassName.call(this);return this.isSum?ae+=" highcharts-sum":this.isIntermediateSum&&(ae+=" highcharts-intermediate-sum"),ae}isValid(){return he(this.y)||this.isSum||!!this.isIntermediateSum}}}),ce(we,"Series/Waterfall/WaterfallSeries.js",[we["Core/Axis/Axis.js"],we["Core/Chart/Chart.js"],we["Core/Series/SeriesRegistry.js"],we["Core/Utilities.js"],we["Core/Axis/WaterfallAxis.js"],we["Series/Waterfall/WaterfallPoint.js"]],function(e,ye,J,he,me,K){const{seriesTypes:{column:ae,line:Ie}}=J,{addEvent:Ce,arrayMax:ge,arrayMin:Me,correctFloat:oe,extend:ne,isNumber:Y,merge:C,objectEach:w,pick:T}=he;class M extends ae{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){ae.prototype.generatePoints.apply(this);for(let Q=0,de=this.points.length;Q<de;Q++){const q=this.points[Q],U=this.processedYData[Q];Y(U)&&(q.isIntermediateSum||q.isSum)&&(q.y=oe(U))}}processData(Q){let se,le,L,j,ue,_e,De,de=this.options,q=this.yData,U=de.data,Le=q.length,ee=de.threshold||0;for(De=L=le=j=ue=0;De<Le;De++)_e=q[De],se=U&&U[De]?U[De]:{},"sum"===_e||se.isSum?q[De]=oe(L):"intermediateSum"===_e||se.isIntermediateSum?(q[De]=oe(le),le=0):(L+=_e,le+=_e),j=Math.min(L,j),ue=Math.max(L,ue);super.processData.call(this,Q),de.stacking||(this.dataMin=j+ee,this.dataMax=ue)}toYData(Q){return Q.isSum?"sum":Q.isIntermediateSum?"intermediateSum":Q.y}updateParallelArrays(Q,de){super.updateParallelArrays.call(this,Q,de),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(Q,de){const q=this.options.upColor;return q&&!Q.options.color&&Y(Q.y)&&(Q.color=0<Q.y?q:void 0),delete(Q=ae.prototype.pointAttribs.call(this,Q,de)).dashstyle,Q}getGraphPath(){return[["M",0,0]]}getCrispPath(){let Q=this.data.filter(De=>Y(De.y)),de=this.yAxis,q=Q.length,U=Math.round(this.graph.strokeWidth())%2/2,se=Math.round(this.borderWidth)%2/2,Le=this.xAxis.reversed,ee=this.yAxis.reversed,le=this.options.stacking,L=[];for(let De=1;De<q;De++){if(!this.options.connectNulls&&!Y(this.data[Q[De].index-1].y))continue;var j=Q[De].box,ue=Q[De-1];const Be=ue.y||0,Ye=Q[De-1].box;if(!j||!Ye)continue;var _e=de.waterfall.stacks[this.stackKey];const it=0<Be?-Ye.height:0;_e&&Ye&&j&&(_e=_e[De-1],ue=le?Math.round(de.translate(_e.connectorThreshold,!1,!0,!1,!0)+(ee?it:0))-U:Ye.y+ue.minPointLengthOffset+se-U,L.push(["M",(Ye.x||0)+(Le?0:Ye.width||0),ue],["L",(j.x||0)+(Le&&j.width||0),ue])),Ye&&L.length&&(!le&&0>Be&&!ee||0<Be&&ee)&&((j=L[L.length-2])&&"number"==typeof j[2]&&(j[2]+=Ye.height||0),(j=L[L.length-1])&&"number"==typeof j[2]&&(j[2]+=Ye.height||0))}return L}drawGraph(){Ie.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function Q(We,ht,ut,bt){if(j){if(Be)for(;ut<Be;ut++)j.stackState[ut]+=bt;else j.stackState[0]=We,Be=j.stackState.length;j.stackState.push(j.stackState[Be-1]+ht)}}let j,ue,_e,De,Be,Ye,it,xt,de=this.options,q=this.yAxis.waterfall.stacks,U=de.threshold||0,se=U,Le=se,ee=this.stackKey,le=this.xData,L=le.length;var ri;let Xe;if(this.yAxis.stacking.usePercentage=!1,ue=_e=De=se,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(Xe=q.changed,(ri=q.alreadyChanged)&&0>ri.indexOf(ee)&&(Xe=!0),q[ee]||(q[ee]={}),ri=q[ee])for(let We=0;We<L;We++){var Ee=le[We];(!ri[Ee]||Xe)&&(ri[Ee]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Xe&&ri[Ee]?ri[Ee].label:void 0}),j=ri[Ee],xt=this.yData[We],0<=xt?j.posTotal+=xt:j.negTotal+=xt,it=de.data[We],Ee=j.absolutePos=j.posTotal,Ye=j.absoluteNeg=j.negTotal,j.stackTotal=Ee+Ye,Be=j.stackState.length,it&&it.isIntermediateSum?(Q(De,_e,0,De),De=_e,_e=U,se^=Le,Le^=se,se^=Le):it&&it.isSum?(Q(U,ue,Be,0),se=U):(Q(se,xt,0,ue),it&&(ue+=xt,_e+=xt)),j.stateIndex++,j.threshold=se,se+=j.stackTotal}q.changed=!1,q.alreadyChanged||(q.alreadyChanged=[]),q.alreadyChanged.push(ee)}}getExtremes(){let de,q,Q=this.options.stacking;if(Q){var U=this.yAxis;return U=U.waterfall.stacks,de=this.stackedYNeg=[],q=this.stackedYPos=[],w(U[this.stackKey],"overlap"===Q?function(se){de.push(Me(se.stackState)),q.push(ge(se.stackState))}:function(se){de.push(se.negTotal+se.threshold),q.push(se.posTotal+se.threshold)}),{dataMin:Me(de),dataMax:ge(q)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return M.defaultOptions=C(ae.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),Ce(M,"afterColumnTranslate",function(){const{options:E,points:Q,yAxis:de}=this,q=T(E.minPointLength,5),U=q/2,se=E.threshold||0,Le=E.stacking,ee=de.waterfall.stacks[this.stackKey];let le=se,L=se;for(let Be=0;Be<Q.length;Be++){const Ye=Q[Be];var j=this.processedYData[Be];const it=ne({x:0,y:0,width:0,height:0},Ye.shapeArgs||{});Ye.box=it;var ue=[0,j],_e=Ye.y||0;if(Le){if(ee){if(ue=ee[Be],"overlap"===Le){var De=ue.stackState[ue.stateIndex--];De=0<=_e?De:De-_e,Object.hasOwnProperty.call(ue,"absolutePos")&&delete ue.absolutePos,Object.hasOwnProperty.call(ue,"absoluteNeg")&&delete ue.absoluteNeg}else 0<=_e?(De=ue.threshold+ue.posTotal,ue.posTotal-=_e):(De=ue.threshold+ue.negTotal,ue.negTotal-=_e,De-=_e),!ue.posTotal&&Y(ue.absolutePos)&&Object.hasOwnProperty.call(ue,"absolutePos")&&(ue.posTotal=ue.absolutePos,delete ue.absolutePos),!ue.negTotal&&Y(ue.absoluteNeg)&&Object.hasOwnProperty.call(ue,"absoluteNeg")&&(ue.negTotal=ue.absoluteNeg,delete ue.absoluteNeg);Ye.isSum||(ue.connectorThreshold=ue.threshold+ue.stackTotal),de.reversed?j=0<=_e?De-_e:De+_e:(j=De,De-=_e),Ye.below=j<=se,it.y=de.translate(j,!1,!0,!1,!0),it.height=Math.abs(it.y-de.translate(De,!1,!0,!1,!0)),(De=de.waterfall.dummyStackItem)&&(De.x=Be,De.label=ee[Be].label,De.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Be],this.stackedYPos[Be],void 0,this.xAxis))}}else De=Math.max(L,L+_e)+ue[0],it.y=de.translate(De,!1,!0,!1,!0),Ye.isSum?(it.y=de.translate(ue[1],!1,!0,!1,!0),it.height=Math.min(de.translate(ue[0],!1,!0,!1,!0),de.len)-it.y,Ye.below=ue[1]<=se):Ye.isIntermediateSum?(0<=_e?(j=ue[1]+le,De=le):(j=le,De=ue[1]+le),de.reversed&&(j^=De,j^=De^=j),it.y=de.translate(j,!1,!0,!1,!0),it.height=Math.abs(it.y-Math.min(de.translate(De,!1,!0,!1,!0),de.len)),le+=ue[1],Ye.below=j<=se):(it.height=0<j?de.translate(L,!1,!0,!1,!0)-it.y:de.translate(L,!1,!0,!1,!0)-de.translate(L-j,!1,!0,!1,!0),L+=j,Ye.below=L<se),0>it.height&&(it.y+=it.height,it.height*=-1);Ye.plotY=it.y=Math.round(it.y||0)-this.borderWidth%2/2,it.height=Math.max(Math.round(it.height||0),.001),Ye.yBottom=it.y+it.height,it.height<=q&&!Ye.isNull?(it.height=q,it.y-=U,Ye.plotY=it.y,Ye.minPointLengthOffset=0>_e?-U:U):(Ye.isNull&&(it.width=0),Ye.minPointLengthOffset=0),_e=Ye.plotY+(Ye.negative?it.height:0),Ye.below&&(Ye.plotY+=it.height),Ye.tooltipPos&&(this.chart.inverted?Ye.tooltipPos[0]=de.len-_e:Ye.tooltipPos[1]=_e),Ye.isInside=this.isPointInside(Ye),C(!0,Ye.shapeArgs,it)}},{order:2}),ne(M.prototype,{getZonesGraphs:Ie.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:K}),J.registerSeriesType("waterfall",M),me.compose(e,ye),M}),ce(we,"Core/Axis/RadialAxis.js",[we["Core/Axis/AxisDefaults.js"],we["Core/Defaults.js"],we["Core/Globals.js"],we["Core/Utilities.js"]],function(e,ye,J,he){const{defaultOptions:me}=ye,{noop:K}=J,{addEvent:ae,correctFloat:Ie,defined:Ce,extend:ge,fireEvent:Me,merge:oe,pick:ne,relativeLength:Y,wrap:C}=he;var w;return function(T){function M(){this.autoConnect=this.isCircular&&typeof ne(this.userMax,this.options.max)>"u"&&Ie(this.endAngleRad-this.startAngleRad)===Ie(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function E(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map(Oe=>this.ticks[Oe]&&this.ticks[Oe].label).filter(Oe=>!!Oe)}}function Q(){return K}function de(Oe,rt,gt){const kt=this.pane.center;let Nt,St=Oe.value;if(this.isCircular){if(Ce(St))Oe.point&&(Rt=Oe.point.shapeArgs||{}).start&&(St=this.chart.inverted?this.translate(Oe.point.rectPlotY,!0):Oe.point.x);else{var Rt=Oe.chartX||0;Nt=Oe.chartY||0,St=this.translate(Math.atan2(Nt-gt,Rt-rt)-this.startAngleRad,!0)}Rt=(Oe=this.getPosition(St)).x,Nt=Oe.y}else Ce(St)||(Rt=Oe.chartX,Nt=Oe.chartY),Ce(Rt)&&Ce(Nt)&&(gt=kt[1]+this.chart.plotTop,St=this.translate(Math.min(Math.sqrt(Math.pow(Rt-rt,2)+Math.pow(Nt-gt,2)),kt[2]/2)-kt[3]/2,!0));return[St,Rt||0,Nt||0]}function q(Oe,rt,gt){const kt=this.chart,St=this.left||0,Nt=this.top||0;let Rt=ne(rt,(Oe=this.pane.center)[2]/2-this.offset);return typeof gt>"u"&&(gt=this.horiz?0:this.center&&-this.center[3]/2),gt&&(Rt+=gt),this.isCircular||typeof rt<"u"?((rt=this.chart.renderer.symbols.arc(St+Oe[0],Nt+Oe[1],Rt,Rt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[St+Oe[0]],rt.yBounds=[Nt+Oe[1]-Rt]):(rt=this.postTranslate(this.angleRad,Rt),rt=[["M",this.center[0]+kt.plotLeft,this.center[1]+kt.plotTop],["L",rt.x,rt.y]]),rt}function U(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function se(Oe,rt,gt){const kt=this.chart;var St=Mi=>{if("string"==typeof Mi){let ar=parseInt(Mi,10);return Bi.test(Mi)&&(ar=ar*Bt/100),ar}return Mi};const Nt=this.center;var Rt=this.startAngleRad;const Bt=Nt[2]/2;var oi=Math.min(this.offset,0),pi=this.left||0;const Fi=this.top||0,Bi=/%$/;var ei=this.isCircular;let nn,bi=ne(St(gt.outerRadius),Bt),Si=St(gt.innerRadius);return St=ne(St(gt.thickness),10),"polygon"===this.options.gridLineInterpolation?oi=this.getPlotLinePath({value:Oe}).concat(this.getPlotLinePath({value:rt,reverse:!0})):(Oe=Math.max(Oe,this.min),rt=Math.min(rt,this.max),Oe=this.translate(Oe),rt=this.translate(rt),ei||(bi=Oe||0,Si=rt||0),"circle"!==gt.shape&&ei?(gt=Rt+(Oe||0),Rt+=rt||0):(gt=-Math.PI/2,Rt=1.5*Math.PI,nn=!0),bi-=oi,oi=kt.renderer.symbols.arc(pi+Nt[0],Fi+Nt[1],bi,bi,{start:Math.min(gt,Rt),end:Math.max(gt,Rt),innerR:ne(Si,bi-(St-oi)),open:nn}),ei&&(ei=(Rt+gt)/2,pi=pi+Nt[0]+Nt[2]/2*Math.cos(ei),oi.xBounds=ei>-Math.PI/2&&ei<Math.PI/2?[pi,kt.plotWidth]:[0,pi],oi.yBounds=[Fi+Nt[1]+Nt[2]/2*Math.sin(ei)],oi.yBounds[0]+=ei>-Math.PI&&0>ei||ei>Math.PI?-10:10)),oi}function Le(Oe){var rt=this.pane.center,gt=this.chart;const kt=gt.inverted;var St=Oe.reverse,Nt=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const Rt=Nt.innerRadius||"0%",Bt=Nt.outerRadius||"100%";var oi=rt[0]+gt.plotLeft,pi=rt[1]+gt.plotTop;const Fi=this.height,Bi=Oe.isCrosshair;Nt=rt[3]/2;var ei=Oe.value;let nn;var bi=this.getPosition(ei);let Si=bi.x;if(bi=bi.y,Bi&&(ei=(bi=this.getCrosshairPosition(Oe,oi,pi))[0],Si=bi[1],bi=bi[2]),this.isCircular)ei=Math.sqrt(Math.pow(Si-oi,2)+Math.pow(bi-pi,2)),St="string"==typeof Rt?Y(Rt,1):Rt/ei,gt="string"==typeof Bt?Y(Bt,1):Bt/ei,rt&&Nt&&(St<(Nt/=ei)&&(St=Nt),gt<Nt&&(gt=Nt)),rt=[["M",oi+St*(Si-oi),pi-St*(pi-bi)],["L",Si-(1-gt)*(Si-oi),bi+(1-gt)*(pi-bi)]];else if((ei=this.translate(ei))&&(0>ei||ei>Fi)&&(ei=0),"circle"===this.options.gridLineInterpolation)rt=this.getLinePath(0,ei,Nt);else if(rt=[],gt[kt?"yAxis":"xAxis"].forEach(Mi=>{Mi.pane===this.pane&&(nn=Mi)}),nn)for(oi=nn.tickPositions,nn.autoConnect&&(oi=oi.concat([oi[0]])),St&&(oi=oi.slice().reverse()),ei&&(ei+=Nt),pi=0;pi<oi.length;pi++)Nt=nn.getPosition(oi[pi],ei),rt.push(pi?["L",Nt.x,Nt.y]:["M",Nt.x,Nt.y]);return rt}function ee(Oe,rt){return Oe=this.translate(Oe),this.postTranslate(this.isCircular?Oe:this.angleRad,ne(this.isCircular?rt:0>Oe?0:Oe,this.center[2]/2)-this.offset)}function le(){const Oe=this.center,rt=this.chart,gt=this.options.title;return{x:rt.plotLeft+Oe[0]+(gt.x||0),y:rt.plotTop+Oe[1]-{high:.5,middle:.25,low:0}[gt.align]*Oe[2]+(gt.y||0)}}function L(Oe){Oe.beforeSetTickPositions=M,Oe.createLabelCollector=E,Oe.getCrosshairPosition=de,Oe.getLinePath=q,Oe.getOffset=U,Oe.getPlotBandPath=se,Oe.getPlotLinePath=Le,Oe.getPosition=ee,Oe.getTitlePosition=le,Oe.postTranslate=xt,Oe.setAxisSize=Xe,Oe.setAxisTranslation=Ee,Oe.setOptions=We}function j(){var Oe=this.chart,rt=this.options,gt=this.pane,kt=gt&&gt.options;Oe.angular&&this.isXAxis||!gt||!Oe.angular&&!Oe.polar||(Oe=2*Math.PI,gt=(ne(kt.startAngle,0)-90)*Math.PI/180,kt=(ne(kt.endAngle,ne(kt.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(rt.angle||0)*Math.PI/180,this.startAngleRad=gt,this.endAngleRad=kt,this.offset=rt.offset||0,kt=(kt%Oe+Oe)%Oe,(rt=(gt%Oe+Oe)%Oe)>Math.PI&&(rt-=Oe),kt>Math.PI&&(kt-=Oe),this.normalizedStartAngleRad=rt,this.normalizedEndAngleRad=kt)}function ue(Oe){this.isRadial&&(Oe.align=void 0,Oe.preventDefault())}function _e(){if(this.chart&&this.chart.labelCollectors){const Oe=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=Oe&&this.chart.labelCollectors.splice(Oe,1)}}function De(Oe){const rt=this.chart,gt=rt.inverted,kt=rt.angular,St=rt.polar,Nt=this.isXAxis,Rt=this.coll,Bt=kt&&Nt;let oi;Oe=Oe.userOptions.pane||0,Oe=this.pane=rt.pane&&rt.pane[Oe],"colorAxis"===Rt?this.isRadial=!1:(kt?(Bt?(this.isHidden=!0,this.createLabelCollector=Q,this.getOffset=K,this.render=this.redraw=ri,this.setTitle=this.setCategories=this.setScale=K):L(this),(oi=!Nt)&&(this.defaultPolarOptions=wt)):St&&(L(this),this.defaultPolarOptions=(oi=this.horiz)?bt:oe("xAxis"===Rt?e.defaultXAxisOptions:e.defaultYAxisOptions,Tt),gt&&"yAxis"===Rt&&(this.defaultPolarOptions.stackLabels=e.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),kt||St?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&rt.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Oe&&oi&&(Oe.axis=this),this.isCircular=oi)}function Be(){this.isRadial&&this.beforeSetTickPositions()}function Ye(Oe){const rt=this.label;if(rt){var gt=this.axis,kt=rt.getBBox(),St=gt.options.labels,Nt=(gt.translate(this.pos)+gt.startAngleRad+Math.PI/2)/Math.PI*180%360,Rt=Math.round(Nt),Bt=Ce(St.y)?0:.3*-kt.height,oi=St.y,pi=20,Fi=St.align,Bi="end",ei=0>Rt?Rt+360:Rt,nn=ei,bi=0,Si=0;if(gt.isRadial){var Mi=gt.getPosition(this.pos,gt.center[2]/2+Y(ne(St.distance,-25),gt.center[2]/2,-gt.center[2]/2));"auto"===St.rotation?rt.attr({rotation:Nt}):Ce(oi)||(oi=gt.chart.renderer.fontMetrics(rt).b-kt.height/2),Ce(Fi)||(gt.isCircular?(kt.width>gt.len*gt.tickInterval/(gt.max-gt.min)&&(pi=0),Fi=Nt>pi&&Nt<180-pi?"left":Nt>180+pi&&Nt<360-pi?"right":"center"):Fi="center",rt.attr({align:Fi})),"auto"===Fi&&2===gt.tickPositions.length&&gt.isCircular&&(90<ei&&180>ei?ei=180-ei:270<ei&&360>=ei&&(ei=540-ei),180<nn&&360>=nn&&(nn=360-nn),(gt.pane.options.startAngle===Rt||gt.pane.options.startAngle===Rt+360||gt.pane.options.startAngle===Rt-360)&&(Bi="start"),Fi=-90<=Rt&&90>=Rt||-360<=Rt&&-270>=Rt||270<=Rt&&360>=Rt?"start"===Bi?"right":"left":"start"===Bi?"left":"right",70<nn&&110>nn&&(Fi="center"),15>ei||180<=ei&&195>ei?bi=.3*kt.height:15<=ei&&35>=ei?bi="start"===Bi?0:.75*kt.height:195<=ei&&215>=ei?bi="start"===Bi?.75*kt.height:0:35<ei&&90>=ei?bi="start"===Bi?.25*-kt.height:kt.height:215<ei&&270>=ei&&(bi="start"===Bi?kt.height:.25*-kt.height),15>nn?Si="start"===Bi?.15*-kt.height:.15*kt.height:165<nn&&180>=nn&&(Si="start"===Bi?.15*kt.height:.15*-kt.height),rt.attr({align:Fi}),rt.translate(Si,bi+Bt)),Oe.pos.x=Mi.x+(St.x||0),Oe.pos.y=Mi.y+(oi||0)}}}function it(Oe){this.axis.getPosition&&ge(Oe.pos,this.axis.getPosition(this.pos))}function xt(Oe,rt){const gt=this.chart,kt=this.center;return Oe=this.startAngleRad+Oe,{x:gt.plotLeft+kt[0]+Math.cos(Oe)*rt,y:gt.plotTop+kt[1]+Math.sin(Oe)*rt}}function ri(){this.isDirty=!1}function Xe(){let Oe,rt;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),Oe=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(rt=this.postTranslate(this.angleRad,Oe[3]/2),Oe[0]=rt.x-this.chart.plotLeft,Oe[1]=rt.y-this.chart.plotTop),this.len=this.width=this.height=(Oe[2]-Oe[3])*ne(this.sector,1)/2)}function Ee(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function We(Oe){(Oe=this.options=oe(this.constructor.defaultOptions,this.defaultPolarOptions,me[this.coll],Oe)).plotBands||(Oe.plotBands=[]),Me(this,"afterSetOptions")}function ht(Oe,rt,gt,kt,St,Nt,Rt){const Bt=this.axis;return Bt.isRadial?["M",rt,gt,"L",(Oe=Bt.getPosition(this.pos,Bt.center[2]/2+kt)).x,Oe.y]:Oe.call(this,rt,gt,kt,St,Nt,Rt)}const ut=[],bt={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},wt={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},Tt={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};T.compose=function(Oe,rt){return he.pushUnique(ut,Oe)&&(ae(Oe,"afterInit",j),ae(Oe,"autoLabelAlign",ue),ae(Oe,"destroy",_e),ae(Oe,"init",De),ae(Oe,"initialAxisTranslation",Be)),he.pushUnique(ut,rt)&&(ae(rt,"afterGetLabelPosition",Ye),ae(rt,"afterGetPosition",it),C(rt.prototype,"getMarkPath",ht)),Oe}}(w||(w={})),w}),ce(we,"Series/PolarComposition.js",[we["Core/Animation/AnimationUtilities.js"],we["Core/Globals.js"],we["Core/Series/Series.js"],we["Extensions/Pane.js"],we["Core/Axis/RadialAxis.js"],we["Core/Utilities.js"]],function(e,ye,J,he,me,K){function ae(Xe,Ee,We,ht){var ut=ht?1:0,bt=0<=Ee&&Ee<=Xe.length-1?Ee:0>Ee?Xe.length-1+Ee:0,wt=Xe[Ee=0>bt-1?Xe.length-(1+ut):bt-1],Tt=wt.plotY,Oe=(ut=Xe[bt+1>Xe.length-1?ut:bt+1]).plotX,rt=ut.plotY;wt=(1.5*(ut=Xe[bt].plotX)+wt.plotX)/2.5,Tt=(1.5*(bt=Xe[bt].plotY)+Tt)/2.5,Oe=(1.5*ut+Oe)/2.5;var gt=(1.5*bt+rt)/2.5;rt=Math.sqrt(Math.pow(wt-ut,2)+Math.pow(Tt-bt,2));const kt=Math.sqrt(Math.pow(Oe-ut,2)+Math.pow(gt-bt,2));return wt=Math.atan2(Tt-bt,wt-ut),gt=Math.PI/2+(wt+Math.atan2(gt-bt,Oe-ut))/2,Math.abs(wt-gt)>Math.PI/2&&(gt-=Math.PI),wt=ut+Math.cos(gt)*rt,Tt=bt+Math.sin(gt)*rt,ut={rightContX:Oe=ut+Math.cos(Math.PI+gt)*kt,rightContY:gt=bt+Math.sin(Math.PI+gt)*kt,leftContX:wt,leftContY:Tt,plotX:ut,plotY:bt},We&&(ut.prevPointCont=ae(Xe,Ee,!1,ht)),ut}function Ie(){(this.pane||[]).forEach(Xe=>{Xe.render()})}function Ce(Xe){const Ee=Xe.args[0].xAxis,We=Xe.args[0].yAxis;Xe=Xe.args[0].chart,Ee&&We&&("polygon"===We.gridLineInterpolation?(Ee.startOnTick=!0,Ee.endOnTick=!0):"polygon"===Ee.gridLineInterpolation&&Xe.inverted&&(We.startOnTick=!0,We.endOnTick=!0))}function ge(){this.pane||(this.pane=[]),this.options.pane=Be(this.options.pane),this.options.pane.forEach(Xe=>{new he(Xe,this)},this)}function Me(Xe){var Ee=Xe.args.marker,We=this.chart.xAxis[0],ht=this.chart.yAxis[0],ut=this.chart.inverted;const bt=ut?ht:We;if(We=ut?We:ht,this.chart.polar){Xe.preventDefault(),ht=(Ee.attr?Ee.attr("start"):Ee.start)-bt.startAngleRad,ut=Ee.attr?Ee.attr("r"):Ee.r;let wt=(Ee.attr?Ee.attr("end"):Ee.end)-bt.startAngleRad;Ee=Ee.attr?Ee.attr("innerR"):Ee.innerR,Xe.result.x=ht+bt.pos,Xe.result.width=wt-ht,Xe.result.y=We.len+We.pos-Ee,Xe.result.height=Ee-ut}}function oe(Xe){var Ee=this.chart;if(Ee.polar&&Ee.hoverPane&&Ee.hoverPane.axis){Xe.preventDefault();var We=Ee.hoverPane.center,ht=this.mouseDownX||0;const Nt=this.mouseDownY||0;var ut=Xe.args.chartY;const Rt=Xe.args.chartX;var bt=2*Math.PI,wt=Ee.hoverPane.axis.startAngleRad,Tt=Ee.hoverPane.axis.endAngleRad,Oe=Ee.inverted?Ee.xAxis[0]:Ee.yAxis[0];const Bt={};var rt="arc";if(Bt.x=We[0]+Ee.plotLeft,Bt.y=We[1]+Ee.plotTop,this.zoomHor){var gt=0<wt?Tt-wt:Math.abs(wt)+Math.abs(Tt),kt=Math.atan2(Nt-Ee.plotTop-We[1],ht-Ee.plotLeft-We[0])-wt,St=Math.atan2(ut-Ee.plotTop-We[1],Rt-Ee.plotLeft-We[0])-wt;if(Bt.r=We[2]/2,Bt.innerR=We[3]/2,0>=kt&&(kt+=bt),0>=St&&(St+=bt),St<kt&&(St=[kt,kt=St][0]),gt<bt&&wt+St>Tt+(bt-gt)/2&&(St=kt,kt=0>=wt?wt:0),bt=Bt.start=Math.max(kt+wt,wt),gt=Bt.end=Math.min(St+wt,Tt),"polygon"===Oe.options.gridLineInterpolation){if(St=bt-(rt=Ee.hoverPane.axis).startAngleRad+rt.pos,kt=gt-bt,bt=Oe.getPlotLinePath({value:Oe.max}),gt=rt.toValue(St),St=rt.toValue(St+kt),gt<rt.getExtremes().min){const{min:oi,max:pi}=rt.getExtremes();gt=pi-(oi-gt)}if(St<rt.getExtremes().min){const{min:oi,max:pi}=rt.getExtremes();St=pi-(oi-St)}St<gt&&(St=[gt,gt=St][0]),(bt=w(bt,gt,St,rt)).push(["L",We[0]+Ee.plotLeft,Ee.plotTop+We[1]]),Bt.d=bt,rt="path"}}this.zoomVert&&(St=Ee.inverted?Ee.xAxis[0]:Ee.yAxis[0],ht=Math.sqrt(Math.pow(ht-Ee.plotLeft-We[0],2)+Math.pow(Nt-Ee.plotTop-We[1],2)),(ut=Math.sqrt(Math.pow(Rt-Ee.plotLeft-We[0],2)+Math.pow(ut-Ee.plotTop-We[1],2)))<ht&&(ht=[ut,ut=ht][0]),ut>We[2]/2&&(ut=We[2]/2),ht<We[3]/2&&(ht=We[3]/2),this.zoomHor||(Bt.start=wt,Bt.end=Tt),Bt.r=ut,Bt.innerR=ht,"polygon"===St.options.gridLineInterpolation&&(We=St.toValue(St.len+St.pos-ht),wt=St.toValue(St.len+St.pos-ut),We=St.getPlotLinePath({value:wt}).concat(St.getPlotLinePath({value:We,reverse:!0})),Bt.d=We,rt="path")),this.zoomHor&&this.zoomVert&&"polygon"===Oe.options.gridLineInterpolation&&(Tt=(Bt.end||0)-(Oe=Bt.start||0),Oe=(We=Ee.hoverPane.axis).toValue(wt=Oe-We.startAngleRad+We.pos),We=We.toValue(wt+Tt),Bt.d instanceof Array&&(wt=Bt.d.slice(0,Bt.d.length/2),Tt=Bt.d.slice(Bt.d.length/2,Bt.d.length),Tt=[...Tt].reverse(),wt=w(wt,Oe,We,Ee=Ee.hoverPane.axis),(Tt=w(Tt,Oe,We,Ee))&&(Tt[0][0]="L"),Tt=[...Tt].reverse(),Bt.d=wt.concat(Tt),rt="path")),Xe.attrs=Bt,Xe.shapeType=rt}}function ne(){const Xe=this.chart;Xe.polar&&(this.polar=new ri(this),Xe.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function Y(){if(this.chart.polar&&this.xAxis){const{xAxis:Xe,yAxis:Ee}=this,We=this.chart;(this.kdByAngle=We.tooltip&&We.tooltip.shared)?this.searchPoint=C:this.options.findNearestPointBy="xy";const ht=this.points;let ut=ht.length;for(;ut--;)this.is("column")||this.is("columnrange")||this.polar.toXY(ht[ut]),We.hasParallelCoordinates||this.yAxis.reversed||(_e(ht[ut].y,Number.MIN_VALUE)<Ee.min||ht[ut].x<Xe.min||ht[ut].x>Xe.max?(ht[ut].isNull=!0,ht[ut].plotY=NaN):ht[ut].isNull=ht[ut].isValid&&!ht[ut].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(ee(this,"afterRender",function(){if(We.polar){var bt=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:bt[0],y:bt[1],r:bt[2]/2,innerR:bt[3]/2});else{{var wt=We.renderer,Tt=bt[0],Oe=bt[1],rt=bt[2]/2,gt=bt[3]/2;bt=Ye();const kt=wt.createElement("clipPath").attr({id:bt}).add(wt.defs);(wt=gt?wt.arc(Tt,Oe,rt,gt,0,2*Math.PI).add(kt):wt.circle(Tt,Oe,rt).add(kt)).id=bt,wt.clipPath=kt}this.clipCircle=wt}this.group.clip(this.clipCircle),this.setClip=ye.noop}})))}}function C(Xe){const Ee=this.chart;var We=this.xAxis;return We=We.pane&&We.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(Xe.chartX-(We&&We[0]||0)-Ee.plotLeft,Xe.chartY-(We&&We[1]||0)-Ee.plotTop)})}function w(Xe,Ee,We,ht){const ut=ht.tickInterval;let bt=L(ht=ht.tickPositions,Tt=>Tt>=We),wt=L([...ht].reverse(),Tt=>Tt<=Ee);return le(bt)||(bt=ht[ht.length-1]),le(wt)||(wt=ht[0],bt+=ut,Xe[0][0]="L",Xe.unshift(Xe[Xe.length-3])),(Xe=Xe.slice(ht.indexOf(wt),ht.indexOf(bt)+1))[0][0]="M",Xe}function T(Xe,Ee){return L(this.pane||[],function(We){return We.options.id===Ee})||Xe.call(this,Ee)}function M(Xe,Ee,We,ht,ut,bt){const wt=this.chart;var Tt=_e(ht.inside,!!this.options.stacking);wt.polar?(Xe=Ee.rectPlotX/Math.PI*180,wt.inverted?(this.forceDL=wt.isInsidePlot(Ee.plotX,Ee.plotY),Tt&&Ee.shapeArgs?(Tt=this.yAxis.postTranslate((((Tt=Ee.shapeArgs).start||0)+(Tt.end||0))/2-this.xAxis.startAngleRad,Ee.barX+Ee.pointWidth/2),ut=ue(ut,{x:Tt.x-wt.plotLeft,y:Tt.y-wt.plotTop})):Ee.tooltipPos&&(ut=ue(ut,{x:Ee.tooltipPos[0],y:Ee.tooltipPos[1]})),ht.align=_e(ht.align,"center"),ht.verticalAlign=_e(ht.verticalAlign,"middle")):(null===ht.align&&(ht.align=20<Xe&&160>Xe?"left":200<Xe&&340>Xe?"right":"center"),null===ht.verticalAlign&&(ht.verticalAlign=45>Xe||315<Xe?"bottom":135<Xe&&225>Xe?"top":"middle")),J.prototype.alignDataLabel.call(this,Ee,We,ht,ut,bt),this.isRadialBar&&Ee.shapeArgs&&Ee.shapeArgs.start===Ee.shapeArgs.end?We.hide():We.show()):Xe.call(this,Ee,We,ht,ut,bt)}function E(){const Xe=this.options,Ee=Xe.stacking,We=this.chart;var ht=this.xAxis;const ut=this.yAxis,bt=ut.reversed,wt=ut.center,Tt=ht.startAngleRad,Oe=ht.endAngleRad-Tt;let gt,kt,St,rt=0,Nt=0;var Rt=0;if(ht.isRadial){gt=(ht=this.points).length,kt=ut.translate(ut.min),St=ut.translate(ut.max);var Bt=Xe.threshold||0;for(We.inverted&&j(Bt)&&(rt=ut.translate(Bt),le(rt)&&(0>rt?rt=0:rt>Oe&&(rt=Oe),this.translatedThreshold=rt+Tt));gt--;){var oi=(Bt=ht[gt]).barX,pi=Bt.x,Fi=Bt.y;if(Bt.shapeType="arc",We.inverted){Bt.plotY=ut.translate(Fi),Ee&&ut.stacking?(Fi=ut.stacking.stacks[(0>Fi?"-":"")+this.stackKey],this.visible&&Fi&&Fi[pi]&&!Bt.isNull&&(Rt=Fi[pi].points[this.getStackIndicator(void 0,pi,this.index).key],Nt=ut.translate(Rt[0]),Rt=ut.translate(Rt[1]),le(Nt)&&(Nt=K.clamp(Nt,0,Oe)))):(Nt=rt,Rt=Bt.plotY),Nt>Rt&&(Rt=[Nt,Nt=Rt][0]),bt?Rt>kt?Rt=kt:Nt<St?Nt=St:(Nt>kt||Rt<St)&&(Nt=Rt=Oe):Nt<kt?Nt=kt:Rt>St?Rt=St:(Rt<kt||Nt>St)&&(Nt=Rt=0),ut.min>ut.max&&(Nt=Rt=bt?Oe:0),Nt+=Tt,Rt+=Tt,wt&&(Bt.barX=oi+=wt[3]/2),pi=Math.max(oi,0),Fi=Math.max(oi+Bt.pointWidth,0);var Bi=Xe.borderRadius;Bi=De(("object"==typeof Bi?Bi.radius:Bi)||0,Fi-pi),Bt.shapeArgs={x:wt[0],y:wt[1],r:Fi,innerR:pi,start:Nt,end:Rt,borderRadius:Bi},Bt.opacity=Nt===Rt?0:void 0,Bt.plotY=(le(this.translatedThreshold)&&(Nt<this.translatedThreshold?Nt:Rt))-Tt}else Nt=oi+Tt,Bt.shapeArgs=this.polar.arc(Bt.yBottom,Bt.plotY,Nt,Nt+Bt.pointWidth),Bt.shapeArgs.borderRadius=0;this.polar.toXY(Bt),We.inverted?(oi=ut.postTranslate(Bt.rectPlotY,oi+Bt.pointWidth/2),Bt.tooltipPos=[oi.x-We.plotLeft,oi.y-We.plotTop]):Bt.tooltipPos=[Bt.plotX,Bt.plotY],wt&&(Bt.ttBelow=Bt.plotY>wt[1])}}}function Q(Xe,Ee){const We=this;let ht;if(this.chart.polar){Ee=Ee||this.points;for(let bt=0;bt<Ee.length;bt++)if(!Ee[bt].isNull){var ut=bt;break}!1!==this.options.connectEnds&&typeof ut<"u"&&(this.connectEnds=!0,Ee.splice(Ee.length,0,Ee[ut]),ht=!0),Ee.forEach(bt=>{typeof bt.polarPlotY>"u"&&We.polar.toXY(bt)})}return ut=Xe.apply(this,[].slice.call(arguments,1)),ht&&Ee.pop(),ut}function de(Xe,Ee){const We=this.chart;let ht={xAxis:[],yAxis:[]};return We.polar?We.axes.forEach(ut=>{if("colorAxis"!==ut.coll){var bt=ut.isXAxis,wt=ut.center,Tt=Ee.chartX-wt[0]-We.plotLeft;wt=Ee.chartY-wt[1]-We.plotTop,ht[bt?"xAxis":"yAxis"].push({axis:ut,value:ut.translate(bt?Math.PI-Math.atan2(Tt,wt):Math.sqrt(Math.pow(Tt,2)+Math.pow(wt,2)),!0)})}}):ht=Xe.call(this,Ee),ht}function q(Xe,Ee){this.chart.polar||Xe.call(this,Ee)}function U(Xe,Ee){const We=this,ht=this.chart,ut=this.group,bt=this.markerGroup,wt=this.xAxis&&this.xAxis.center,Tt=ht.plotLeft,Oe=ht.plotTop;let gt,kt,St,Nt,Rt,rt=this.options.animation;ht.polar?We.isRadialBar?Ee||(We.startAngleRad=_e(We.translatedThreshold,We.xAxis.startAngleRad),ye.seriesTypes.pie.prototype.animate.call(We,Ee)):(rt=Le(rt),We.is("column")?Ee||(gt=wt[3]/2,We.points.forEach(Bt=>{kt=Bt.graphic,Nt=(St=Bt.shapeArgs)&&St.r,Rt=St&&St.innerR,kt&&St&&(kt.attr({r:gt,innerR:gt}),kt.animate({r:Nt,innerR:Rt},We.options.animation))})):Ee?(ut.attr(Xe={translateX:wt[0]+Tt,translateY:wt[1]+Oe,scaleX:.001,scaleY:.001}),bt&&bt.attr(Xe)):(ut.animate(Xe={translateX:Tt,translateY:Oe,scaleX:1,scaleY:1},rt),bt&&bt.animate(Xe,rt))):Xe.call(this,Ee)}function se(Xe,Ee,We,ht){return this.chart.polar?ht?(We=(Xe=ae(Ee,ht,!0,this.connectEnds)).prevPointCont&&Xe.prevPointCont.rightContY,Xe=["C",j(Ee=Xe.prevPointCont&&Xe.prevPointCont.rightContX)?Ee:Xe.plotX,j(We)?We:Xe.plotY,j(Xe.leftContX)?Xe.leftContX:Xe.plotX,j(Xe.leftContY)?Xe.leftContY:Xe.plotY,Xe.plotX,Xe.plotY]):Xe=["M",We.plotX,We.plotY]:Xe=Xe.call(this,Ee,We,ht),Xe}const{animObject:Le}=e,{addEvent:ee,defined:le,find:L,isNumber:j,merge:ue,pick:_e,relativeLength:De,splat:Be,uniqueKey:Ye,wrap:it}=K,xt=[];class ri{static compose(Ee,We,ht,ut,bt,wt,Tt,Oe,rt){me.compose(Ee,bt),K.pushUnique(xt,We)&&(ee(We,"afterDrawChartBox",Ie),ee(We,"getAxes",ge),ee(We,"init",Ce),it(We.prototype,"get",T)),K.pushUnique(xt,ht)&&(it(Ee=ht.prototype,"getCoordinates",de),it(Ee,"pinch",q),ee(ht,"getSelectionMarkerAttrs",oe),ee(ht,"getSelectionBox",Me)),K.pushUnique(xt,ut)&&(ee(ut,"afterInit",ne),ee(ut,"afterTranslate",Y,{order:2}),ee(ut,"afterColumnTranslate",E,{order:4}),it(ut.prototype,"animate",U)),Tt&&K.pushUnique(xt,Tt)&&(it(ht=Tt.prototype,"alignDataLabel",M),it(ht,"animate",U)),Oe&&K.pushUnique(xt,Oe)&&it(Oe.prototype,"getGraphPath",Q),rt&&K.pushUnique(xt,rt)&&(it(Oe=rt.prototype,"getPointSpline",se),wt&&K.pushUnique(xt,wt)&&(wt.prototype.getPointSpline=Oe.getPointSpline))}constructor(Ee){this.series=Ee}arc(Ee,We,ht,ut){const bt=this.series,wt=bt.xAxis.center,Tt=bt.yAxis.len,Oe=wt[3]/2;return We=Tt-We+Oe,Ee=Tt-_e(Ee,Tt)+Oe,bt.yAxis.reversed&&(0>We&&(We=Oe),0>Ee&&(Ee=Oe)),{x:wt[0],y:wt[1],r:We,innerR:Ee,start:ht,end:ut}}toXY(Ee){var We=this.series;const ht=We.chart,ut=We.xAxis;var bt=We.yAxis;const wt=Ee.plotX,Tt=ht.inverted,Oe=Ee.y;let rt=Ee.plotY,gt=Tt?wt:bt.len-rt;Tt&&We&&!We.isRadialBar&&(Ee.plotY=rt=j(Oe)?bt.translate(Oe):0),Ee.rectPlotX=wt,Ee.rectPlotY=rt,bt.center&&(gt+=bt.center[3]/2),j(rt)&&(bt=Tt?bt.postTranslate(rt,gt):ut.postTranslate(wt,gt),Ee.plotX=Ee.polarPlotX=bt.x-ht.plotLeft,Ee.plotY=Ee.polarPlotY=bt.y-ht.plotTop),We.kdByAngle?(0>(We=(wt/Math.PI*180+ut.pane.options.startAngle)%360)&&(We+=360),Ee.clientX=We):Ee.clientX=Ee.plotX}}return ri}),ce(we,"masters/highcharts-more.src.js",[we["Core/Globals.js"],we["Core/Series/SeriesRegistry.js"],we["Series/Bubble/BubbleSeries.js"],we["Series/PackedBubble/PackedBubbleSeries.js"],we["Series/PolarComposition.js"]],function(e,ye,J,he,me){J.compose(e.Axis,e.Chart,e.Legend,e.Series),he.compose(e.Axis,e.Chart,e.Legend,e.Series),me.compose(e.Axis,e.Chart,e.Pointer,e.Series,e.Tick,ye.seriesTypes.areasplinerange,ye.seriesTypes.column,ye.seriesTypes.line,ye.seriesTypes.spline)})},La.exports?(we.default=we,La.exports=we):(It=[Pt(3470)],void 0!==(mn=function(ce){return we(ce),we.Highcharts=ce,we}.apply(Hn,It))&&(La.exports=mn))},2983:function(La,Hn,Pt){var It;typeof globalThis<"u"?globalThis:typeof this<"u"||(typeof window<"u"?window:typeof self<"u"?self:global),La.exports=(It=function(){try{return Pt(6166)}catch{}}(),function(){"use strict";var mn={662:function(ye,J){var ae,he=this&&this.__extends||(ae=function(Ie,Ce){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,Me){ge.__proto__=Me}||function(ge,Me){for(var oe in Me)Object.prototype.hasOwnProperty.call(Me,oe)&&(ge[oe]=Me[oe])})(Ie,Ce)},function(Ie,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");function ge(){this.constructor=Ie}ae(Ie,Ce),Ie.prototype=null===Ce?Object.create(Ce):(ge.prototype=Ce.prototype,new ge)});Object.defineProperty(J,"__esModule",{value:!0}),J.CellHookData=J.HookData=void 0;var me=function ae(Ie,Ce,ge){this.table=Ce,this.pageNumber=Ce.pageNumber,this.pageCount=this.pageNumber,this.settings=Ce.settings,this.cursor=ge,this.doc=Ie.getDocument()};J.HookData=me;var K=function(ae){function Ie(Ce,ge,Me,oe,ne,Y){var C=ae.call(this,Ce,ge,Y)||this;return C.cell=Me,C.row=oe,C.column=ne,C.section=oe.section,C}return he(Ie,ae),Ie}(me);J.CellHookData=K},790:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0});var me=he(148),K=he(938),ae=he(323),Ie=he(587),Ce=he(49),ge=he(858);J.default=function Me(oe){oe.API.autoTable=function(){for(var ne=[],Y=0;Y<arguments.length;Y++)ne[Y]=arguments[Y];var C;1===ne.length?C=ne[0]:(console.error("Use of deprecated autoTable initiation"),(C=ne[2]||{}).columns=ne[0],C.body=ne[1]);var w=(0,Ie.parseInput)(this,C),T=(0,ge.createTable)(this,w);return(0,Ce.drawTable)(this,T),this},oe.API.lastAutoTable=!1,oe.API.previousAutoTable=!1,oe.API.autoTable.previous=!1,oe.API.autoTableText=function(ne,Y,C,w){(0,K.default)(ne,Y,C,w,this)},oe.API.autoTableSetDefaults=function(ne){return ae.DocHandler.setDefaults(ne,this),this},oe.autoTableSetDefaults=function(ne,Y){ae.DocHandler.setDefaults(ne,Y)},oe.API.autoTableHtmlToJson=function(ne,Y){if(void 0===Y&&(Y=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new ae.DocHandler(this),w=(0,me.parseHtml)(C,ne,window,Y,!1),M=w.body;return{columns:w.head[0].map(function(Q){return Q.content}),rows:M,data:M}},oe.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var ne=this.lastAutoTable;return ne&&ne.finalY?ne.finalY:0},oe.API.autoTableAddPageContent=function(ne){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),oe.API.autoTable.globalDefaults||(oe.API.autoTable.globalDefaults={}),oe.API.autoTable.globalDefaults.addPageContent=ne,this},oe.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},938:function(ye,J){Object.defineProperty(J,"__esModule",{value:!0}),J.default=function he(me,K,ae,Ie,Ce){Ie=Ie||{};var Me=Ce.internal.scaleFactor,oe=Ce.internal.getFontSize()/Me,Y=oe*(Ce.getLineHeightFactor?Ce.getLineHeightFactor():1.15),w="",T=1;if(("middle"===Ie.valign||"bottom"===Ie.valign||"center"===Ie.halign||"right"===Ie.halign)&&(T=(w="string"==typeof me?me.split(/\r\n|\r|\n/g):me).length||1),ae+=oe*(2-1.15),"middle"===Ie.valign?ae-=T/2*Y:"bottom"===Ie.valign&&(ae-=T*Y),"center"===Ie.halign||"right"===Ie.halign){var M=oe;if("center"===Ie.halign&&(M*=.5),w&&T>=1){for(var E=0;E<w.length;E++)Ce.text(w[E],K-Ce.getStringUnitWidth(w[E])*M,ae),ae+=Y;return Ce}K-=Ce.getStringUnitWidth(me)*M}return"justify"===Ie.halign?Ce.text(me,K,ae,{maxWidth:Ie.maxWidth||100,align:"justify"}):Ce.text(me,K,ae),Ce}},200:function(ye,J){function K(Ce,ge){var Me=Ce>0,oe=ge||0===ge;return Me&&oe?"DF":Me?"S":oe?"F":null}function ae(Ce,ge){var Me,oe,ne,Y;if(Ce=Ce||ge,Array.isArray(Ce)){if(Ce.length>=4)return{top:Ce[0],right:Ce[1],bottom:Ce[2],left:Ce[3]};if(3===Ce.length)return{top:Ce[0],right:Ce[1],bottom:Ce[2],left:Ce[1]};if(2===Ce.length)return{top:Ce[0],right:Ce[1],bottom:Ce[0],left:Ce[1]};Ce=1===Ce.length?Ce[0]:ge}return"object"==typeof Ce?("number"==typeof Ce.vertical&&(Ce.top=Ce.vertical,Ce.bottom=Ce.vertical),"number"==typeof Ce.horizontal&&(Ce.right=Ce.horizontal,Ce.left=Ce.horizontal),{left:null!==(Me=Ce.left)&&void 0!==Me?Me:ge,top:null!==(oe=Ce.top)&&void 0!==oe?oe:ge,right:null!==(ne=Ce.right)&&void 0!==ne?ne:ge,bottom:null!==(Y=Ce.bottom)&&void 0!==Y?Y:ge}):("number"!=typeof Ce&&(Ce=ge),{top:Ce,right:Ce,bottom:Ce,left:Ce})}Object.defineProperty(J,"__esModule",{value:!0}),J.getPageAvailableWidth=J.parseSpacing=J.getFillStyle=J.addTableBorder=J.getStringWidth=void 0,J.getStringWidth=function he(Ce,ge,Me){return Me.applyStyles(ge,!0),(Array.isArray(Ce)?Ce:[Ce]).map(function(Y){return Me.getTextWidth(Y)}).reduce(function(Y,C){return Math.max(Y,C)},0)},J.addTableBorder=function me(Ce,ge,Me,oe){var ne=ge.settings.tableLineWidth;Ce.applyStyles({lineWidth:ne,lineColor:ge.settings.tableLineColor});var C=K(ne,!1);C&&Ce.rect(Me.x,Me.y,ge.getWidth(Ce.pageSize().width),oe.y-Me.y,C)},J.getFillStyle=K,J.parseSpacing=ae,J.getPageAvailableWidth=function Ie(Ce,ge){var Me=ae(ge.settings.margin,0);return Ce.pageSize().width-(Me.left+Me.right)}},913:function(ye,J){var Ie,he=this&&this.__extends||(Ie=function(Ce,ge){return(Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Me,oe){Me.__proto__=oe}||function(Me,oe){for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&(Me[ne]=oe[ne])})(Ce,ge)},function(Ce,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Class extends value "+String(ge)+" is not a constructor or null");function Me(){this.constructor=Ce}Ie(Ce,ge),Ce.prototype=null===ge?Object.create(ge):(Me.prototype=ge.prototype,new Me)});Object.defineProperty(J,"__esModule",{value:!0}),J.getTheme=J.defaultStyles=J.HtmlRowInput=void 0;var me=function(Ie){function Ce(ge){var Me=Ie.call(this)||this;return Me._element=ge,Me}return he(Ce,Ie),Ce}(Array);J.HtmlRowInput=me,J.defaultStyles=function K(Ie){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Ie,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},J.getTheme=function ae(Ie){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[Ie]}},259:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.parseCss=void 0;var me=he(200);function Ie(Me,oe){var ne=Ce(Me,oe);if(!ne)return null;var Y=ne.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Y||!Array.isArray(Y))return null;var C=[parseInt(Y[1]),parseInt(Y[2]),parseInt(Y[3])];return 0===parseInt(Y[4])||isNaN(C[0])||isNaN(C[1])||isNaN(C[2])?null:C}function Ce(Me,oe){var ne=oe(Me);return"rgba(0, 0, 0, 0)"===ne||"transparent"===ne||"initial"===ne||"inherit"===ne?null==Me.parentElement?null:Ce(Me.parentElement,oe):ne}J.parseCss=function K(Me,oe,ne,Y,C){var w={},T=1.3333333333333333,M=Ie(oe,function(ue){return C.getComputedStyle(ue).backgroundColor});null!=M&&(w.fillColor=M);var E=Ie(oe,function(ue){return C.getComputedStyle(ue).color});null!=E&&(w.textColor=E);var Q=function ge(Me,oe){var ne=[Me.paddingTop,Me.paddingRight,Me.paddingBottom,Me.paddingLeft],Y=96/(72/oe),C=(parseInt(Me.lineHeight)-parseInt(Me.fontSize))/oe/2,w=ne.map(function(M){return parseInt(M||"0")/Y}),T=(0,me.parseSpacing)(w,0);return C>T.top&&(T.top=C),C>T.bottom&&(T.bottom=C),T}(Y,ne);Q&&(w.cellPadding=Q);var de="borderTopColor",q=T*ne,U=Y.borderTopWidth;if(Y.borderBottomWidth===U&&Y.borderRightWidth===U&&Y.borderLeftWidth===U){var se=(parseFloat(U)||0)/q;se&&(w.lineWidth=se)}else w.lineWidth={top:(parseFloat(Y.borderTopWidth)||0)/q,right:(parseFloat(Y.borderRightWidth)||0)/q,bottom:(parseFloat(Y.borderBottomWidth)||0)/q,left:(parseFloat(Y.borderLeftWidth)||0)/q},w.lineWidth.top||(w.lineWidth.right?de="borderRightColor":w.lineWidth.bottom?de="borderBottomColor":w.lineWidth.left&&(de="borderLeftColor"));console.log(w.lineWidth);var Le=Ie(oe,function(ue){return C.getComputedStyle(ue)[de]});null!=Le&&(w.lineColor=Le);var ee=["left","right","center","justify"];-1!==ee.indexOf(Y.textAlign)&&(w.halign=Y.textAlign),-1!==(ee=["middle","bottom","top"]).indexOf(Y.verticalAlign)&&(w.valign=Y.verticalAlign);var le=parseInt(Y.fontSize||"");isNaN(le)||(w.fontSize=le/T);var L=function ae(Me){var oe="";return("bold"===Me.fontWeight||"bolder"===Me.fontWeight||parseInt(Me.fontWeight)>=700)&&(oe="bold"),("italic"===Me.fontStyle||"oblique"===Me.fontStyle)&&(oe+="italic"),oe}(Y);L&&(w.fontStyle=L);var j=(Y.fontFamily||"").toLowerCase();return-1!==Me.indexOf(j)&&(w.font=j),w}},323:function(ye,J){Object.defineProperty(J,"__esModule",{value:!0}),J.DocHandler=void 0;var he={},me=function(){function K(ae){this.jsPDFDocument=ae,this.userStyles={textColor:ae.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:ae.internal.getFontSize(),fontStyle:ae.internal.getFont().fontStyle,font:ae.internal.getFont().fontName,lineWidth:ae.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:ae.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return K.setDefaults=function(ae,Ie){void 0===Ie&&(Ie=null),Ie?Ie.__autoTableDocumentDefaults=ae:he=ae},K.unifyColor=function(ae){return Array.isArray(ae)?ae:"number"==typeof ae?[ae,ae,ae]:"string"==typeof ae?[ae]:null},K.prototype.applyStyles=function(ae,Ie){var Ce,ge,Me;void 0===Ie&&(Ie=!1),ae.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(ae.fontStyle);var oe=this.jsPDFDocument.internal.getFont(),ne=oe.fontStyle,Y=oe.fontName;if(ae.font&&(Y=ae.font),ae.fontStyle){ne=ae.fontStyle;var C=this.getFontList()[Y];C&&-1===C.indexOf(ne)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(C[0]),ne=C[0])}if(this.jsPDFDocument.setFont(Y,ne),ae.fontSize&&this.jsPDFDocument.setFontSize(ae.fontSize),!Ie){var w=K.unifyColor(ae.fillColor);w&&(Ce=this.jsPDFDocument).setFillColor.apply(Ce,w),(w=K.unifyColor(ae.textColor))&&(ge=this.jsPDFDocument).setTextColor.apply(ge,w),(w=K.unifyColor(ae.lineColor))&&(Me=this.jsPDFDocument).setDrawColor.apply(Me,w),"number"==typeof ae.lineWidth&&this.jsPDFDocument.setLineWidth(ae.lineWidth)}},K.prototype.splitTextToSize=function(ae,Ie,Ce){return this.jsPDFDocument.splitTextToSize(ae,Ie,Ce)},K.prototype.rect=function(ae,Ie,Ce,ge,Me){return this.jsPDFDocument.rect(ae,Ie,Ce,ge,Me)},K.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},K.prototype.getTextWidth=function(ae){return this.jsPDFDocument.getTextWidth(ae)},K.prototype.getDocument=function(){return this.jsPDFDocument},K.prototype.setPage=function(ae){this.jsPDFDocument.setPage(ae)},K.prototype.addPage=function(){return this.jsPDFDocument.addPage()},K.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},K.prototype.getGlobalOptions=function(){return he||{}},K.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},K.prototype.pageSize=function(){var ae=this.jsPDFDocument.internal.pageSize;return null==ae.width&&(ae={width:ae.getWidth(),height:ae.getHeight()}),ae},K.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},K.prototype.getLineHeightFactor=function(){var ae=this.jsPDFDocument;return ae.getLineHeightFactor?ae.getLineHeightFactor():1.15},K.prototype.getLineHeight=function(ae){return ae/this.scaleFactor()*this.getLineHeightFactor()},K.prototype.pageNumber=function(){var ae=this.jsPDFDocument.internal.getCurrentPageInfo();return ae?ae.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},K}();J.DocHandler=me},148:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.parseHtml=void 0;var me=he(259),K=he(913);function Ie(ge,Me,oe,ne,Y,C){for(var w=new K.HtmlRowInput(ne),T=0;T<ne.cells.length;T++){var M=ne.cells[T],E=oe.getComputedStyle(M);if(Y||"none"!==E.display){var Q=void 0;C&&(Q=(0,me.parseCss)(ge,M,Me,E,oe)),w.push({rowSpan:M.rowSpan,colSpan:M.colSpan,styles:Q,_element:M,content:Ce(M)})}}var de=oe.getComputedStyle(ne);if(w.length>0&&(Y||"none"!==de.display))return w}function Ce(ge){var Me=ge.cloneNode(!0);return Me.innerHTML=Me.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Me.innerHTML=Me.innerHTML.split(/<br.*?>/).map(function(oe){return oe.trim()}).join("\n"),Me.innerText||Me.textContent||""}J.parseHtml=function ae(ge,Me,oe,ne,Y){var C,w,T;void 0===ne&&(ne=!1),void 0===Y&&(Y=!1),T="string"==typeof Me?oe.document.querySelector(Me):Me;var M=Object.keys(ge.getFontList()),E=ge.scaleFactor(),Q=[],de=[],q=[];if(!T)return console.error("Html table could not be found with input: ",Me),{head:Q,body:de,foot:q};for(var U=0;U<T.rows.length;U++){var se=T.rows[U],Le=null===(w=null===(C=se?.parentElement)||void 0===C?void 0:C.tagName)||void 0===w?void 0:w.toLowerCase(),ee=Ie(M,E,oe,se,ne,Y);ee&&("thead"===Le?Q.push(ee):"tfoot"===Le?q.push(ee):de.push(ee))}return{head:Q,body:de,foot:q}}},587:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.parseInput=void 0;var me=he(148),K=he(360),ae=he(200),Ie=he(323),Ce=he(291);function w(T,M,E){var Q=T[0]||M[0]||E[0]||[],de=[];return Object.keys(Q).filter(function(q){return"_element"!==q}).forEach(function(q){var se,U=1;"object"==typeof(se=Array.isArray(Q)?Q[parseInt(q)]:Q[q])&&!Array.isArray(se)&&(U=se?.colSpan||1);for(var Le=0;Le<U;Le++){var ee;ee=Array.isArray(Q)?de.length:q+(Le>0?"_".concat(Le):""),de.push({dataKey:ee})}}),de}J.parseInput=function ge(T,M){var E=new Ie.DocHandler(T),Q=E.getDocumentOptions(),de=E.getGlobalOptions();(0,Ce.default)(E,de,Q,M);var U,q=(0,K.assign)({},de,Q,M);typeof window<"u"&&(U=window);var se=function Me(T,M,E){for(var Q={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},de=function(Le){if("columnStyles"===Le)Q.columnStyles=(0,K.assign)({},T[Le],M[Le],E[Le]);else{var ue=[T,M,E].map(function(_e){return _e[Le]||{}});Q[Le]=(0,K.assign)({},ue[0],ue[1],ue[2])}},q=0,U=Object.keys(Q);q<U.length;q++)de(U[q]);return Q}(de,Q,M),Le=function oe(T,M,E){for(var de={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},q=0,U=[T,M,E];q<U.length;q++){var se=U[q];se.didParseCell&&de.didParseCell.push(se.didParseCell),se.willDrawCell&&de.willDrawCell.push(se.willDrawCell),se.didDrawCell&&de.didDrawCell.push(se.didDrawCell),se.willDrawPage&&de.willDrawPage.push(se.willDrawPage),se.didDrawPage&&de.didDrawPage.push(se.didDrawPage)}return de}(de,Q,M),ee=function ne(T,M){var E,Q,de,q,U,se,Le,ee,le,L,j,De,Be,ue=(0,ae.parseSpacing)(M.margin,40/T.scaleFactor()),_e=null!==(E=function Y(T,M){var E=T.getLastAutoTable(),Q=T.scaleFactor(),de=T.pageNumber(),q=!1;return E&&E.startPageNumber&&(q=E.startPageNumber+E.pageNumber-1===de),"number"==typeof M?M:null!=M&&!1!==M||!q||null==E?.finalY?null:E.finalY+20/Q}(T,M.startY))&&void 0!==E?E:ue.top;De=!0===M.showFoot?"everyPage":!1===M.showFoot?"never":null!==(Q=M.showFoot)&&void 0!==Q?Q:"everyPage",Be=!0===M.showHead?"everyPage":!1===M.showHead?"never":null!==(de=M.showHead)&&void 0!==de?de:"everyPage";var Ye=null!==(q=M.useCss)&&void 0!==q&&q,ri=null!==(U=M.horizontalPageBreakRepeat)&&void 0!==U?U:null;return{includeHiddenHtml:null!==(se=M.includeHiddenHtml)&&void 0!==se&&se,useCss:Ye,theme:M.theme||(Ye?"plain":"striped"),startY:_e,margin:ue,pageBreak:null!==(Le=M.pageBreak)&&void 0!==Le?Le:"auto",rowPageBreak:null!==(ee=M.rowPageBreak)&&void 0!==ee?ee:"auto",tableWidth:null!==(le=M.tableWidth)&&void 0!==le?le:"auto",showHead:Be,showFoot:De,tableLineWidth:null!==(L=M.tableLineWidth)&&void 0!==L?L:0,tableLineColor:null!==(j=M.tableLineColor)&&void 0!==j?j:200,horizontalPageBreak:!!M.horizontalPageBreak,horizontalPageBreakRepeat:ri}}(E,q),le=function C(T,M,E){var Q=M.head||[],de=M.body||[],q=M.foot||[];if(M.html)if(E){var se=(0,me.parseHtml)(T,M.html,E,M.includeHiddenHtml,M.useCss)||{};Q=se.head||Q,de=se.body||Q,q=se.foot||Q}else console.error("Cannot parse html in non browser environment");return{columns:M.columns||w(Q,de,q),head:Q,body:de,foot:q}}(E,q,U);return{id:M.tableId,content:le,hooks:Le,styles:se,settings:ee}}},291:function(ye,J){function me(K){K.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),K.minCellHeight||(K.minCellHeight=K.rowHeight)):K.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),K.cellWidth||(K.cellWidth=K.columnWidth))}Object.defineProperty(J,"__esModule",{value:!0}),J.default=function he(K,ae,Ie,Ce){for(var ge=function(Y){Y&&"object"!=typeof Y&&console.error("The options parameter should be of type object, is: "+typeof Y),typeof Y.extendWidth<"u"&&(Y.tableWidth=Y.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof Y.margins<"u"&&(typeof Y.margin>"u"&&(Y.margin=Y.margins),console.error("Use of deprecated option: margins, use margin instead.")),Y.startY&&"number"!=typeof Y.startY&&(console.error("Invalid value for startY option",Y.startY),delete Y.startY),!Y.didDrawPage&&(Y.afterPageContent||Y.beforePageContent||Y.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),Y.didDrawPage=function(q){K.applyStyles(K.userStyles),Y.beforePageContent&&Y.beforePageContent(q),K.applyStyles(K.userStyles),Y.afterPageContent&&Y.afterPageContent(q),K.applyStyles(K.userStyles),Y.afterPageAdd&&q.pageNumber>1&&q.afterPageAdd(q),K.applyStyles(K.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(q){Y[q]&&console.error('The "'.concat(q,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(q){var U=q[0],se=q[1];Y[se]&&(console.error("Use of deprecated option ".concat(se,". Use ").concat(U," instead")),Y[U]=Y[se])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(q){var U="string"==typeof q?q:q[0],se="string"==typeof q?q:q[1];typeof Y[U]<"u"&&(typeof Y.styles[se]>"u"&&(Y.styles[se]=Y[U]),console.error("Use of deprecated option: "+U+", use the style "+se+" instead."))});for(var C=0,w=["styles","bodyStyles","headStyles","footStyles"];C<w.length;C++)me(Y[w[C]]||{});for(var M=Y.columnStyles||{},E=0,Q=Object.keys(M);E<Q.length;E++)me(M[Q[E]]||{})},Me=0,oe=[ae,Ie,Ce];Me<oe.length;Me++)ge(oe[Me])}},287:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.Column=J.Cell=J.Row=J.Table=void 0;var me=he(913),K=he(662),ae=he(200),Ie=function(){function oe(ne,Y){this.pageNumber=1,this.pageCount=1,this.id=ne.id,this.settings=ne.settings,this.styles=ne.styles,this.hooks=ne.hooks,this.columns=Y.columns,this.head=Y.head,this.body=Y.body,this.foot=Y.foot}return oe.prototype.getHeadHeight=function(ne){return this.head.reduce(function(Y,C){return Y+C.getMaxCellHeight(ne)},0)},oe.prototype.getFootHeight=function(ne){return this.foot.reduce(function(Y,C){return Y+C.getMaxCellHeight(ne)},0)},oe.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},oe.prototype.callCellHooks=function(ne,Y,C,w,T,M){for(var E=0,Q=Y;E<Q.length;E++){var U=!1===(0,Q[E])(new K.CellHookData(ne,this,C,w,T,M));if(C.text=Array.isArray(C.text)?C.text:[C.text],U)return!1}return!0},oe.prototype.callEndPageHooks=function(ne,Y){ne.applyStyles(ne.userStyles);for(var C=0,w=this.hooks.didDrawPage;C<w.length;C++)(0,w[C])(new K.HookData(ne,this,Y))},oe.prototype.callWillDrawPageHooks=function(ne,Y){for(var C=0,w=this.hooks.willDrawPage;C<w.length;C++)(0,w[C])(new K.HookData(ne,this,Y))},oe.prototype.getWidth=function(ne){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(w,T){return w+T.wrappedWidth},0);var C=this.settings.margin;return ne-C.left-C.right},oe}();J.Table=Ie;var Ce=function(){function oe(ne,Y,C,w,T){void 0===T&&(T=!1),this.height=0,this.raw=ne,ne instanceof me.HtmlRowInput&&(this.raw=ne._element,this.element=ne._element),this.index=Y,this.section=C,this.cells=w,this.spansMultiplePages=T}return oe.prototype.getMaxCellHeight=function(ne){var Y=this;return ne.reduce(function(C,w){var T;return Math.max(C,(null===(T=Y.cells[w.index])||void 0===T?void 0:T.height)||0)},0)},oe.prototype.hasRowSpan=function(ne){var Y=this;return ne.filter(function(C){var w=Y.cells[C.index];return!!w&&w.rowSpan>1}).length>0},oe.prototype.canEntireRowFit=function(ne,Y){return this.getMaxCellHeight(Y)<=ne},oe.prototype.getMinimumRowHeight=function(ne,Y){var C=this;return ne.reduce(function(w,T){var M=C.cells[T.index];if(!M)return 0;var E=Y.getLineHeight(M.styles.fontSize),de=M.padding("vertical")+E;return de>w?de:w},0)},oe}();J.Row=Ce;var ge=function(){function oe(ne,Y,C){var w,T;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Y,this.section=C,this.raw=ne;var M=ne;null==ne||"object"!=typeof ne||Array.isArray(ne)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=ne.rowSpan||1,this.colSpan=ne.colSpan||1,M=null!==(T=null!==(w=ne.content)&&void 0!==w?w:ne.title)&&void 0!==T?T:ne,ne._element&&(this.raw=ne._element)),this.text=(null!=M?""+M:"").split(/\r\n|\r|\n/g)}return oe.prototype.getTextPos=function(){var ne,C;if("top"===this.styles.valign)ne=this.y+this.padding("top");else if("bottom"===this.styles.valign)ne=this.y+this.height-this.padding("bottom");else{var Y=this.height-this.padding("vertical");ne=this.y+Y/2+this.padding("top")}if("right"===this.styles.halign)C=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var w=this.width-this.padding("horizontal");C=this.x+w/2+this.padding("left")}else C=this.x+this.padding("left");return{x:C,y:ne}},oe.prototype.getContentHeight=function(ne,Y){void 0===Y&&(Y=1.15);var T=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/ne*Y)+this.padding("vertical");return Math.max(T,this.styles.minCellHeight)},oe.prototype.padding=function(ne){var Y=(0,ae.parseSpacing)(this.styles.cellPadding,0);return"vertical"===ne?Y.top+Y.bottom:"horizontal"===ne?Y.left+Y.right:Y[ne]},oe}();J.Cell=ge;var Me=function(){function oe(ne,Y,C){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=ne,this.raw=Y,this.index=C}return oe.prototype.getMaxCustomCellWidth=function(ne){for(var Y=0,C=0,w=ne.allRows();C<w.length;C++){var M=w[C].cells[this.index];M&&"number"==typeof M.styles.cellWidth&&(Y=Math.max(Y,M.styles.cellWidth))}return Y},oe}();J.Column=Me},360:function(ye,J){Object.defineProperty(J,"__esModule",{value:!0}),J.assign=void 0,J.assign=function he(me,K,ae,Ie,Ce){if(null==me)throw new TypeError("Cannot convert undefined or null to object");for(var ge=Object(me),Me=1;Me<arguments.length;Me++){var oe=arguments[Me];if(null!=oe)for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&(ge[ne]=oe[ne])}return ge}},858:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.createTable=void 0;var me=he(323),K=he(287),ae=he(189),Ie=he(913),Ce=he(360);function oe(T,M,E,Q,de,q){var U={};return M.map(function(Le,ee){for(var le=0,L={},j=0,ue=0,_e=0,De=E;_e<De.length;_e++){var Be=De[_e];if(null==U[Be.index]||0===U[Be.index].left)if(0===ue){var Ye,it={};"object"==typeof(Ye=Array.isArray(Le)?Le[Be.index-j-le]:Le[Be.dataKey])&&!Array.isArray(Ye)&&(it=Ye?.styles||{});var xt=w(T,Be,ee,de,Q,q,it),ri=new K.Cell(Ye,xt,T);L[Be.dataKey]=ri,L[Be.index]=ri,U[Be.index]={left:ri.rowSpan-1,times:ue=ri.colSpan-1}}else ue--,j++;else U[Be.index].left--,ue=U[Be.index].times,le++}return new K.Row(Le,ee,T,L)})}function ne(T,M){var E={};return T.forEach(function(Q){if(null!=Q.raw){var de=function Y(T,M){if("head"===T){if("object"==typeof M)return M.header||M.title||null;if("string"==typeof M||"number"==typeof M)return M}else if("foot"===T&&"object"==typeof M)return M.footer;return null}(M,Q.raw);null!=de&&(E[Q.dataKey]=de)}}),Object.keys(E).length>0?E:null}function w(T,M,E,Q,de,q,U){var Le,se=(0,Ie.getTheme)(Q);"head"===T?Le=de.headStyles:"body"===T?Le=de.bodyStyles:"foot"===T&&(Le=de.footStyles);var ee=(0,Ce.assign)({},se.table,se[T],de.styles,Le),L="body"===T&&(de.columnStyles[M.dataKey]||de.columnStyles[M.index])||{},j="body"===T&&E%2==0?(0,Ce.assign)({},se.alternateRow,de.alternateRowStyles):{},ue=(0,Ie.defaultStyles)(q),_e=(0,Ce.assign)({},ue,ee,j,L);return(0,Ce.assign)(_e,U)}J.createTable=function ge(T,M){var E=new me.DocHandler(T),Q=function Me(T,M){var de,E=T.content,Q=function C(T){return T.map(function(M,E){var Q,de,q;return q="object"==typeof M&&null!==(de=null!==(Q=M.dataKey)&&void 0!==Q?Q:M.key)&&void 0!==de?de:E,new K.Column(q,M,E)})}(E.columns);0===E.head.length&&(de=ne(Q,"head"))&&E.head.push(de),0===E.foot.length&&(de=ne(Q,"foot"))&&E.foot.push(de);var q=T.settings.theme,U=T.styles;return{columns:Q,head:oe("head",E.head,Q,U,q,M),body:oe("body",E.body,Q,U,q,M),foot:oe("foot",E.foot,Q,U,q,M)}}(M,E.scaleFactor()),de=new K.Table(M,Q);return(0,ae.calculateWidths)(E,de),E.applyStyles(E.userStyles),de}},49:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.addPage=J.drawTable=void 0;var me=he(200),K=he(287),ae=he(323),Ie=he(360),Ce=he(938),ge=he(435);function w(ee,le,L){var j=L.getLineHeight(ee.styles.fontSize),ue=ee.padding("vertical"),_e=Math.floor((le-ue)/j);return Math.max(0,_e)}function E(ee,le,L,j,ue,_e,De){var Be=function U(ee,le,L,j){var ue=le.settings.margin.bottom,_e=le.settings.showFoot;return("everyPage"===_e||"lastPage"===_e&&L)&&(ue+=le.getFootHeight(le.columns)),ee.pageSize().height-j.y-ue}(ee,le,j,_e);if(L.canEntireRowFit(Be,De))Q(ee,le,L,_e,De);else if(function M(ee,le,L,j){var ue=ee.pageSize().height,_e=j.settings.margin,Be=ue-(_e.top+_e.bottom);"body"===le.section&&(Be-=j.getHeadHeight(j.columns)+j.getFootHeight(j.columns));var Ye=le.getMinimumRowHeight(j.columns,ee),it=Ye<L;if(Ye>Be)return console.error("Will not be able to print row ".concat(le.index," correctly since it's minimum height is larger than page height")),!0;if(!it)return!1;var xt=le.hasRowSpan(j.columns);return le.getMaxCellHeight(j.columns)>Be?(xt&&console.error("The content of row ".concat(le.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(xt||"avoid"===j.settings.rowPageBreak)}(ee,L,Be,le)){var Ye=function T(ee,le,L,j){var ue={};ee.spansMultiplePages=!0,ee.height=0;for(var _e=0,De=0,Be=L.columns;De<Be.length;De++)if(it=ee.cells[(Ye=Be[De]).index]){Array.isArray(it.text)||(it.text=[it.text]);var xt=new K.Cell(it.raw,it.styles,it.section);(xt=(0,Ie.assign)(xt,it)).text=[];var ri=w(it,le,j);it.text.length>ri&&(xt.text=it.text.splice(ri,it.text.length));var Xe=j.scaleFactor(),Ee=j.getLineHeightFactor();it.contentHeight=it.getContentHeight(Xe,Ee),it.contentHeight>=le&&(it.contentHeight=le,xt.styles.minCellHeight-=le),it.contentHeight>ee.height&&(ee.height=it.contentHeight),xt.contentHeight=xt.getContentHeight(Xe,Ee),xt.contentHeight>_e&&(_e=xt.contentHeight),ue[Ye.index]=xt}var We=new K.Row(ee.raw,-1,ee.section,ue,!0);We.height=_e;for(var ht=0,ut=L.columns;ht<ut.length;ht++){var Ye,it;(xt=We.cells[(Ye=ut[ht]).index])&&(xt.height=We.height),(it=ee.cells[Ye.index])&&(it.height=ee.height)}return We}(L,Be,le,ee);Q(ee,le,L,_e,De),se(ee,le,ue,_e,De),E(ee,le,Ye,j,ue,_e,De)}else se(ee,le,ue,_e,De),E(ee,le,L,j,ue,_e,De)}function Q(ee,le,L,j,ue){j.x=le.settings.margin.left;for(var _e=0,De=ue;_e<De.length;_e++){var Be=De[_e],Ye=L.cells[Be.index];if(Ye)if(ee.applyStyles(Ye.styles),Ye.x=j.x,Ye.y=j.y,!1!==le.callCellHooks(ee,le.hooks.willDrawCell,Ye,L,Be,j)){de(ee,Ye,j);var xt=Ye.getTextPos();(0,Ce.default)(Ye.text,xt.x,xt.y,{halign:Ye.styles.halign,valign:Ye.styles.valign,maxWidth:Math.ceil(Ye.width-Ye.padding("left")-Ye.padding("right"))},ee.getDocument()),le.callCellHooks(ee,le.hooks.didDrawCell,Ye,L,Be,j),j.x+=Be.width}else j.x+=Be.width;else j.x+=Be.width}j.y+=L.height}function de(ee,le,L){var j=le.styles;if(ee.getDocument().setFillColor(ee.getDocument().getFillColor()),"number"==typeof j.lineWidth){var ue=(0,me.getFillStyle)(j.lineWidth,j.fillColor);ue&&ee.rect(le.x,L.y,le.width,le.height,ue)}else"object"==typeof j.lineWidth&&(j.fillColor&&ee.rect(le.x,L.y,le.width,le.height,"F"),function q(ee,le,L,j){var ue,_e,De,Be;function Ye(it,xt,ri,Xe,Ee){ee.getDocument().setLineWidth(it),ee.getDocument().line(xt,ri,Xe,Ee,"S")}j.top&&(ue=L.x,De=L.x+le.width,j.right&&(De+=.5*j.right),j.left&&(ue-=.5*j.left),Ye(j.top,ue,_e=L.y,De,Be=L.y)),j.bottom&&(ue=L.x,De=L.x+le.width,j.right&&(De+=.5*j.right),j.left&&(ue-=.5*j.left),Ye(j.bottom,ue,_e=L.y+le.height,De,Be=L.y+le.height)),j.left&&(_e=L.y,Be=L.y+le.height,j.top&&(_e-=.5*j.top),j.bottom&&(Be+=.5*j.bottom),Ye(j.left,ue=L.x,_e,De=L.x,Be)),j.right&&(_e=L.y,Be=L.y+le.height,j.top&&(_e-=.5*j.top),j.bottom&&(Be+=.5*j.bottom),Ye(j.right,ue=L.x+le.width,_e,De=L.x+le.width,Be))}(ee,le,L,j.lineWidth))}function se(ee,le,L,j,ue){void 0===ue&&(ue=[]),ee.applyStyles(ee.userStyles),"everyPage"===le.settings.showFoot&&le.foot.forEach(function(De){return Q(ee,le,De,j,ue)}),le.callEndPageHooks(ee,j);var _e=le.settings.margin;(0,me.addTableBorder)(ee,le,L,j),Le(ee),le.pageNumber++,le.pageCount++,j.x=_e.left,j.y=_e.top,L.y=_e.top,le.callWillDrawPageHooks(ee,j),"everyPage"===le.settings.showHead&&(le.head.forEach(function(De){return Q(ee,le,De,j,ue)}),ee.applyStyles(ee.userStyles))}function Le(ee){var le=ee.pageNumber();return ee.setPage(le+1),ee.pageNumber()===le&&(ee.addPage(),!0)}J.drawTable=function Me(ee,le){var L=le.settings,j=L.startY,ue=L.margin,_e={x:ue.left,y:j},De=le.getHeadHeight(le.columns)+le.getFootHeight(le.columns),Be=j+ue.bottom+De;"avoid"===L.pageBreak&&(Be+=le.body.reduce(function(Xe,Ee){return Xe+Ee.height},0));var xt=new ae.DocHandler(ee);("always"===L.pageBreak||null!=L.startY&&Be>xt.pageSize().height)&&(Le(xt),_e.y=ue.top),le.callWillDrawPageHooks(xt,_e);var ri=(0,Ie.assign)({},_e);le.startPageNumber=xt.pageNumber(),L.horizontalPageBreak?function oe(ee,le,L,j){(0,ge.calculateAllColumnsCanFitInPage)(ee,le).map(function(_e,De){ee.applyStyles(ee.userStyles),De>0?se(ee,le,L,j,_e.columns):function ne(ee,le,L,j){var ue=le.settings;ee.applyStyles(ee.userStyles),("firstPage"===ue.showHead||"everyPage"===ue.showHead)&&le.head.forEach(function(_e){return Q(ee,le,_e,L,j)})}(ee,le,j,_e.columns),function Y(ee,le,L,j,ue){ee.applyStyles(ee.userStyles),le.body.forEach(function(_e,De){E(ee,le,_e,De===le.body.length-1,L,j,ue)})}(ee,le,L,j,_e.columns),function C(ee,le,L,j){var ue=le.settings;ee.applyStyles(ee.userStyles),("lastPage"===ue.showFoot||"everyPage"===ue.showFoot)&&le.foot.forEach(function(_e){return Q(ee,le,_e,L,j)})}(ee,le,j,_e.columns)})}(xt,le,ri,_e):(xt.applyStyles(xt.userStyles),("firstPage"===L.showHead||"everyPage"===L.showHead)&&le.head.forEach(function(Xe){return Q(xt,le,Xe,_e,le.columns)}),xt.applyStyles(xt.userStyles),le.body.forEach(function(Xe,Ee){E(xt,le,Xe,Ee===le.body.length-1,ri,_e,le.columns)}),xt.applyStyles(xt.userStyles),("lastPage"===L.showFoot||"everyPage"===L.showFoot)&&le.foot.forEach(function(Xe){return Q(xt,le,Xe,_e,le.columns)})),(0,me.addTableBorder)(xt,le,ri,_e),le.callEndPageHooks(xt,_e),le.finalY=_e.y,ee.lastAutoTable=le,ee.previousAutoTable=le,ee.autoTable&&(ee.autoTable.previous=le),xt.applyStyles(xt.userStyles)},J.addPage=se},435:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.calculateAllColumnsCanFitInPage=void 0;var me=he(200);function K(Ie,Ce,ge){var Me;void 0===ge&&(ge={});var oe=(0,me.getPageAvailableWidth)(Ie,Ce),ne=new Map,Y=[],C=[],w=[];Array.isArray(Ce.settings.horizontalPageBreakRepeat)?w=Ce.settings.horizontalPageBreakRepeat:("string"==typeof Ce.settings.horizontalPageBreakRepeat||"number"==typeof Ce.settings.horizontalPageBreakRepeat)&&(w=[Ce.settings.horizontalPageBreakRepeat]),w.forEach(function(Q){var de=Ce.columns.find(function(q){return q.dataKey===Q||q.index===Q});de&&!ne.has(de.index)&&(ne.set(de.index,!0),Y.push(de.index),C.push(Ce.columns[de.index]),oe-=de.wrappedWidth)});for(var T=!0,M=null!==(Me=ge?.start)&&void 0!==Me?Me:0;M<Ce.columns.length;)if(ne.has(M))M++;else{var E=Ce.columns[M].wrappedWidth;if(!(T||oe>=E))break;T=!1,Y.push(M),C.push(Ce.columns[M]),oe-=E,M++}return{colIndexes:Y,columns:C,lastIndex:M-1}}J.calculateAllColumnsCanFitInPage=function ae(Ie,Ce){for(var ge=[],Me=0;Me<Ce.columns.length;Me++){var oe=K(Ie,Ce,{start:Me});oe.columns.length&&(ge.push(oe),Me=oe.lastIndex)}return ge}},189:function(ye,J,he){Object.defineProperty(J,"__esModule",{value:!0}),J.ellipsize=J.resizeColumns=J.calculateWidths=void 0;var me=he(200);function Ie(Y,C,w){for(var T=C,M=Y.reduce(function(le,L){return le+L.wrappedWidth},0),E=0;E<Y.length;E++){var Q=Y[E],U=Q.width+T*(Q.wrappedWidth/M),se=w(Q),Le=U<se?se:U;C-=Le-Q.width,Q.width=Le}if(C=Math.round(1e10*C)/1e10){var ee=Y.filter(function(le){return!(C<0)||le.width>w(le)});ee.length&&(C=Ie(ee,C,w))}return C}function oe(Y,C,w,T,M){return Y.map(function(E){return function ne(Y,C,w,T,M){var E=1e4*T.scaleFactor();if((C=Math.ceil(C*E)/E)>=(0,me.getStringWidth)(Y,w,T))return Y;for(;C<(0,me.getStringWidth)(Y+M,w,T)&&!(Y.length<=1);)Y=Y.substring(0,Y.length-1);return Y.trim()+M}(E,C,w,T,M)})}J.calculateWidths=function K(Y,C){!function ae(Y,C){var w=Y.scaleFactor(),T=C.settings.horizontalPageBreak,M=(0,me.getPageAvailableWidth)(Y,C);C.allRows().forEach(function(E){for(var Q=0,de=C.columns;Q<de.length;Q++){var q=de[Q],U=E.cells[q.index];if(U){C.callCellHooks(Y,C.hooks.didParseCell,U,E,q,null);var Le=U.padding("horizontal");U.contentWidth=(0,me.getStringWidth)(U.text,U.styles,Y)+Le;var ee=(0,me.getStringWidth)(U.text.join(" ").split(/\s+/),U.styles,Y);U.minReadableWidth=ee+U.padding("horizontal"),"number"==typeof U.styles.cellWidth?(U.minWidth=U.styles.cellWidth,U.wrappedWidth=U.styles.cellWidth):"wrap"===U.styles.cellWidth||!0===T?U.contentWidth>M?(U.minWidth=M,U.wrappedWidth=M):(U.minWidth=U.contentWidth,U.wrappedWidth=U.contentWidth):(U.minWidth=U.styles.minCellWidth||10/w,U.wrappedWidth=U.contentWidth,U.minWidth>U.wrappedWidth&&(U.wrappedWidth=U.minWidth))}}}),C.allRows().forEach(function(E){for(var Q=0,de=C.columns;Q<de.length;Q++){var q=de[Q],U=E.cells[q.index];if(U&&1===U.colSpan)q.wrappedWidth=Math.max(q.wrappedWidth,U.wrappedWidth),q.minWidth=Math.max(q.minWidth,U.minWidth),q.minReadableWidth=Math.max(q.minReadableWidth,U.minReadableWidth);else{var se=C.styles.columnStyles[q.dataKey]||C.styles.columnStyles[q.index]||{},Le=se.cellWidth||se.minCellWidth;Le&&"number"==typeof Le&&(q.minWidth=Le,q.wrappedWidth=Le)}U&&(U.colSpan>1&&!q.minWidth&&(q.minWidth=U.minWidth),U.colSpan>1&&!q.wrappedWidth&&(q.wrappedWidth=U.minWidth))}})}(Y,C);var w=[],T=0;C.columns.forEach(function(E){var Q=E.getMaxCustomCellWidth(C);Q?E.width=Q:(E.width=E.wrappedWidth,w.push(E)),T+=E.width});var M=C.getWidth(Y.pageSize().width)-T;M&&(M=Ie(w,M,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),M&&(M=Ie(w,M,function(E){return E.minWidth})),M=Math.abs(M),!C.settings.horizontalPageBreak&&M>.1/Y.scaleFactor()&&(M=M<1?M:Math.round(M),console.warn("Of the table content, ".concat(M," units width could not fit page"))),function ge(Y){for(var C=Y.allRows(),w=0;w<C.length;w++)for(var T=C[w],M=null,E=0,Q=0,de=0;de<Y.columns.length;de++){var q=Y.columns[de];if((Q-=1)>1&&Y.columns[de+1])E+=q.width,delete T.cells[q.index];else if(M){var U=M;delete T.cells[q.index],M=null,U.width=q.width+E}else{if(!(U=T.cells[q.index]))continue;if(Q=U.colSpan,E=0,U.colSpan>1){M=U,E+=q.width;continue}U.width=q.width+E}}}(C),function Me(Y,C){for(var w={count:0,height:0},T=0,M=Y.allRows();T<M.length;T++){for(var E=M[T],Q=0,de=Y.columns;Q<de.length;Q++){var U=E.cells[de[Q].index];if(U){C.applyStyles(U.styles,!0);var se=U.width-U.padding("horizontal");if("linebreak"===U.styles.overflow)U.text=C.splitTextToSize(U.text,se+1/C.scaleFactor(),{fontSize:U.styles.fontSize});else if("ellipsize"===U.styles.overflow)U.text=oe(U.text,se,U.styles,C,"...");else if("hidden"===U.styles.overflow)U.text=oe(U.text,se,U.styles,C,"");else if("function"==typeof U.styles.overflow){var Le=U.styles.overflow(U.text,se);U.text="string"==typeof Le?[Le]:Le}U.contentHeight=U.getContentHeight(C.scaleFactor(),C.getLineHeightFactor());var ee=U.contentHeight/U.rowSpan;U.rowSpan>1&&w.count*w.height<ee*U.rowSpan?w={height:ee,count:U.rowSpan}:w&&w.count>0&&w.height>ee&&(ee=w.height),ee>E.height&&(E.height=ee)}}w.count--}}(C,Y),function Ce(Y){for(var C={},w=1,T=Y.allRows(),M=0;M<T.length;M++)for(var E=T[M],Q=0,de=Y.columns;Q<de.length;Q++){var q=de[Q],U=C[q.index];if(w>1)w--,delete E.cells[q.index];else if(U)U.cell.height+=E.height,w=U.cell.colSpan,delete E.cells[q.index],U.left--,U.left<=1&&delete C[q.index];else{var se=E.cells[q.index];if(!se)continue;if(se.height=E.height,se.rowSpan>1){var Le=T.length-M;C[q.index]={cell:se,left:se.rowSpan>Le?Le:se.rowSpan,row:E}}}}}(C)},J.resizeColumns=Ie,J.ellipsize=oe},84:function(ye){if(typeof It>"u"){var J=new Error("Cannot find module 'undefined'");throw J.code="MODULE_NOT_FOUND",J}ye.exports=It}},we={};function ce(ye){var J=we[ye];if(void 0!==J)return J.exports;var he=we[ye]={exports:{}};return mn[ye].call(he.exports,he,he.exports,ce),he.exports}var e={};return function(){var ye=e;Object.defineProperty(ye,"__esModule",{value:!0}),ye.Cell=ye.Column=ye.Row=ye.Table=ye.CellHookData=ye.__drawTable=ye.__createTable=ye.applyPlugin=void 0;var J=ce(790),he=ce(587),me=ce(49),K=ce(858),ae=ce(287);Object.defineProperty(ye,"Table",{enumerable:!0,get:function(){return ae.Table}});var Ie=ce(662);Object.defineProperty(ye,"CellHookData",{enumerable:!0,get:function(){return Ie.CellHookData}});var Ce=ce(287);function ge(C){(0,J.default)(C)}Object.defineProperty(ye,"Cell",{enumerable:!0,get:function(){return Ce.Cell}}),Object.defineProperty(ye,"Column",{enumerable:!0,get:function(){return Ce.Column}}),Object.defineProperty(ye,"Row",{enumerable:!0,get:function(){return Ce.Row}}),ye.applyPlugin=ge,ye.__createTable=function oe(C,w){var T=(0,he.parseInput)(C,w);return(0,K.createTable)(C,T)},ye.__drawTable=function ne(C,w){(0,me.drawTable)(C,w)};try{var Y=ce(84);Y.jsPDF&&(Y=Y.jsPDF),ge(Y)}catch{}ye.default=function Me(C,w){var T=(0,he.parseInput)(C,w),M=(0,K.createTable)(C,T);(0,me.drawTable)(C,M)}}(),e}())},6166:(La,Hn,Pt)=>{"use strict";Pt.r(Hn),Pt.d(Hn,{AcroForm:()=>ec,AcroFormAppearance:()=>Vt,AcroFormButton:()=>on,AcroFormCheckBox:()=>qr,AcroFormChoiceField:()=>lr,AcroFormComboBox:()=>za,AcroFormEditBox:()=>Br,AcroFormListBox:()=>Za,AcroFormPasswordField:()=>Pn,AcroFormPushButton:()=>Ur,AcroFormRadioButton:()=>Ya,AcroFormTextField:()=>ka,GState:()=>Or,ShadingPattern:()=>ua,TilingPattern:()=>qa,default:()=>xc,jsPDF:()=>Jt});var It=Pt(1002),ce=Uint8Array,e=Uint16Array,ye=Uint32Array,J=new ce([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),he=new ce([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),me=new ce([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K=function(o,i){for(var r=new e(31),s=0;s<31;++s)r[s]=i+=1<<o[s-1];var d=new ye(r[30]);for(s=1;s<30;++s)for(var c=r[s];c<r[s+1];++c)d[c]=c-r[s]<<5|s;return[r,d]},ae=K(J,2),Ie=ae[0],Ce=ae[1];Ie[28]=258,Ce[258]=28;for(var ge=K(he,0),Me=ge[0],oe=ge[1],ne=new e(32768),Y=0;Y<32768;++Y){var C=(43690&Y)>>>1|(21845&Y)<<1;ne[Y]=((65280&(C=(61680&(C=(52428&C)>>>2|(13107&C)<<2))>>>4|(3855&C)<<4))>>>8|(255&C)<<8)>>>1}var w=function(o,i,r){for(var s=o.length,d=0,c=new e(i);d<s;++d)++c[o[d]-1];var m,p=new e(i);for(d=0;d<i;++d)p[d]=p[d-1]+c[d-1]<<1;if(r){m=new e(1<<i);var g=15-i;for(d=0;d<s;++d)if(o[d])for(var D=d<<4|o[d],k=i-o[d],F=p[o[d]-1]++<<k,O=F|(1<<k)-1;F<=O;++F)m[ne[F]>>>g]=D}else for(m=new e(s),d=0;d<s;++d)m[d]=ne[p[o[d]-1]++]>>>15-o[d];return m},T=new ce(288);for(Y=0;Y<144;++Y)T[Y]=8;for(Y=144;Y<256;++Y)T[Y]=9;for(Y=256;Y<280;++Y)T[Y]=7;for(Y=280;Y<288;++Y)T[Y]=8;var M=new ce(32);for(Y=0;Y<32;++Y)M[Y]=5;var E=w(T,9,0),Q=w(T,9,1),de=w(M,5,0),q=w(M,5,1),U=function(o){for(var i=o[0],r=1;r<o.length;++r)o[r]>i&&(i=o[r]);return i},se=function(o,i,r){var s=i/8>>0;return(o[s]|o[s+1]<<8)>>>(7&i)&r},Le=function(o,i){var r=i/8>>0;return(o[r]|o[r+1]<<8|o[r+2]<<16)>>>(7&i)},ee=function(o){return(o/8>>0)+(7&o&&1)},le=function(o,i,r){(null==i||i<0)&&(i=0),(null==r||r>o.length)&&(r=o.length);var s=new(o instanceof e?e:o instanceof ye?ye:ce)(r-i);return s.set(o.subarray(i,r)),s},L=function(o,i,r){var s=o.length,d=!i||r,c=!r||r.i;r||(r={}),i||(i=new ce(3*s));var p=function(Re){var He=i.length;if(Re>He){var Ge=new ce(Math.max(2*He,Re));Ge.set(i),i=Ge}},m=r.f||0,g=r.p||0,D=r.b||0,k=r.l,F=r.d,O=r.m,y=r.n,X=8*s;do{if(!k){r.f=m=se(o,g,1);var z=se(o,g+1,3);if(g+=3,!z){var Z=o[(re=ee(g)+4)-4]|o[re-3]<<8,$=re+Z;if($>s){if(c)throw"unexpected EOF";break}d&&p(D+Z),i.set(o.subarray(re,$),D),r.b=D+=Z,r.p=g=8*$;continue}if(1==z)k=Q,F=q,O=9,y=5;else{if(2!=z)throw"invalid block type";var Ne=se(o,g,31)+257,qe=se(o,g+10,15)+4,$e=Ne+se(o,g+5,31)+1;g+=14;for(var vt=new ce($e),ze=new ce(19),ve=0;ve<qe;++ve)ze[me[ve]]=se(o,g+3*ve,7);g+=3*qe;var ct=U(ze),lt=(1<<ct)-1;if(!c&&g+$e*(ct+7)>X)break;var W=w(ze,ct,1);for(ve=0;ve<$e;){var re,H=W[se(o,g,lt)];if(g+=15&H,(re=H>>>4)<16)vt[ve++]=re;else{var Ae=0,be=0;for(16==re?(be=3+se(o,g,3),g+=2,Ae=vt[ve-1]):17==re?(be=3+se(o,g,7),g+=3):18==re&&(be=11+se(o,g,127),g+=7);be--;)vt[ve++]=Ae}}var et=vt.subarray(0,Ne),Je=vt.subarray(Ne);O=U(et),y=U(Je),k=w(et,O,1),F=w(Je,y,1)}if(g>X)throw"unexpected EOF"}d&&p(D+131072);for(var ot=(1<<O)-1,Ve=(1<<y)-1,dt=O+y+18;c||g+dt<X;){var st=(Ae=k[Le(o,g)&ot])>>>4;if((g+=15&Ae)>X)throw"unexpected EOF";if(!Ae)throw"invalid length/literal";if(st<256)i[D++]=st;else{if(256==st){k=null;break}var Ft=st-254;st>264&&(Ft=se(o,g,(1<<(P=J[ve=st-257]))-1)+Ie[ve],g+=P);var te=F[Le(o,g)&Ve],pe=te>>>4;if(!te)throw"invalid distance";if(g+=15&te,Je=Me[pe],pe>3){var P=he[pe];Je+=Le(o,g)&(1<<P)-1,g+=P}if(g>X)throw"unexpected EOF";d&&p(D+131072);for(var ke=D+Ft;D<ke;D+=4)i[D]=i[D-Je],i[D+1]=i[D+1-Je],i[D+2]=i[D+2-Je],i[D+3]=i[D+3-Je];D=ke}}r.l=k,r.p=g,r.b=D,k&&(m=1,r.m=O,r.d=F,r.n=y)}while(!m);return D==i.length?i:le(i,0,D)},j=function(o,i,r){var s=i/8>>0;o[s]|=r<<=7&i,o[s+1]|=r>>>8},ue=function(o,i,r){var s=i/8>>0;o[s]|=r<<=7&i,o[s+1]|=r>>>8,o[s+2]|=r>>>16},_e=function(o,i){for(var r=[],s=0;s<o.length;++s)o[s]&&r.push({s,f:o[s]});var d=r.length,c=r.slice();if(!d)return[new ce(0),0];if(1==d){var p=new ce(r[0].s+1);return p[r[0].s]=1,[p,1]}r.sort(function($e,vt){return $e.f-vt.f}),r.push({s:-1,f:25001});var m=r[0],g=r[1],D=0,k=1,F=2;for(r[0]={s:-1,f:m.f+g.f,l:m,r:g};k!=d-1;)m=r[r[D].f<r[F].f?D++:F++],g=r[D!=k&&r[D].f<r[F].f?D++:F++],r[k++]={s:-1,f:m.f+g.f,l:m,r:g};var O=c[0].s;for(s=1;s<d;++s)c[s].s>O&&(O=c[s].s);var y=new e(O+1),X=De(r[k-1],y,0);if(X>i){s=0;var z=0,re=X-i,Z=1<<re;for(c.sort(function(vt,ze){return y[ze.s]-y[vt.s]||vt.f-ze.f});s<d;++s){var $=c[s].s;if(!(y[$]>i))break;z+=Z-(1<<X-y[$]),y[$]=i}for(z>>>=re;z>0;){var Ne=c[s].s;y[Ne]<i?z-=1<<i-y[Ne]++-1:++s}for(;s>=0&&z;--s){var qe=c[s].s;y[qe]==i&&(--y[qe],++z)}X=i}return[new ce(y),X]},De=function(o,i,r){return-1==o.s?Math.max(De(o.l,i,r+1),De(o.r,i,r+1)):i[o.s]=r},Be=function(o){for(var i=o.length;i&&!o[--i];);for(var r=new e(++i),s=0,d=o[0],c=1,p=function(g){r[s++]=g},m=1;m<=i;++m)if(o[m]==d&&m!=i)++c;else{if(!d&&c>2){for(;c>138;c-=138)p(32754);c>2&&(p(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(p(d),--c;c>6;c-=6)p(8304);c>2&&(p(c-3<<5|8208),c=0)}for(;c--;)p(d);c=1,d=o[m]}return[r.subarray(0,s),i]},Ye=function(o,i){for(var r=0,s=0;s<i.length;++s)r+=o[s]*i[s];return r},it=function(o,i,r){var s=r.length,d=ee(i+2);o[d]=255&s,o[d+1]=s>>>8,o[d+2]=255^o[d],o[d+3]=255^o[d+1];for(var c=0;c<s;++c)o[d+c+4]=r[c];return 8*(d+4+s)},xt=function(o,i,r,s,d,c,p,m,g,D,k){j(i,k++,r),++d[256];for(var F=_e(d,15),O=F[0],y=F[1],X=_e(c,15),z=X[0],re=X[1],Z=Be(O),$=Z[0],Ne=Z[1],qe=Be(z),$e=qe[0],vt=qe[1],ze=new e(19),ve=0;ve<$.length;++ve)ze[31&$[ve]]++;for(ve=0;ve<$e.length;++ve)ze[31&$e[ve]]++;for(var ct=_e(ze,7),lt=ct[0],W=ct[1],H=19;H>4&&!lt[me[H-1]];--H);var Je,ot,Ve,dt,Ae=D+5<<3,be=Ye(d,T)+Ye(c,M)+p,et=Ye(d,O)+Ye(c,z)+p+14+3*H+Ye(ze,lt)+(2*ze[16]+3*ze[17]+7*ze[18]);if(Ae<=be&&Ae<=et)return it(i,k,o.subarray(g,g+D));if(j(i,k,1+(et<be)),k+=2,et<be){Je=w(O,y,0),ot=O,Ve=w(z,re,0),dt=z;var st=w(lt,W,0);for(j(i,k,Ne-257),j(i,k+5,vt-1),j(i,k+10,H-4),k+=14,ve=0;ve<H;++ve)j(i,k+3*ve,lt[me[ve]]);k+=3*H;for(var Ft=[$,$e],P=0;P<2;++P){var te=Ft[P];for(ve=0;ve<te.length;++ve)j(i,k,st[pe=31&te[ve]]),k+=lt[pe],pe>15&&(j(i,k,te[ve]>>>5&127),k+=te[ve]>>>12)}}else Je=E,ot=T,Ve=de,dt=M;for(ve=0;ve<m;++ve)if(s[ve]>255){var pe;ue(i,k,Je[257+(pe=s[ve]>>>18&31)]),k+=ot[pe+257],pe>7&&(j(i,k,s[ve]>>>23&31),k+=J[pe]);var ke=31&s[ve];ue(i,k,Ve[ke]),k+=dt[ke],ke>3&&(ue(i,k,s[ve]>>>5&8191),k+=he[ke])}else ue(i,k,Je[s[ve]]),k+=ot[s[ve]];return ue(i,k,Je[256]),k+ot[256]},ri=new ye([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xe=new ce(0),ut=function(){var o=1,i=0;return{p:function(r){for(var s=o,d=i,c=r.length,p=0;p!=c;){for(var m=Math.min(p+5552,c);p<m;++p)d+=s+=r[p];s%=65521,d%=65521}o=s,i=d},d:function(){return(o>>>8<<16|(255&i)<<8|i>>>8)+2*((255&o)<<23)}}},bt=function(o,i,r,s,d){return function(o,i,r,s,d,c){var p=o.length,m=new ce(s+p+5*(1+Math.floor(p/7e3))+d),g=m.subarray(s,m.length-d),D=0;if(!i||p<8)for(var k=0;k<=p;k+=65535){var F=k+65535;F<p?D=it(g,D,o.subarray(k,F)):(g[k]=c,D=it(g,D,o.subarray(k,p)))}else{for(var O=ri[i-1],y=O>>>13,X=8191&O,z=(1<<r)-1,re=new e(32768),Z=new e(z+1),$=Math.ceil(r/3),Ne=2*$,qe=function(ti){return(o[ti]^o[ti+1]<<$^o[ti+2]<<Ne)&z},$e=new ye(25e3),vt=new e(288),ze=new e(32),ve=0,ct=0,lt=(k=0,0),W=0,H=0;k<p;++k){var Ae=qe(k),be=32767&k,et=Z[Ae];if(re[be]=et,Z[Ae]=be,W<=k){var Je=p-k;if((ve>7e3||lt>24576)&&Je>423){D=xt(o,g,0,$e,vt,ze,ct,lt,H,k-H,D),lt=ve=ct=0,H=k;for(var ot=0;ot<286;++ot)vt[ot]=0;for(ot=0;ot<30;++ot)ze[ot]=0}var Ve=2,dt=0,st=X,Ft=be-et&32767;if(Je>2&&Ae==qe(k-Ft))for(var P=Math.min(y,Je)-1,te=Math.min(32767,k),pe=Math.min(258,Je);Ft<=te&&--st&&be!=et;){if(o[k+Ve]==o[k+Ve-Ft]){for(var ke=0;ke<pe&&o[k+ke]==o[k+ke-Ft];++ke);if(ke>Ve){if(Ve=ke,dt=Ft,ke>P)break;var Re=Math.min(Ft,ke-2),He=0;for(ot=0;ot<Re;++ot){var Ge=k-Ft+ot+32768&32767,At=Ge-re[Ge]+32768&32767;At>He&&(He=At,et=Ge)}}}Ft+=(be=et)-(et=re[be])+32768&32767}if(dt){$e[lt++]=268435456|Ce[Ve]<<18|oe[dt];var Ct=31&Ce[Ve],jt=31&oe[dt];ct+=J[Ct]+he[jt],++vt[257+Ct],++ze[jt],W=k+Ve,++ve}else $e[lt++]=o[k],++vt[o[k]]}}D=xt(o,g,c,$e,vt,ze,ct,lt,H,k-H,D),c||(D=it(g,D,Xe))}return le(m,0,s+ee(D)+d)}(o,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(o.length)))):12+i.mem,r,s,!d)},Mi=function(o,i,r){for(;r;++i)o[i]=r,r>>>=8},Ss=function(o,i){var r=i.level,s=0==r?0:r<6?1:9==r?3:2;o[0]=120,o[1]=s<<6|(s?32-2*s:1)},Lo=function(o){if(8!=(15&o[0])||o[0]>>>4>7||(o[0]<<8|o[1])%31)throw"invalid zlib data";if(32&o[1])throw"invalid zlib data: preset dictionaries not supported"};function Mr(o,i){void 0===i&&(i={});var r=ut();r.p(o);var s=bt(o,i,2,4);return Ss(s,i),Mi(s,s.length-4,r.d()),s}var $t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ir(){$t.console&&"function"==typeof $t.console.log&&$t.console.log.apply($t.console,arguments)}var Pi={log:Ir,warn:function(o){$t.console&&("function"==typeof $t.console.warn?$t.console.warn.apply($t.console,arguments):Ir.call(null,arguments))},error:function(o){$t.console&&("function"==typeof $t.console.error?$t.console.error.apply($t.console,arguments):Ir(o))}};function Lr(o,i,r){var s=new XMLHttpRequest;s.open("GET",o),s.responseType="blob",s.onload=function(){Oa(s.response,i,r)},s.onerror=function(){Pi.error("could not download file")},s.send()}function to(o){var i=new XMLHttpRequest;i.open("HEAD",o,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function Fr(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}}var an,Gn,Oa=$t.saveAs||("object"!==(typeof window>"u"?"undefined":(0,It.Z)(window))||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(o,i,r){var s=$t.URL||$t.webkitURL,d=document.createElement("a");d.download=i=i||o.name||"download",d.rel="noopener","string"==typeof o?(d.href=o,d.origin!==location.origin?to(d.href)?Lr(o,i,r):Fr(d,d.target="_blank"):Fr(d)):(d.href=s.createObjectURL(o),setTimeout(function(){s.revokeObjectURL(d.href)},4e4),setTimeout(function(){Fr(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,i,r){if(i=i||o.name||"download","string"==typeof o)if(to(o))Lr(o,i,r);else{var s=document.createElement("a");s.href=o,s.target="_blank",setTimeout(function(){Fr(s)})}else navigator.msSaveOrOpenBlob((d=o,void 0===(c=r)?c={autoBom:!1}:"object"!==(0,It.Z)(c)&&(Pi.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob([String.fromCharCode(65279),d],{type:d.type}):d),i);var d,c}:function(o,i,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof o)return Lr(o,i,r);var d="application/octet-stream"===o.type,c=/constructor/i.test($t.HTMLElement)||$t.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&c)&&"object"===(typeof FileReader>"u"?"undefined":(0,It.Z)(FileReader))){var m=new FileReader;m.onloadend=function(){var k=m.result;k=p?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=k:location=k,s=null},m.readAsDataURL(o)}else{var g=$t.URL||$t.webkitURL,D=g.createObjectURL(o);s?s.location=D:location.href=D,s=null,setTimeout(function(){g.revokeObjectURL(D)},4e4)}});function Ls(o){var i;o=o||"",this.ok=!1,"#"==o.charAt(0)&&(o=o.substr(1,6)),o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[o=(o=o.replace(/ /g,"")).toLowerCase()]||o;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}],s=0;s<r.length;s++){var c=r[s].process,p=r[s].re.exec(o);p&&(i=c(p),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var m=this.r.toString(16),g=this.g.toString(16),D=this.b.toString(16);return 1==m.length&&(m="0"+m),1==g.length&&(g="0"+g),1==D.length&&(D="0"+D),"#"+m+g+D}}function Uo(o,i){var r=o[0],s=o[1],d=o[2],c=o[3];r=gn(r,s,d,c,i[0],7,-680876936),c=gn(c,r,s,d,i[1],12,-389564586),d=gn(d,c,r,s,i[2],17,606105819),s=gn(s,d,c,r,i[3],22,-1044525330),r=gn(r,s,d,c,i[4],7,-176418897),c=gn(c,r,s,d,i[5],12,1200080426),d=gn(d,c,r,s,i[6],17,-1473231341),s=gn(s,d,c,r,i[7],22,-45705983),r=gn(r,s,d,c,i[8],7,1770035416),c=gn(c,r,s,d,i[9],12,-1958414417),d=gn(d,c,r,s,i[10],17,-42063),s=gn(s,d,c,r,i[11],22,-1990404162),r=gn(r,s,d,c,i[12],7,1804603682),c=gn(c,r,s,d,i[13],12,-40341101),d=gn(d,c,r,s,i[14],17,-1502002290),r=Dn(r,s=gn(s,d,c,r,i[15],22,1236535329),d,c,i[1],5,-165796510),c=Dn(c,r,s,d,i[6],9,-1069501632),d=Dn(d,c,r,s,i[11],14,643717713),s=Dn(s,d,c,r,i[0],20,-373897302),r=Dn(r,s,d,c,i[5],5,-701558691),c=Dn(c,r,s,d,i[10],9,38016083),d=Dn(d,c,r,s,i[15],14,-660478335),s=Dn(s,d,c,r,i[4],20,-405537848),r=Dn(r,s,d,c,i[9],5,568446438),c=Dn(c,r,s,d,i[14],9,-1019803690),d=Dn(d,c,r,s,i[3],14,-187363961),s=Dn(s,d,c,r,i[8],20,1163531501),r=Dn(r,s,d,c,i[13],5,-1444681467),c=Dn(c,r,s,d,i[2],9,-51403784),d=Dn(d,c,r,s,i[7],14,1735328473),r=rn(r,s=Dn(s,d,c,r,i[12],20,-1926607734),d,c,i[5],4,-378558),c=rn(c,r,s,d,i[8],11,-2022574463),d=rn(d,c,r,s,i[11],16,1839030562),s=rn(s,d,c,r,i[14],23,-35309556),r=rn(r,s,d,c,i[1],4,-1530992060),c=rn(c,r,s,d,i[4],11,1272893353),d=rn(d,c,r,s,i[7],16,-155497632),s=rn(s,d,c,r,i[10],23,-1094730640),r=rn(r,s,d,c,i[13],4,681279174),c=rn(c,r,s,d,i[0],11,-358537222),d=rn(d,c,r,s,i[3],16,-722521979),s=rn(s,d,c,r,i[6],23,76029189),r=rn(r,s,d,c,i[9],4,-640364487),c=rn(c,r,s,d,i[12],11,-421815835),d=rn(d,c,r,s,i[15],16,530742520),r=vn(r,s=rn(s,d,c,r,i[2],23,-995338651),d,c,i[0],6,-198630844),c=vn(c,r,s,d,i[7],10,1126891415),d=vn(d,c,r,s,i[14],15,-1416354905),s=vn(s,d,c,r,i[5],21,-57434055),r=vn(r,s,d,c,i[12],6,1700485571),c=vn(c,r,s,d,i[3],10,-1894986606),d=vn(d,c,r,s,i[10],15,-1051523),s=vn(s,d,c,r,i[1],21,-2054922799),r=vn(r,s,d,c,i[8],6,1873313359),c=vn(c,r,s,d,i[15],10,-30611744),d=vn(d,c,r,s,i[6],15,-1560198380),s=vn(s,d,c,r,i[13],21,1309151649),r=vn(r,s,d,c,i[4],6,-145523070),c=vn(c,r,s,d,i[11],10,-1120210379),d=vn(d,c,r,s,i[2],15,718787259),s=vn(s,d,c,r,i[9],21,-343485551),o[0]=ha(r,o[0]),o[1]=ha(s,o[1]),o[2]=ha(d,o[2]),o[3]=ha(c,o[3])}function Er(o,i,r,s,d,c){return i=ha(ha(i,o),ha(s,c)),ha(i<<d|i>>>32-d,r)}function gn(o,i,r,s,d,c,p){return Er(i&r|~i&s,o,i,d,c,p)}function Dn(o,i,r,s,d,c,p){return Er(i&s|r&~s,o,i,d,c,p)}function rn(o,i,r,s,d,c,p){return Er(i^r^s,o,i,d,c,p)}function vn(o,i,r,s,d,c,p){return Er(r^(i|~s),o,i,d,c,p)}function Fs(o){var i,r=o.length,s=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=o.length;i+=64)Uo(s,fd(o.substring(i-64,i)));o=o.substring(i-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<o.length;i++)d[i>>2]|=o.charCodeAt(i)<<(i%4<<3);if(d[i>>2]|=128<<(i%4<<3),i>55)for(Uo(s,d),i=0;i<16;i++)d[i]=0;return d[14]=8*r,Uo(s,d),s}function fd(o){var i,r=[];for(i=0;i<64;i+=4)r[i>>2]=o.charCodeAt(i)+(o.charCodeAt(i+1)<<8)+(o.charCodeAt(i+2)<<16)+(o.charCodeAt(i+3)<<24);return r}an=$t.atob.bind($t),Gn=$t.btoa.bind($t);var io="0123456789abcdef".split("");function Es(o){for(var i="",r=0;r<4;r++)i+=io[o>>8*r+4&15]+io[o>>8*r&15];return i}function Tn(o){return String.fromCharCode((255&o)>>0,(65280&o)>>8,(16711680&o)>>16,(4278190080&o)>>24)}function Rr(o){return Fs(o).map(Tn).join("")}var Rs="5d41402abc4b2a76b9719d911017c592"!=function(o){for(var i=0;i<o.length;i++)o[i]=Es(o[i]);return o.join("")}(Fs("hello"));function ha(o,i){if(Rs){var r=(65535&o)+(65535&i);return(o>>16)+(i>>16)+(r>>16)<<16|65535&r}return o+i&4294967295}function Ba(o,i){var r,s,d;if(o!==r){for(var p=(d=o,new Array(1+(256/o.length>>0)+1).join(d)),m=[],g=0;g<256;g++)m[g]=g;var D=0;for(g=0;g<256;g++){var k=m[g];D=(D+k+p.charCodeAt(g))%256,m[g]=m[D],m[D]=k}r=o,s=m}else m=s;var F=i.length,O=0,y=0,X="";for(g=0;g<F;g++)y=(y+(k=m[O=(O+1)%256]))%256,m[O]=m[y],m[y]=k,p=m[(m[O]+m[y])%256],X+=String.fromCharCode(i.charCodeAt(g)^p);return X}var qo={print:4,modify:8,copy:16,"annot-forms":32};function rr(o,i,r,s){this.v=1,this.r=2;var d=192;o.forEach(function(m){if(void 0!==qo.perm)throw new Error("Invalid permission: "+m);d+=qo[m]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var c=(i+this.padding).substr(0,32),p=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,p),this.P=-(1+(255^d)),this.encryptionKey=Rr(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Ba(this.encryptionKey,this.padding)}function Ua(o){if(/[^\u0000-\u00ff]/.test(o))throw new Error("Invalid PDF Name Object: "+o+", Only accept ASCII characters.");for(var i="",r=o.length,s=0;s<r;s++){var d=o.charCodeAt(s);i+=d<33||35===d||37===d||40===d||41===d||47===d||60===d||62===d||91===d||93===d||123===d||125===d||d>126?"#"+("0"+d.toString(16)).slice(-2):o[s]}return i}function Os(o){if("object"!==(0,It.Z)(o))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(r,s,d){if(d=d||!1,"string"!=typeof r||"function"!=typeof s||"boolean"!=typeof d)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(r)||(i[r]={});var c=Math.random().toString(35);return i[r][c]=[s,!!d],c},this.unsubscribe=function(r){for(var s in i)if(i[s][r])return delete i[s][r],0===Object.keys(i[s]).length&&delete i[s],!0;return!1},this.publish=function(r){if(i.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),d=[];for(var c in i[r]){var p=i[r][c];try{p[0].apply(o,s)}catch(m){$t.console&&Pi.error("jsPDF PubSub Error",m.message,m)}p[1]&&d.push(c)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Or(o){if(!(this instanceof Or))return new Or(o);var i="opacity,stroke-opacity".split(",");for(var r in o)o.hasOwnProperty(r)&&i.indexOf(r)>=0&&(this[r]=o[r]);this.id="",this.objectNumber=-1}function no(o,i){this.gState=o,this.matrix=i,this.id="",this.objectNumber=-1}function ua(o,i,r,s,d){if(!(this instanceof ua))return new ua(o,i,r,s,d);this.type="axial"===o?2:3,this.coords=i,this.colors=r,no.call(this,s,d)}function qa(o,i,r,s,d){if(!(this instanceof qa))return new qa(o,i,r,s,d);this.boundingBox=o,this.xStep=i,this.yStep=r,this.stream="",this.cloneIndex=0,no.call(this,s,d)}function Jt(o){var i,r="string"==typeof arguments[0]?arguments[0]:"p",s=arguments[1],d=arguments[2],c=arguments[3],p=[],m=1,g=16,D="S",k=null;"object"===(0,It.Z)(o=o||{})&&(r=o.orientation,s=o.unit||s,d=o.format||d,c=o.compress||o.compressPdf||c,null!==(k=o.encryption||null)&&(k.userPassword=k.userPassword||"",k.ownerPassword=k.ownerPassword||"",k.userPermissions=k.userPermissions||[]),m="number"==typeof o.userUnit?Math.abs(o.userUnit):1,void 0!==o.precision&&(i=o.precision),void 0!==o.floatPrecision&&(g=o.floatPrecision),D=o.defaultPathOperation||"S"),p=o.filters||(!0===c?["FlateEncode"]:p),s=s||"mm",r=(""+(r||"P")).toLowerCase();var F=o.putOnlyUsedFonts||!1,O={},y={internal:{},__private__:{}};y.__private__.PubSub=Os;var X="1.3",z=y.__private__.getPdfVersion=function(){return X};y.__private__.setPdfVersion=function(u){X=u};var re={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return re};var Z=y.__private__.getPageFormat=function(u){return re[u]};d=d||"a4";var $={COMPAT:"compat",ADVANCED:"advanced"},Ne=$.COMPAT;function qe(){this.saveGraphicsState(),fe(new ii(qt,0,0,-qt,0,vr()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),D="n",Ne=$.ADVANCED}function $e(){this.restoreGraphicsState(),D="S",Ne=$.COMPAT}var vt=y.__private__.combineFontStyleAndFontWeight=function(u,S){if("bold"==u&&"normal"==S||"bold"==u&&400==S||"normal"==u&&"italic"==S||"bold"==u&&"italic"==S)throw new Error("Invalid Combination of fontweight and fontstyle");return S&&(u=400==S||"normal"===S?"italic"===u?"italic":"normal":700!=S&&"bold"!==S||"normal"!==u?(700==S?"bold":S)+""+u:"bold"),u};y.advancedAPI=function(u){var S=Ne===$.COMPAT;return S&&qe.call(this),"function"!=typeof u||(u(this),S&&$e.call(this)),this},y.compatAPI=function(u){var S=Ne===$.ADVANCED;return S&&$e.call(this),"function"!=typeof u||(u(this),S&&qe.call(this)),this},y.isAdvancedAPI=function(){return Ne===$.ADVANCED};var ze,ve=function(u){if(Ne!==$.ADVANCED)throw new Error(u+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ct=y.roundToPrecision=y.__private__.roundToPrecision=function(u,S){var ie=i||S;if(isNaN(u)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return u.toFixed(ie).replace(/0+$/,"")};ze=y.hpf=y.__private__.hpf="number"==typeof g?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(u,g)}:"smart"===g?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(u,u>-1&&u<1?16:5)}:function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ct(u,16)};var lt=y.f2=y.__private__.f2=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f2");return ct(u,2)},W=y.__private__.f3=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f3");return ct(u,3)},H=y.scale=y.__private__.scale=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.scale");return Ne===$.COMPAT?u*qt:Ne===$.ADVANCED?u:void 0},be=function(u){return H(function(u){return Ne===$.COMPAT?vr()-u:Ne===$.ADVANCED?u:void 0}(u))};y.__private__.setPrecision=y.setPrecision=function(u){"number"==typeof parseInt(u,10)&&(i=parseInt(u,10))};var et,Je="00000000000000000000000000000000",ot=y.__private__.getFileId=function(){return Je},Ve=y.__private__.setFileId=function(u){return Je=void 0!==u&&/^[a-fA-F0-9]{32}$/.test(u)?u.toUpperCase():Je.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==k&&(Sn=new rr(k.userPermissions,k.userPassword,k.ownerPassword,Je)),Je};y.setFileId=function(u){return Ve(u),this},y.getFileId=function(){return ot()};var dt=y.__private__.convertDateToPDFDate=function(u){var S=u.getTimezoneOffset(),ie=S<0?"+":"-",xe=Math.floor(Math.abs(S/60)),Ue=Math.abs(S%60),nt=[ie,pe(xe),"'",pe(Ue),"'"].join("");return["D:",u.getFullYear(),pe(u.getMonth()+1),pe(u.getDate()),pe(u.getHours()),pe(u.getMinutes()),pe(u.getSeconds()),nt].join("")},st=y.__private__.convertPDFDateToDate=function(u){var S=parseInt(u.substr(2,4),10),ie=parseInt(u.substr(6,2),10)-1,xe=parseInt(u.substr(8,2),10),Ue=parseInt(u.substr(10,2),10),nt=parseInt(u.substr(12,2),10),yt=parseInt(u.substr(14,2),10);return new Date(S,ie,xe,Ue,nt,yt,0)},Ft=y.__private__.setCreationDate=function(u){var S;if(void 0===u&&(u=new Date),u instanceof Date)S=dt(u);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(u))throw new Error("Invalid argument passed to jsPDF.setCreationDate");S=u}return et=S},P=y.__private__.getCreationDate=function(u){var S=et;return"jsDate"===u&&(S=st(et)),S};y.setCreationDate=function(u){return Ft(u),this},y.getCreationDate=function(u){return P(u)};var te,pe=y.__private__.padd2=function(u){return("0"+parseInt(u)).slice(-2)},ke=y.__private__.padd2Hex=function(u){return("00"+(u=u.toString())).substr(u.length)},Re=0,He=[],Ge=[],Qe=0,At=[],Ct=[],jt=!1,Zt=Ge;y.__private__.setCustomOutputDestination=function(u){jt=!0,Zt=u};var at=function(u){jt||(Zt=u)};y.__private__.resetCustomOutputDestination=function(){jt=!1,Zt=Ge};var fe=y.__private__.out=function(u){return u=u.toString(),Qe+=u.length+1,Zt.push(u),Zt},hi=y.__private__.write=function(u){return fe(1===arguments.length?u.toString():Array.prototype.join.call(arguments," "))},Ht=y.__private__.getArrayBuffer=function(u){for(var S=u.length,ie=new ArrayBuffer(S),xe=new Uint8Array(ie);S--;)xe[S]=u.charCodeAt(S);return ie},Dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Dt};var Mt=o.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(u){return Mt=Ne===$.ADVANCED?u/qt:u,this};var Ut,Et=y.__private__.getFontSize=y.getFontSize=function(){return Ne===$.COMPAT?Mt:Mt*qt},Gt=o.R2L||!1;y.__private__.setR2L=y.setR2L=function(u){return Gt=u,this},y.__private__.getR2L=y.getR2L=function(){return Gt};var li,fi=y.__private__.setZoomMode=function(u){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(u))Ut=u;else if(isNaN(u)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(u))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+u+'" is not recognized.');Ut=u}else Ut=parseInt(u,10)};y.__private__.getZoomMode=function(){return Ut};var vi,Di=y.__private__.setPageMode=function(u){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(u))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+u+'" is not recognized.');li=u};y.__private__.getPageMode=function(){return li};var Li=y.__private__.setLayoutMode=function(u){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(u))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+u+'" is not recognized.');vi=u};y.__private__.getLayoutMode=function(){return vi},y.__private__.setDisplayMode=y.setDisplayMode=function(u,S,ie){return fi(u),Li(S),Di(ie),this};var ni={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(u){if(-1===Object.keys(ni).indexOf(u))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ni[u]},y.__private__.getDocumentProperties=function(){return ni},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(u){for(var S in ni)ni.hasOwnProperty(S)&&u[S]&&(ni[S]=u[S]);return this},y.__private__.setDocumentProperty=function(u,S){if(-1===Object.keys(ni).indexOf(u))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ni[u]=S};var yi,qt,_n,Ci,Bn,Ei={},ji={},$n=[],Ti={},Va={},Wi={},Un={},ma=null,Gi=0,ci=[],Ni=new Os(y),Ha=o.hotfixes||[],pn={},Kn={},ea=[],ii=function u(S,ie,xe,Ue,nt,yt){if(!(this instanceof u))return new u(S,ie,xe,Ue,nt,yt);isNaN(S)&&(S=1),isNaN(ie)&&(ie=0),isNaN(xe)&&(xe=0),isNaN(Ue)&&(Ue=1),isNaN(nt)&&(nt=0),isNaN(yt)&&(yt=0),this._matrix=[S,ie,xe,Ue,nt,yt]};Object.defineProperty(ii.prototype,"sx",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(ii.prototype,"shy",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(ii.prototype,"shx",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(ii.prototype,"sy",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(ii.prototype,"tx",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(ii.prototype,"ty",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(ii.prototype,"a",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(ii.prototype,"b",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(ii.prototype,"c",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(ii.prototype,"d",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(ii.prototype,"e",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(ii.prototype,"f",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(ii.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ii.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ii.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ii.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ii.prototype.join=function(u){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ze).join(u)},ii.prototype.multiply=function(u){return new ii(u.sx*this.sx+u.shy*this.shx,u.sx*this.shy+u.shy*this.sy,u.shx*this.sx+u.sy*this.shx,u.shx*this.shy+u.sy*this.sy,u.tx*this.sx+u.ty*this.shx+this.tx,u.tx*this.shy+u.ty*this.sy+this.ty)},ii.prototype.decompose=function(){var u=this.sx,S=this.shy,ie=this.shx,xe=this.sy,Ue=this.tx,nt=this.ty,yt=Math.sqrt(u*u+S*S),zt=(u/=yt)*ie+(S/=yt)*xe;ie-=u*zt,xe-=S*zt;var Qt=Math.sqrt(ie*ie+xe*xe);return zt/=Qt,u*(xe/=Qt)<S*(ie/=Qt)&&(u=-u,S=-S,zt=-zt,yt=-yt),{scale:new ii(yt,0,0,Qt,0,0),translate:new ii(1,0,0,1,Ue,nt),rotate:new ii(u,S,-S,u,0,0),skew:new ii(1,0,zt,1,0,0)}},ii.prototype.toString=function(u){return this.join(" ")},ii.prototype.inversed=function(){var u=this.sx,S=this.shy,ie=this.shx,xe=this.sy,Ue=this.tx,nt=this.ty,yt=1/(u*xe-S*ie),zt=xe*yt,Qt=-S*yt,mi=-ie*yt,_i=u*yt;return new ii(zt,Qt,mi,_i,-zt*Ue-mi*nt,-Qt*Ue-_i*nt)},ii.prototype.applyToPoint=function(u){return new _o(u.x*this.sx+u.y*this.shx+this.tx,u.x*this.shy+u.y*this.sy+this.ty)},ii.prototype.applyToRectangle=function(u){var S=this.applyToPoint(u),ie=this.applyToPoint(new _o(u.x+u.w,u.y+u.h));return new as(S.x,S.y,ie.x-S.x,ie.y-S.y)},ii.prototype.clone=function(){return new ii(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},y.Matrix=ii;var qn=y.matrixMult=function(u,S){return S.multiply(u)},ta=new ii(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ta;var An=function(u,S){if(!Va[u]){var ie=(S instanceof ua?"Sh":"P")+(Object.keys(Ti).length+1).toString(10);S.id=ie,Va[u]=ie,Ti[ie]=S,Ni.publish("addPattern",S)}};y.ShadingPattern=ua,y.TilingPattern=qa,y.addShadingPattern=function(u,S){return ve("addShadingPattern()"),An(u,S),this},y.beginTilingPattern=function(u){ve("beginTilingPattern()"),bl(u.boundingBox[0],u.boundingBox[1],u.boundingBox[2]-u.boundingBox[0],u.boundingBox[3]-u.boundingBox[1],u.matrix)},y.endTilingPattern=function(u,S){ve("endTilingPattern()"),S.stream=Ct[te].join("\n"),An(u,S),Ni.publish("endTilingPattern",S),ea.pop().restore()};var u,sn=y.__private__.newObject=function(){var u=Ki();return Nn(u,!0),u},Ki=y.__private__.newObjectDeferred=function(){return Re++,He[Re]=function(){return Qe},Re},Nn=function(u,S){return S="boolean"==typeof S&&S,He[u]=Qe,S&&fe(u+" 0 obj"),u},dr=y.__private__.newAdditionalObject=function(){var u={objId:Ki(),content:""};return At.push(u),u},Na=Ki(),ia=Ki(),na=y.__private__.decodeColorString=function(u){var S=u.split(" ");if(2!==S.length||"g"!==S[1]&&"G"!==S[1])5===S.length&&("k"===S[4]||"K"===S[4])&&(S=[(1-S[0])*(1-S[3]),(1-S[1])*(1-S[3]),(1-S[2])*(1-S[3]),"r"]);else{var ie=parseFloat(S[0]);S=[ie,ie,ie,"r"]}for(var xe="#",Ue=0;Ue<3;Ue++)xe+=("0"+Math.floor(255*parseFloat(S[Ue])).toString(16)).slice(-2);return xe},aa=y.__private__.encodeColorString=function(u){var S;"string"==typeof u&&(u={ch1:u});var ie=u.ch1,xe=u.ch2,Ue=u.ch3,nt=u.ch4,yt="draw"===u.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ie&&"#"!==ie.charAt(0)){var zt=new Ls(ie);if(zt.ok)ie=zt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ie&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),"string"==typeof ie&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var Qt=parseInt(ie.substr(1),16);ie=Qt>>16&255,xe=Qt>>8&255,Ue=255&Qt}if(void 0===xe||void 0===nt&&ie===xe&&xe===Ue)S="string"==typeof ie?ie+" "+yt[0]:2===u.precision?lt(ie/255)+" "+yt[0]:W(ie/255)+" "+yt[0];else if(void 0===nt||"object"===(0,It.Z)(nt)){if(nt&&!isNaN(nt.a)&&0===nt.a)return["1.","1.","1.",yt[1]].join(" ");S="string"==typeof ie?[ie,xe,Ue,yt[1]].join(" "):2===u.precision?[lt(ie/255),lt(xe/255),lt(Ue/255),yt[1]].join(" "):[W(ie/255),W(xe/255),W(Ue/255),yt[1]].join(" ")}else S="string"==typeof ie?[ie,xe,Ue,nt,yt[2]].join(" "):2===u.precision?[lt(ie),lt(xe),lt(Ue),lt(nt),yt[2]].join(" "):[W(ie),W(xe),W(Ue),W(nt),yt[2]].join(" ");return S},ga=y.__private__.getFilters=function(){return p},jn=y.__private__.putStream=function(u){var S=(u=u||{}).data||"",ie=u.filters||ga(),xe=u.alreadyAppliedFilters||[],Ue=u.addLength1||!1,nt=S.length,yt=u.objectId,zt=function(kn){return kn};if(null!==k&&void 0===yt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==k&&(zt=Sn.encryptor(yt,0));var Qt={};!0===ie&&(ie=["FlateEncode"]);var mi=u.additionalKeyValues||[],_i=(Qt=void 0!==Jt.API.processDataByFilters?Jt.API.processDataByFilters(S,ie):{data:S,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(0!==Qt.data.length&&(mi.push({key:"Length",value:Qt.data.length}),!0===Ue&&mi.push({key:"Length1",value:nt})),0!=_i.length)if(_i.split("/").length-1==1)mi.push({key:"Filter",value:_i});else{mi.push({key:"Filter",value:"["+_i+"]"});for(var Ai=0;Ai<mi.length;Ai+=1)if("DecodeParms"===mi[Ai].key){for(var Xi=[],en=0;en<Qt.reverseChain.split("/").length-1;en+=1)Xi.push("null");Xi.push(mi[Ai].value),mi[Ai].value="["+Xi.join(" ")+"]"}}fe("<<");for(var cn=0;cn<mi.length;cn++)fe("/"+mi[cn].key+" "+mi[cn].value);fe(">>"),0!==Qt.data.length&&(fe("stream"),fe(zt(Qt.data)),fe("endstream"))},va=y.__private__.putPage=function(u){var S=u.number,ie=u.data,xe=u.objId,Ue=u.contentsObjId;Nn(xe,!0),fe("<</Type /Page"),fe("/Parent "+u.rootDictionaryObjId+" 0 R"),fe("/Resources "+u.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(ze(u.mediaBox.bottomLeftX))+" "+parseFloat(ze(u.mediaBox.bottomLeftY))+" "+ze(u.mediaBox.topRightX)+" "+ze(u.mediaBox.topRightY)+"]"),null!==u.cropBox&&fe("/CropBox ["+ze(u.cropBox.bottomLeftX)+" "+ze(u.cropBox.bottomLeftY)+" "+ze(u.cropBox.topRightX)+" "+ze(u.cropBox.topRightY)+"]"),null!==u.bleedBox&&fe("/BleedBox ["+ze(u.bleedBox.bottomLeftX)+" "+ze(u.bleedBox.bottomLeftY)+" "+ze(u.bleedBox.topRightX)+" "+ze(u.bleedBox.topRightY)+"]"),null!==u.trimBox&&fe("/TrimBox ["+ze(u.trimBox.bottomLeftX)+" "+ze(u.trimBox.bottomLeftY)+" "+ze(u.trimBox.topRightX)+" "+ze(u.trimBox.topRightY)+"]"),null!==u.artBox&&fe("/ArtBox ["+ze(u.artBox.bottomLeftX)+" "+ze(u.artBox.bottomLeftY)+" "+ze(u.artBox.topRightX)+" "+ze(u.artBox.topRightY)+"]"),"number"==typeof u.userUnit&&1!==u.userUnit&&fe("/UserUnit "+u.userUnit),Ni.publish("putPage",{objId:xe,pageContext:ci[S],pageNumber:S,page:ie}),fe("/Contents "+Ue+" 0 R"),fe(">>"),fe("endobj");var nt=ie.join("\n");return Ne===$.ADVANCED&&(nt+="\nQ"),Nn(Ue,!0),jn({data:nt,filters:ga(),objectId:Ue}),fe("endobj"),xe},hr=y.__private__.putPages=function(){var u,S,ie=[];for(u=1;u<=Gi;u++)ci[u].objId=Ki(),ci[u].contentsObjId=Ki();for(u=1;u<=Gi;u++)ie.push(va({number:u,data:Ct[u],objId:ci[u].objId,contentsObjId:ci[u].contentsObjId,mediaBox:ci[u].mediaBox,cropBox:ci[u].cropBox,bleedBox:ci[u].bleedBox,trimBox:ci[u].trimBox,artBox:ci[u].artBox,userUnit:ci[u].userUnit,rootDictionaryObjId:Na,resourceDictionaryObjId:ia}));Nn(Na,!0),fe("<</Type /Pages");var xe="/Kids [";for(S=0;S<Gi;S++)xe+=ie[S]+" 0 R ";fe(xe+"]"),fe("/Count "+Gi),fe(">>"),fe("endobj"),Ni.publish("postPutPages")},jr=function(u){Ni.publish("putFont",{font:u,out:fe,newObject:sn,putStream:jn}),!0!==u.isAlreadyPutted&&(u.objectNumber=sn(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Ua(u.postScriptName)),fe("/Subtype /Type1"),"string"==typeof u.encoding&&fe("/Encoding /"+u.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},zr=function(u){u.objectNumber=sn();var S=[];S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Form"}),S.push({key:"BBox",value:"["+[ze(u.x),ze(u.y),ze(u.x+u.width),ze(u.y+u.height)].join(" ")+"]"}),S.push({key:"Matrix",value:"["+u.matrix.toString()+"]"});var ie=u.pages[1].join("\n");jn({data:ie,additionalKeyValues:S,objectId:u.objectNumber}),fe("endobj")},rl=function(u,S){S||(S=21);var ie=sn(),xe=function(u,S){var ie,xe=[],Ue=1/(S-1);for(ie=0;ie<1;ie+=Ue)xe.push(ie);xe.push(1),0!=u[0].offset&&u.unshift({offset:0,color:u[0].color}),1!=u[u.length-1].offset&&u.push({offset:1,color:u[u.length-1].color});for(var zt="",Qt=0,mi=0;mi<xe.length;mi++){for(ie=xe[mi];ie>u[Qt+1].offset;)Qt++;var _i=u[Qt].offset,Ai=(ie-_i)/(u[Qt+1].offset-_i),Xi=u[Qt].color,en=u[Qt+1].color;zt+=ke(Math.round((1-Ai)*Xi[0]+Ai*en[0]).toString(16))+ke(Math.round((1-Ai)*Xi[1]+Ai*en[1]).toString(16))+ke(Math.round((1-Ai)*Xi[2]+Ai*en[2]).toString(16))}return zt.trim()}(u.colors,S),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+S+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jn({data:xe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),fe("endobj"),u.objectNumber=sn(),fe("<< /ShadingType "+u.type),fe("/ColorSpace /DeviceRGB");var nt="/Coords ["+ze(parseFloat(u.coords[0]))+" "+ze(parseFloat(u.coords[1]))+" ";nt+=2===u.type?ze(parseFloat(u.coords[2]))+" "+ze(parseFloat(u.coords[3])):ze(parseFloat(u.coords[2]))+" "+ze(parseFloat(u.coords[3]))+" "+ze(parseFloat(u.coords[4]))+" "+ze(parseFloat(u.coords[5])),fe(nt+="]"),u.matrix&&fe("/Matrix ["+u.matrix.toString()+"]"),fe("/Function "+ie+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ol=function(u,S){var ie=Ki(),xe=sn();S.push({resourcesOid:ie,objectOid:xe}),u.objectNumber=xe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+u.boundingBox.map(ze).join(" ")+"]"}),Ue.push({key:"XStep",value:ze(u.xStep)}),Ue.push({key:"YStep",value:ze(u.yStep)}),Ue.push({key:"Resources",value:ie+" 0 R"}),u.matrix&&Ue.push({key:"Matrix",value:"["+u.matrix.toString()+"]"}),jn({data:u.stream,additionalKeyValues:Ue,objectId:u.objectNumber}),fe("endobj")},Go=function(u){for(var S in u.objectNumber=sn(),fe("<<"),u)switch(S){case"opacity":fe("/ca "+lt(u[S]));break;case"stroke-opacity":fe("/CA "+lt(u[S]))}fe(">>"),fe("endobj")},Qi=function(u){Nn(u.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var u in fe("/Font <<"),Ei)Ei.hasOwnProperty(u)&&(!1===F||!0===F&&O.hasOwnProperty(u))&&fe("/"+u+" "+Ei[u].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Ti).length>0){for(var u in fe("/Shading <<"),Ti)Ti.hasOwnProperty(u)&&Ti[u]instanceof ua&&Ti[u].objectNumber>=0&&fe("/"+u+" "+Ti[u].objectNumber+" 0 R");Ni.publish("putShadingPatternDict"),fe(">>")}}(),function(u){if(Object.keys(Ti).length>0){for(var S in fe("/Pattern <<"),Ti)Ti.hasOwnProperty(S)&&Ti[S]instanceof y.TilingPattern&&Ti[S].objectNumber>=0&&Ti[S].objectNumber<u&&fe("/"+S+" "+Ti[S].objectNumber+" 0 R");Ni.publish("putTilingPatternDict"),fe(">>")}}(u.objectOid),function(){if(Object.keys(Wi).length>0){var u;for(u in fe("/ExtGState <<"),Wi)Wi.hasOwnProperty(u)&&Wi[u].objectNumber>=0&&fe("/"+u+" "+Wi[u].objectNumber+" 0 R");Ni.publish("putGStateDict"),fe(">>")}}(),function(){for(var u in fe("/XObject <<"),pn)pn.hasOwnProperty(u)&&pn[u].objectNumber>=0&&fe("/"+u+" "+pn[u].objectNumber+" 0 R");Ni.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},uo=function(u){ji[u.fontName]=ji[u.fontName]||{},ji[u.fontName][u.fontStyle]=u.id},h=function(u,S,ie,xe,Ue){var nt={id:"F"+(Object.keys(Ei).length+1).toString(10),postScriptName:u,fontName:S,fontStyle:ie,encoding:xe,isStandardFont:Ue||!1,metadata:{}};return Ni.publish("addFont",{font:nt,instance:this}),Ei[nt.id]=nt,uo(nt),nt.id},v=y.__private__.pdfEscape=y.pdfEscape=function(u,S){return function(u,S){var ie,xe,Ue,nt,yt,zt,Qt,mi,_i;if(Ue=(S=S||{}).sourceEncoding||"Unicode",yt=S.outputEncoding,(S.autoencode||yt)&&Ei[yi].metadata&&Ei[yi].metadata[Ue]&&Ei[yi].metadata[Ue].encoding&&(nt=Ei[yi].metadata[Ue].encoding,!yt&&Ei[yi].encoding&&(yt=Ei[yi].encoding),!yt&&nt.codePages&&(yt=nt.codePages[0]),"string"==typeof yt&&(yt=nt[yt]),yt)){for(Qt=!1,zt=[],ie=0,xe=u.length;ie<xe;ie++)(mi=yt[u.charCodeAt(ie)])?zt.push(String.fromCharCode(mi)):zt.push(u[ie]),zt[ie].charCodeAt(0)>>8&&(Qt=!0);u=zt.join("")}for(ie=u.length;void 0===Qt&&0!==ie;)u.charCodeAt(ie-1)>>8&&(Qt=!0),ie--;if(!Qt)return u;for(zt=S.noBOM?[]:[254,255],ie=0,xe=u.length;ie<xe;ie++){if((_i=(mi=u.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+u+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(_i),zt.push(mi-(_i<<8))}return String.fromCharCode.apply(void 0,zt)}(u,S).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},b=y.__private__.beginPage=function(u){Ct[++Gi]=[],ci[Gi]={objId:0,contentsObjId:0,userUnit:Number(m),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(u[0]),topRightY:Number(u[1])}},Wt(Gi),at(Ct[te])},V=function(u,S){var ie,xe,Ue;switch(r=S||r,"string"==typeof u&&(ie=Z(u.toLowerCase()),Array.isArray(ie)&&(xe=ie[0],Ue=ie[1])),Array.isArray(u)&&(xe=u[0]*qt,Ue=u[1]*qt),isNaN(xe)&&(xe=d[0],Ue=d[1]),(xe>14400||Ue>14400)&&(Pi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ue=Math.min(14400,Ue)),d=[xe,Ue],r.substr(0,1)){case"l":Ue>xe&&(d=[Ue,xe]);break;case"p":xe>Ue&&(d=[Ue,xe])}b(d),fl(es),fe(_a),0!==is&&fe(is+" J"),0!==ns&&fe(ns+" j"),Ni.publish("addPage",{pageNumber:Gi})},tt=function(u){u>0&&u<=Gi&&(Ct.splice(u,1),ci.splice(u,1),Gi--,te>Gi&&(te=Gi),this.setPage(te))},Wt=function(u){u>0&&u<=Gi&&(te=u)},ai=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ct.length-1},di=function(u,S,ie){var xe,Ue=void 0;return ie=ie||{},S=void 0!==S?S:Ei[yi].fontStyle,xe=(u=void 0!==u?u:Ei[yi].fontName).toLowerCase(),void 0!==ji[xe]&&void 0!==ji[xe][S]?Ue=ji[xe][S]:void 0!==ji[u]&&void 0!==ji[u][S]?Ue=ji[u][S]:!1===ie.disableWarning&&Pi.warn("Unable to look up font label for font '"+u+"', '"+S+"'. Refer to getFontList() for available fonts."),Ue||ie.noFallback||null==(Ue=ji.times[S])&&(Ue=ji.times.normal),Ue},Yi=y.__private__.putInfo=function(){var u=sn(),S=function(xe){return xe};for(var ie in null!==k&&(S=Sn.encryptor(u,0)),fe("<<"),fe("/Producer ("+v(S("jsPDF "+Jt.version))+")"),ni)ni.hasOwnProperty(ie)&&ni[ie]&&fe("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+v(S(ni[ie]))+")");fe("/CreationDate ("+v(S(et))+")"),fe(">>"),fe("endobj")},xn=y.__private__.putCatalog=function(u){var S=(u=u||{}).rootDictionaryObjId||Na;switch(sn(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+S+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Ut;"%"===ie.substr(ie.length-1)&&(Ut=parseInt(Ut)/100),"number"==typeof Ut&&fe("/OpenAction [3 0 R /XYZ null null "+lt(Ut)+"]")}switch(vi||(vi="continuous"),vi){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}li&&fe("/PageMode /"+li),Ni.publish("putCatalog"),fe(">>"),fe("endobj")},ra=y.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Re+1)),fe("/Root "+Re+" 0 R"),fe("/Info "+(Re-1)+" 0 R"),null!==k&&fe("/Encrypt "+Sn.oid+" 0 R"),fe("/ID [ <"+Je+"> <"+Je+"> ]"),fe(">>")},Wa=y.__private__.putHeader=function(){fe("%PDF-"+X),fe("%\xba\xdf\xac\xe0")},Xo=y.__private__.putXRef=function(){var u="0000000000";fe("xref"),fe("0 "+(Re+1)),fe("0000000000 65535 f ");for(var S=1;S<=Re;S++)fe("function"==typeof He[S]?(u+He[S]()).slice(-10)+" 00000 n ":void 0!==He[S]?(u+He[S]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ga=y.__private__.buildDocument=function(){Re=0,Qe=0,Ge=[],He=[],At=[],Na=Ki(),ia=Ki(),at(Ge),Ni.publish("buildDocument"),Wa(),hr(),function(){Ni.publish("putAdditionalObjects");for(var u=0;u<At.length;u++){var S=At[u];Nn(S.objId,!0),fe(S.content),fe("endobj")}Ni.publish("postPutAdditionalObjects")}(),function(){var u=[];(function(){for(var u in Ei)Ei.hasOwnProperty(u)&&(!1===F||!0===F&&O.hasOwnProperty(u))&&jr(Ei[u])})(),function(){var u;for(u in Wi)Wi.hasOwnProperty(u)&&Go(Wi[u])}(),function(){for(var u in pn)pn.hasOwnProperty(u)&&zr(pn[u])}(),function(u){var S;for(S in Ti)Ti.hasOwnProperty(S)&&(Ti[S]instanceof ua?rl(Ti[S]):Ti[S]instanceof qa&&ol(Ti[S],u))}(u),Ni.publish("putResources"),u.forEach(Qi),Qi({resourcesOid:ia,objectOid:Number.MAX_SAFE_INTEGER}),Ni.publish("postPutResources")}(),null!==k&&(Sn.oid=sn(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Sn.v),fe("/R "+Sn.r),fe("/U <"+Sn.toHexString(Sn.U)+">"),fe("/O <"+Sn.toHexString(Sn.O)+">"),fe("/P "+Sn.P),fe(">>"),fe("endobj")),Yi(),xn();var u=Qe;return Xo(),ra(),fe("startxref"),fe(""+u),fe("%%EOF"),at(Ct[te]),Ge.join("\n")},po=y.__private__.getBlob=function(u){return new Blob([Ht(u)],{type:"application/pdf"})},fo=y.output=y.__private__.output=((u=function(u,S){switch("string"==typeof(S=S||{})?S={filename:S}:S.filename=S.filename||"generated.pdf",u){case void 0:return Ga();case"save":y.save(S.filename);break;case"arraybuffer":return Ht(Ga());case"blob":return po(Ga());case"bloburi":case"bloburl":if(void 0!==$t.URL&&"function"==typeof $t.URL.createObjectURL)return $t.URL&&$t.URL.createObjectURL(po(Ga()))||void 0;Pi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",xe=Ga();try{ie=Gn(xe)}catch{ie=Gn(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+S.filename+";base64,"+ie;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call($t)){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';S.pdfObjectUrl&&(Ue=S.pdfObjectUrl,nt="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(S)+");<\/script></body></html>",zt=$t.open();return null!==zt&&zt.document.write(yt),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call($t)){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(S.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+S.filename+'" width="500px" height="400px" /></body></html>',mi=$t.open();if(null!==mi){mi.document.write(Qt);var _i=this;mi.document.documentElement.querySelector("#pdfViewer").onload=function(){mi.document.title=S.filename,mi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_i.output("bloburl"))}}return mi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call($t))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ai='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",S)+'"></iframe></body></html>',Xi=$t.open();if(null!==Xi&&(Xi.document.write(Ai),Xi.document.title=S.filename),Xi||typeof safari>"u")return Xi;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",S);default:return null}}).foo=function(){try{return u.apply(this,arguments)}catch(xe){var S=xe.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var ie="Error in function "+S.split("\n")[0].split("<")[0]+": "+xe.message;if(!$t.console)throw new Error(ie);$t.console.error(ie,xe),$t.alert&&alert(ie)}},u.foo.bar=u,u.foo),dl=function(u){return!0===Array.isArray(Ha)&&Ha.indexOf(u)>-1};switch(s){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=1==dl("px_scaling")?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if("number"!=typeof s)throw new Error("Invalid unit: "+s);qt=s}var Sn=null;Ft(),Ve();var hl=y.__private__.getPageInfo=y.getPageInfo=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ci[u].objId,pageNumber:u,pageContext:ci[u]}},ui=y.__private__.getPageInfoByObjId=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var S in ci)if(ci[S].objId===u)break;return hl(S)},Ac=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:ci[te].objId,pageNumber:te,pageContext:ci[te]}};y.addPage=function(){return V.apply(this,arguments),this},y.setPage=function(){return Wt.apply(this,arguments),at.call(this,Ct[te]),this},y.insertPage=function(u){return this.addPage(),this.movePage(te,u),this},y.movePage=function(u,S){var ie,xe;if(u>S){ie=Ct[u],xe=ci[u];for(var Ue=u;Ue>S;Ue--)Ct[Ue]=Ct[Ue-1],ci[Ue]=ci[Ue-1];Ct[S]=ie,ci[S]=xe,this.setPage(S)}else if(u<S){ie=Ct[u],xe=ci[u];for(var nt=u;nt<S;nt++)Ct[nt]=Ct[nt+1],ci[nt]=ci[nt+1];Ct[S]=ie,ci[S]=xe,this.setPage(S)}return this},y.deletePage=function(){return tt.apply(this,arguments),this},y.__private__.text=y.text=function(u,S,ie,xe,Ue){var nt,yt,zt,Qt,mi,_i,Ai,Xi,en,cn=(xe=xe||{}).scope||this;if("number"==typeof u&&"number"==typeof S&&("string"==typeof ie||Array.isArray(ie))){var kn=ie;ie=S,S=u,u=kn}if(arguments[3]instanceof ii?(ve("The transform parameter of text() with a Matrix value"),en=Ue):(zt=arguments[4],Qt=arguments[5],"object"===(0,It.Z)(Ai=arguments[3])&&null!==Ai||("string"==typeof zt&&(Qt=zt,zt=null),"string"==typeof Ai&&(Qt=Ai,Ai=null),"number"==typeof Ai&&(zt=Ai,Ai=null),xe={flags:Ai,angle:zt,align:Qt})),isNaN(S)||isNaN(ie)||null==u)throw new Error("Invalid arguments passed to jsPDF.text");if(0===u.length)return cn;var ba,bn="",Zn="number"==typeof xe.lineHeightFactor?xe.lineHeightFactor:Hr,Qa=cn.internal.scaleFactor;function yl(Zi){return Zi=Zi.split("\t").join(Array(xe.TabLen||9).join(" ")),v(Zi,Ai)}function ls(Zi){for(var zi,ln=Zi.concat(),fn=[],er=ln.length;er--;)"string"==typeof(zi=ln.shift())?fn.push(zi):Array.isArray(Zi)&&(1===zi.length||void 0===zi[1]&&void 0===zi[2])?fn.push(zi[0]):fn.push([zi[0],zi[1],zi[2]]);return fn}function cs(Zi,zi){var ln;if("string"==typeof Zi)ln=zi(Zi)[0];else if(Array.isArray(Zi)){for(var fn,er,Dr=Zi.concat(),To=[],Dl=Dr.length;Dl--;)"string"==typeof(fn=Dr.shift())?To.push(zi(fn)[0]):Array.isArray(fn)&&"string"==typeof fn[0]&&(er=zi(fn[0],fn[1],fn[2]),To.push([er[0],er[1],er[2]]));ln=To}return ln}var yo=!1,ds=!0;if("string"==typeof u)yo=!0;else if(Array.isArray(u)){var hs=u.concat();yt=[];for(var wo,In=hs.length;In--;)("string"!=typeof(wo=hs.shift())||Array.isArray(wo)&&"string"!=typeof wo[0])&&(ds=!1);yo=ds}if(!1===yo)throw new Error('Type of text must be string or Array. "'+u+'" is not recognized.');"string"==typeof u&&(u=u.match(/[\r?\n]/)?u.split(/\r\n|\r|\n/g):[u]);var Do=Mt/cn.internal.scaleFactor,xo=Do*(Zn-1);switch(xe.baseline){case"bottom":ie-=xo;break;case"top":ie+=Do-xo;break;case"hanging":ie+=Do-2*xo;break;case"middle":ie+=Do/2-xo}if((_i=xe.maxWidth||0)>0&&("string"==typeof u?u=cn.splitTextToSize(u,_i):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(Zi,zi){return Zi.concat(cn.splitTextToSize(zi,_i))},[]))),Ni.publish("preProcessText",nt={text:u,x:S,y:ie,options:xe,mutex:{pdfEscape:v,activeFontKey:yi,fonts:Ei,activeFontSize:Mt}}),u=nt.text,zt=(xe=nt.options).angle,en instanceof ii||!zt||"number"!=typeof zt)zt&&zt instanceof ii&&(en=zt);else{zt*=Math.PI/180,0===xe.rotationDirection&&(zt=-zt),Ne===$.ADVANCED&&(zt=-zt);var Co=Math.cos(zt),us=Math.sin(zt);en=new ii(Co,us,-us,Co,0,0)}Ne!==$.ADVANCED||en||(en=ta),void 0!==(mi=xe.charSpace||vo)&&(bn+=ze(H(mi))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Xi=xe.horizontalScale)&&(bn+=ze(100*Xi)+" Tz\n");var Ln=-1,Ec=void 0!==xe.renderingMode?xe.renderingMode:xe.stroke,ps=cn.internal.getCurrentPageInfo().pageContext;switch(Ec){case 0:case!1:case"fill":Ln=0;break;case 1:case!0:case"stroke":Ln=1;break;case 2:case"fillThenStroke":Ln=2;break;case 3:case"invisible":Ln=3;break;case 4:case"fillAndAddForClipping":Ln=4;break;case 5:case"strokeAndAddPathForClipping":Ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ln=6;break;case 7:case"addToPathForClipping":Ln=7}-1!==Ln?bn+=Ln+" Tr\n":-1!==(void 0!==ps.usedRenderingMode?ps.usedRenderingMode:-1)&&(bn+="0 Tr\n"),-1!==Ln&&(ps.usedRenderingMode=Ln),Qt=xe.align||"left";var ya,fs=Mt*Zn,Rc=cn.internal.pageSize.getWidth(),Oc=Ei[yi];mi=xe.charSpace||vo,_i=xe.maxWidth||0,Ai=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var _r=[];if("[object Array]"===Object.prototype.toString.call(u)){var oa;yt=ls(u),"left"!==Qt&&(ya=yt.map(function(Zi){return cn.getStringUnitWidth(Zi,{font:Oc,charSpace:mi,fontSize:Mt,doKerning:!1})*Mt/Qa}));var wa,br=0;if("right"===Qt){S-=ya[0],u=[],In=yt.length;for(var Pa=0;Pa<In;Pa++)0===Pa?(wa=Ja(S),oa=mr(ie)):(wa=H(br-ya[Pa]),oa=-fs),u.push([yt[Pa],wa,oa]),br=ya[Pa]}else if("center"===Qt){S-=ya[0]/2,u=[],In=yt.length;for(var Xa=0;Xa<In;Xa++)0===Xa?(wa=Ja(S),oa=mr(ie)):(wa=H((br-ya[Xa])/2),oa=-fs),u.push([yt[Xa],wa,oa]),br=ya[Xa]}else if("left"===Qt){u=[],In=yt.length;for(var Ao=0;Ao<In;Ao++)u.push(yt[Ao])}else{if("justify"!==Qt)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');u=[],In=yt.length,_i=0!==_i?_i:Rc;for(var Da=0;Da<In;Da++)oa=0===Da?mr(ie):-fs,wa=0===Da?Ja(S):0,_r.push(Da<In-1?ze(H((_i-ya[Da])/(yt[Da].split(" ").length-1))):0),u.push([yt[Da],wa,oa])}}!0===("boolean"==typeof xe.R2L?xe.R2L:Gt)&&(u=cs(u,function(Zi,zi,ln){return[Zi.split("").reverse().join(""),zi,ln]})),Ni.publish("postProcessText",nt={text:u,x:S,y:ie,options:xe,mutex:{pdfEscape:v,activeFontKey:yi,fonts:Ei,activeFontSize:Mt}}),u=nt.text,ba=nt.mutex.isHex||!1;var ms=Ei[yi].encoding;"WinAnsiEncoding"!==ms&&"StandardEncoding"!==ms||(u=cs(u,function(Zi,zi,ln){return[yl(Zi),zi,ln]})),yt=ls(u),u=[];for(var yr,xa,$a,Qr=Array.isArray(yt[0])?1:0,wr="",gs=function(Zi,zi,ln){var fn="";return ln instanceof ii?(ln="number"==typeof xe.angle?qn(ln,new ii(1,0,0,1,Zi,zi)):qn(new ii(1,0,0,1,Zi,zi),ln),Ne===$.ADVANCED&&(ln=qn(new ii(1,0,0,-1,0,0),ln)),fn=ln.join(" ")+" Tm\n"):fn=ze(Zi)+" "+ze(zi)+" Td\n",fn},sa=0;sa<yt.length;sa++){switch(wr="",Qr){case 1:$a=(ba?"<":"(")+yt[sa][0]+(ba?">":")"),yr=parseFloat(yt[sa][1]),xa=parseFloat(yt[sa][2]);break;case 0:$a=(ba?"<":"(")+yt[sa]+(ba?">":")"),yr=Ja(S),xa=mr(ie)}void 0!==_r&&void 0!==_r[sa]&&(wr=_r[sa]+" Tw\n"),0===sa?u.push(wr+gs(yr,xa,en)+$a):0===Qr?u.push(wr+$a):1===Qr&&u.push(wr+gs(yr,xa,en)+$a)}u=u.join(0===Qr?" Tj\nT* ":" Tj\n"),u+=" Tj\n";var Ka="BT\n/";return Ka+=yi+" "+Mt+" Tf\n",Ka+=ze(Mt*Zn)+" TL\n",Ka+=Wr+"\n",Ka+=bn,Ka+=u,fe(Ka+="ET"),O[yi]=!0,cn};var Sc=y.__private__.clip=y.clip=function(u){return fe("evenodd"===u?"W*":"W"),this};y.clipEvenOdd=function(){return Sc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return fe("n"),this};var Ma=y.__private__.isValidStyle=function(u){var S=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(u)&&(S=!0),S};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(u){return Ma(u)&&(D=u),this};var ul=y.__private__.getStyle=y.getStyle=function(u){var S=D;switch(u){case"D":case"S":S="S";break;case"F":S="f";break;case"FD":case"DF":S="B";break;case"f":case"f*":case"B":case"B*":S=u}return S},pl=y.close=function(){return fe("h"),this};y.stroke=function(){return fe("S"),this},y.fill=function(u){return mo("f",u),this},y.fillEvenOdd=function(u){return mo("f*",u),this},y.fillStroke=function(u){return mo("B",u),this},y.fillStrokeEvenOdd=function(u){return mo("B*",u),this};var mo=function(u,S){"object"===(0,It.Z)(S)?Tc(S,u):fe(u)},$o=function(u){null===u||Ne===$.ADVANCED&&void 0===u||(u=ul(u),fe(u))};function kc(u,S,ie,xe,Ue){var nt=new qa(S||this.boundingBox,ie||this.xStep,xe||this.yStep,this.gState,Ue||this.matrix);nt.stream=this.stream;var yt=u+"$$"+this.cloneIndex+++"$$";return An(yt,nt),nt}var Tc=function(u,S){var ie=Va[u.key],xe=Ti[ie];if(xe instanceof ua)fe("q"),fe(Nc(S)),xe.gState&&y.setGState(xe.gState),fe(u.matrix.toString()+" cm"),fe("/"+ie+" sh"),fe("Q");else if(xe instanceof qa){var Ue=new ii(1,0,0,-1,0,vr());u.matrix&&(Ue=Ue.multiply(u.matrix||ta),ie=kc.call(xe,u.key,u.boundingBox,u.xStep,u.yStep,Ue).id),fe("q"),fe("/Pattern cs"),fe("/"+ie+" scn"),xe.gState&&y.setGState(xe.gState),fe(S),fe("Q")}},Nc=function(u){switch(u){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=y.moveTo=function(u,S){return fe(ze(H(u))+" "+ze(be(S))+" m"),this},Vr=y.lineTo=function(u,S){return fe(ze(H(u))+" "+ze(be(S))+" l"),this},fr=y.curveTo=function(u,S,ie,xe,Ue,nt){return fe([ze(H(u)),ze(be(S)),ze(H(ie)),ze(be(xe)),ze(H(Ue)),ze(be(nt)),"c"].join(" ")),this};y.__private__.line=y.line=function(u,S,ie,xe,Ue){if(isNaN(u)||isNaN(S)||isNaN(ie)||isNaN(xe)||!Ma(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return Ne===$.COMPAT?this.lines([[ie-u,xe-S]],u,S,[1,1],Ue||"S"):this.lines([[ie-u,xe-S]],u,S,[1,1]).stroke()},y.__private__.lines=y.lines=function(u,S,ie,xe,Ue,nt){var yt,zt,Qt,mi,_i,kn,bn,ba;if("number"==typeof u&&(ba=ie,ie=S,S=u,u=ba),xe=xe||[1,1],nt=nt||!1,isNaN(S)||isNaN(ie)||!Array.isArray(u)||!Array.isArray(xe)||!Ma(Ue)||"boolean"!=typeof nt)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(S,ie),yt=xe[0],zt=xe[1],mi=u.length,kn=S,bn=ie,Qt=0;Qt<mi;Qt++)2===(_i=u[Qt]).length?Vr(kn=_i[0]*yt+kn,bn=_i[1]*zt+bn):fr(_i[0]*yt+kn,_i[1]*zt+bn,_i[2]*yt+kn,_i[3]*zt+bn,kn=_i[4]*yt+kn,bn=_i[5]*zt+bn);return nt&&pl(),$o(Ue),this},y.path=function(u){for(var S=0;S<u.length;S++){var ie=u[S],xe=ie.c;switch(ie.op){case"m":Ko(xe[0],xe[1]);break;case"l":Vr(xe[0],xe[1]);break;case"c":fr.apply(this,xe);break;case"h":pl()}}return this},y.__private__.rect=y.rect=function(u,S,ie,xe,Ue){if(isNaN(u)||isNaN(S)||isNaN(ie)||isNaN(xe)||!Ma(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return Ne===$.COMPAT&&(xe=-xe),fe([ze(H(u)),ze(be(S)),ze(H(ie)),ze(H(xe)),"re"].join(" ")),$o(Ue),this},y.__private__.triangle=y.triangle=function(u,S,ie,xe,Ue,nt,yt){if(isNaN(u)||isNaN(S)||isNaN(ie)||isNaN(xe)||isNaN(Ue)||isNaN(nt)||!Ma(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-u,xe-S],[Ue-ie,nt-xe],[u-Ue,S-nt]],u,S,[1,1],yt,!0),this},y.__private__.roundedRect=y.roundedRect=function(u,S,ie,xe,Ue,nt,yt){if(isNaN(u)||isNaN(S)||isNaN(ie)||isNaN(xe)||isNaN(Ue)||isNaN(nt)||!Ma(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*ie),nt=Math.min(nt,.5*xe),this.lines([[ie-2*Ue,0],[Ue*zt,0,Ue,nt-nt*zt,Ue,nt],[0,xe-2*nt],[0,nt*zt,-Ue*zt,nt,-Ue,nt],[2*Ue-ie,0],[-Ue*zt,0,-Ue,-nt*zt,-Ue,-nt],[0,2*nt-xe],[0,-nt*zt,Ue*zt,-nt,Ue,-nt]],u+Ue,S,[1,1],yt,!0),this},y.__private__.ellipse=y.ellipse=function(u,S,ie,xe,Ue){if(isNaN(u)||isNaN(S)||isNaN(ie)||isNaN(xe)||!Ma(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*ie,yt=4/3*(Math.SQRT2-1)*xe;return Ko(u+ie,S),fr(u+ie,S-yt,u+nt,S-xe,u,S-xe),fr(u-nt,S-xe,u-ie,S-yt,u-ie,S),fr(u-ie,S+yt,u-nt,S+xe,u,S+xe),fr(u+nt,S+xe,u+ie,S+yt,u+ie,S),$o(Ue),this},y.__private__.circle=y.circle=function(u,S,ie,xe){if(isNaN(u)||isNaN(S)||isNaN(ie)||!Ma(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(u,S,ie,ie,xe)},y.setFont=function(u,S,ie){return ie&&(S=vt(S,ie)),yi=di(u,S,{disableWarning:!1}),this};var Mc=y.__private__.getFont=y.getFont=function(){return Ei[di.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var u,S,ie={};for(u in ji)if(ji.hasOwnProperty(u))for(S in ie[u]=[],ji[u])ji[u].hasOwnProperty(S)&&ie[u].push(S);return ie},y.addFont=function(u,S,ie,xe,Ue){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==nt.indexOf(arguments[3])?Ue=arguments[3]:arguments[3]&&-1==nt.indexOf(arguments[3])&&(ie=vt(ie,xe)),h.call(this,u,S,ie,Ue=Ue||"Identity-H")};var Hr,es=o.lineWidth||.200025,go=y.__private__.getLineWidth=y.getLineWidth=function(){return es},fl=y.__private__.setLineWidth=y.setLineWidth=function(u){return es=u,fe(ze(H(u))+" w"),this};y.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(u,S){if(u=u||[],S=S||0,isNaN(S)||!Array.isArray(u))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return u=u.map(function(ie){return ze(H(ie))}).join(" "),S=ze(H(S)),fe("["+u+"] "+S+" d"),this};var ml=y.__private__.getLineHeight=y.getLineHeight=function(){return Mt*Hr};y.__private__.getLineHeight=y.getLineHeight=function(){return Mt*Hr};var gl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(u){return"number"==typeof(u=u||1.15)&&(Hr=u),this},vl=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Hr};gl(o.lineHeight);var Ja=y.__private__.getHorizontalCoordinate=function(u){return H(u)},mr=y.__private__.getVerticalCoordinate=function(u){return Ne===$.ADVANCED?u:ci[te].mediaBox.topRightY-ci[te].mediaBox.bottomLeftY-H(u)},Pc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(u){return ze(Ja(u))},gr=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(u){return ze(mr(u))},_a=o.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return na(_a)},y.__private__.setStrokeColor=y.setDrawColor=function(u,S,ie,xe){return _a=aa({ch1:u,ch2:S,ch3:ie,ch4:xe,pdfColorType:"draw",precision:2}),fe(_a),this};var ts=o.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return na(ts)},y.__private__.setFillColor=y.setFillColor=function(u,S,ie,xe){return ts=aa({ch1:u,ch2:S,ch3:ie,ch4:xe,pdfColorType:"fill",precision:2}),fe(ts),this};var Wr=o.textColor||"0 g",Ic=y.__private__.getTextColor=y.getTextColor=function(){return na(Wr)};y.__private__.setTextColor=y.setTextColor=function(u,S,ie,xe){return Wr=aa({ch1:u,ch2:S,ch3:ie,ch4:xe,pdfColorType:"text",precision:3}),this};var vo=o.charSpace,Lc=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(vo||0)};y.__private__.setCharSpace=y.setCharSpace=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=u,this};var is=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(u){var S=y.CapJoinStyles[u];if(void 0===S)throw new Error("Line cap style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return is=S,fe(S+" J"),this};var ns=0;y.__private__.setLineJoin=y.setLineJoin=function(u){var S=y.CapJoinStyles[u];if(void 0===S)throw new Error("Line join style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ns=S,fe(S+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(u){if(u=u||0,isNaN(u))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(ze(H(u))+" M"),this},y.GState=Or,y.setGState=function(u){(u="string"==typeof u?Wi[Un[u]]:_l(null,u)).equals(ma)||(fe("/"+u.id+" gs"),ma=u)};var _l=function(u,S){if(!u||!Un[u]){var ie=!1;for(var xe in Wi)if(Wi.hasOwnProperty(xe)&&Wi[xe].equals(S)){ie=!0;break}if(ie)S=Wi[xe];else{var Ue="GS"+(Object.keys(Wi).length+1).toString(10);Wi[Ue]=S,S.id=Ue}return u&&(Un[u]=S.id),Ni.publish("addGState",S),S}};y.addGState=function(u,S){return _l(u,S),this},y.saveGraphicsState=function(){return fe("q"),$n.push({key:yi,size:Mt,color:Wr}),this},y.restoreGraphicsState=function(){fe("Q");var u=$n.pop();return yi=u.key,Mt=u.size,Wr=u.color,ma=null,this},y.setCurrentTransformationMatrix=function(u){return fe(u.toString()+" cm"),this},y.comment=function(u){return fe("#"+u),this};var _o=function(u,S){var ie=u||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(nt){isNaN(nt)||(ie=parseFloat(nt))}});var xe=S||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(nt){isNaN(nt)||(xe=parseFloat(nt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(nt){Ue=nt.toString()}}),this},as=function(u,S,ie,xe){_o.call(this,u,S),this.type="rect";var Ue=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(yt){isNaN(yt)||(Ue=parseFloat(yt))}});var nt=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(yt){isNaN(yt)||(nt=parseFloat(yt))}}),this},rs=function(){this.page=Gi,this.currentPage=te,this.pages=Ct.slice(0),this.pagesContext=ci.slice(0),this.x=_n,this.y=Ci,this.matrix=Bn,this.width=Gr(te),this.height=vr(te),this.outputDestination=Zt,this.id="",this.objectNumber=-1};rs.prototype.restore=function(){Gi=this.page,ci=this.pagesContext,Ct=this.pages,_n=this.x,Ci=this.y,Bn=this.matrix,os(te=this.currentPage,this.width),ss(te,this.height),Zt=this.outputDestination};var bl=function(u,S,ie,xe,Ue){ea.push(new rs),Gi=te=0,Ct=[],_n=u,Ci=S,Bn=Ue,b([ie,xe])};for(var bo in y.beginFormObject=function(u,S,ie,xe,Ue){return bl(u,S,ie,xe,Ue),this},y.endFormObject=function(u){return function(u){if(Kn[u])ea.pop().restore();else{var S=new rs,ie="Xo"+(Object.keys(pn).length+1).toString(10);S.id=ie,Kn[u]=ie,pn[ie]=S,Ni.publish("addFormObject",S),ea.pop().restore()}}(u),this},y.doFormObject=function(u,S){var ie=pn[Kn[u]];return fe("q"),fe(S.toString()+" cm"),fe("/"+ie.id+" Do"),fe("Q"),this},y.getFormObject=function(u){var S=pn[Kn[u]];return{x:S.x,y:S.y,width:S.width,height:S.height,matrix:S.matrix}},y.save=function(u,S){return u=u||"generated.pdf",(S=S||{}).returnPromise=S.returnPromise||!1,!1===S.returnPromise?(Oa(po(Ga()),u),"function"==typeof Oa.unload&&$t.setTimeout&&setTimeout(Oa.unload,911),this):new Promise(function(ie,xe){try{var Ue=Oa(po(Ga()),u);"function"==typeof Oa.unload&&$t.setTimeout&&setTimeout(Oa.unload,911),ie(Ue)}catch(nt){xe(nt.message)}})},Jt.API)Jt.API.hasOwnProperty(bo)&&("events"===bo&&Jt.API.events.length?function(u,S){var xe,Ue;for(Ue=S.length-1;-1!==Ue;Ue--)u.subscribe.apply(u,[S[Ue][0]].concat("function"==typeof(xe=S[Ue][1])?[xe]:xe))}(Ni,Jt.API.events):y[bo]=Jt.API[bo]);var Gr=y.getPageWidth=function(u){return(ci[u=u||te].mediaBox.topRightX-ci[u].mediaBox.bottomLeftX)/qt},os=y.setPageWidth=function(u,S){ci[u].mediaBox.topRightX=S*qt+ci[u].mediaBox.bottomLeftX},vr=y.getPageHeight=function(u){return(ci[u=u||te].mediaBox.topRightY-ci[u].mediaBox.bottomLeftY)/qt},ss=y.setPageHeight=function(u,S){ci[u].mediaBox.topRightY=S*qt+ci[u].mediaBox.bottomLeftY};return y.internal={pdfEscape:v,getStyle:ul,getFont:Mc,getFontSize:Et,getCharSpace:Lc,getTextColor:Ic,getLineHeight:ml,getLineHeightFactor:vl,getLineWidth:go,write:hi,getHorizontalCoordinate:Ja,getVerticalCoordinate:mr,getCoordinateString:Pc,getVerticalCoordinateString:gr,collections:{},newObject:sn,newAdditionalObject:dr,newObjectDeferred:Ki,newObjectDeferredBegin:Nn,getFilters:ga,putStream:jn,events:Ni,scaleFactor:qt,pageSize:{getWidth:function(){return Gr(te)},setWidth:function(u){os(te,u)},getHeight:function(){return vr(te)},setHeight:function(u){ss(te,u)}},encryptionOptions:k,encryption:Sn,getEncryptor:function(u){return null!==k?Sn.encryptor(u,0):function(S){return S}},output:fo,getNumberOfPages:ai,pages:Ct,out:fe,f2:lt,f3:W,getPageInfo:hl,getPageInfoByObjId:ui,getCurrentPageInfo:Ac,getPDFVersion:z,Point:_o,Rectangle:as,Matrix:ii,hasHotfix:dl},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Gr(te)},set:function(u){os(te,u)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return vr(te)},set:function(u){ss(te,u)},enumerable:!0,configurable:!0}),function(u){for(var S=0,ie=Dt.length;S<ie;S++){var xe=h.call(this,u[S][0],u[S][1],u[S][2],Dt[S][3],!0);!1===F&&(O[xe]=!0);var Ue=u[S][0].split("-");uo({id:xe,fontName:Ue[0],fontStyle:Ue[1]||""})}Ni.publish("addFonts",{fonts:Ei,dictionary:ji})}.call(y,Dt),yi="F1",V(d,r),Ni.publish("initialized"),y}rr.prototype.lsbFirstWord=function(o){return String.fromCharCode(o>>0&255,o>>8&255,o>>16&255,o>>24&255)},rr.prototype.toHexString=function(o){return o.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rr.prototype.hexToBytes=function(o){for(var i=[],r=0;r<o.length;r+=2)i.push(String.fromCharCode(parseInt(o.substr(r,2),16)));return i.join("")},rr.prototype.processOwnerPassword=function(o,i){return Ba(Rr(i).substr(0,5),o)},rr.prototype.encryptor=function(o,i){var r=Rr(this.encryptionKey+String.fromCharCode(255&o,o>>8&255,o>>16&255,255&i,i>>8&255)).substr(0,10);return function(s){return Ba(r,s)}},Or.prototype.equals=function(o){var i,r="id,objectNumber,equals";if(!o||(0,It.Z)(o)!==(0,It.Z)(this))return!1;var s=0;for(i in this)if(!(r.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!o.hasOwnProperty(i)||this[i]!==o[i])return!1;s++}for(i in o)o.hasOwnProperty(i)&&r.indexOf(i)<0&&s--;return 0===s},Jt.API={events:[]},Jt.version="2.5.1";var Vi=Jt.API,jo=1,ja=function(o){return o.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},or=function(o){return o.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},si=function(o){return o.toFixed(2)},pa=function(o){return o.toFixed(5)};Vi.__acroform__={};var un=function(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o},Bs=function(o){return o*jo},Jn=function(o){var i=new Xl,r=Vt.internal.getHeight(o)||0,s=Vt.internal.getWidth(o)||0;return i.BBox=[0,0,Number(si(s)),Number(si(r))],i},Wl=Vi.__acroform__.setBit=function(o,i){if(o=o||0,i=i||0,isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return o|1<<i},Gl=Vi.__acroform__.clearBit=function(o,i){if(o=o||0,i=i||0,isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return o&~(1<<i)},ao=Vi.__acroform__.getBit=function(o,i){if(isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return o&1<<i?1:0},Ji=Vi.__acroform__.getBitForPdf=function(o,i){if(isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ao(o,i-1)},Hi=Vi.__acroform__.setBitForPdf=function(o,i){if(isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wl(o,i-1)},$i=Vi.__acroform__.clearBitForPdf=function(o,i){if(isNaN(o)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gl(o,i-1)},Us=Vi.__acroform__.calculateCoordinates=function(o,i){var r=i.internal.getHorizontalCoordinate,s=i.internal.getVerticalCoordinate,d=o[0],c=o[1],p=o[2],m=o[3],g={};return g.lowerLeft_X=r(d)||0,g.lowerLeft_Y=s(c+m)||0,g.upperRight_X=r(d+p)||0,g.upperRight_Y=s(c)||0,[Number(si(g.lowerLeft_X)),Number(si(g.lowerLeft_Y)),Number(si(g.upperRight_X)),Number(si(g.upperRight_Y))]},Jl=function(o){if(o.appearanceStreamContent)return o.appearanceStreamContent;if(o.V||o.DV){var i=[],s=Zo(o,o._V||o.DV),d=o.scope.internal.getFont(o.fontName,o.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(o.scope.__private__.encodeColorString(o.color)),i.push("/"+d+" "+si(s.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(s.text),i.push("ET"),i.push("Q"),i.push("EMC");var c=Jn(o);return c.scope=o.scope,c.stream=i.join("\n"),c}},Zo=function(o,i){var r=0===o.fontSize?o.maxFontSize:o.fontSize,s={text:"",fontSize:""},d=(i=")"==(i="("==i.substr(0,1)?i.substr(1):i).substr(i.length-1)?i.substr(0,i.length-1):i).split(" ");d=d.map(o.multiline?function(W){return W.split("\n")}:function(W){return[W]});var c=r,p=Vt.internal.getHeight(o)||0;p=p<0?-p:p;var W,m=Vt.internal.getWidth(o)||0;m=m<0?-m:m,c++;e:for(;c>0;){i="",c--;var D,k,F=sr("3",o,c).height,O=o.multiline?p-c:(p-F)/2,y=O+=2,X=0,z=0,re=0;if(c<=0){i="(...) Tj\n",i+="% Width of Text: "+sr(i,o,c=12).width+", FieldWidth:"+m+"\n";break}for(var Z="",$=0,Ne=0;Ne<d.length;Ne++)if(d.hasOwnProperty(Ne)){var qe=!1;if(1!==d[Ne].length&&re!==d[Ne].length-1){if((F+2)*($+2)+2>p)continue e;Z+=d[Ne][re],qe=!0,z=Ne,Ne--}else{Z=" "==(Z+=d[Ne][re]+" ").substr(Z.length-1)?Z.substr(0,Z.length-1):Z;var $e=parseInt(Ne),vt=(W=$e)+1<d.length&&sr(Z+" "+d[W+1][0],o,c).width<=m-4,ze=Ne>=d.length-1;if(vt&&!ze){Z+=" ",re=0;continue}if(vt||ze){if(ze)z=$e;else if(o.multiline&&(F+2)*($+2)+2>p)continue e}else{if(!o.multiline||(F+2)*($+2)+2>p)continue e;z=$e}}for(var ve="",ct=X;ct<=z;ct++){var lt=d[ct];if(o.multiline){if(ct===z){ve+=lt[re]+" ",re=(re+1)%lt.length;continue}if(ct===X){ve+=lt[lt.length-1]+" ";continue}}ve+=lt[0]+" "}switch(ve=" "==ve.substr(ve.length-1)?ve.substr(0,ve.length-1):ve,k=sr(ve,o,c).width,o.textAlign){case"right":D=m-k-2;break;case"center":D=(m-k)/2;break;default:D=2}i+=si(D)+" "+si(y)+" Td\n",i+="("+ja(ve)+") Tj\n",i+=-si(D)+" 0 Td\n",y=-(c+2),k=0,X=qe?z:z+1,$++,Z=""}break}return s.text=i,s.fontSize=c,s},sr=function(o,i,r){var s=i.scope.internal.getFont(i.fontName,i.fontStyle),d=i.scope.getStringUnitWidth(o,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:i.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:d}},md={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gd=function(o,i){var r={type:"reference",object:o};void 0===i.internal.getPageInfo(o.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})&&i.internal.getPageInfo(o.page).pageContext.annotations.push(r)},Ql=Vi.__acroform__.arrayToPdfArray=function(o,i,r){var s=function(p){return p};if(Array.isArray(o)){for(var d="[",c=0;c<o.length;c++)switch(0!==c&&(d+=" "),(0,It.Z)(o[c])){case"boolean":case"number":case"object":d+=o[c].toString();break;case"string":"/"!==o[c].substr(0,1)?(void 0!==i&&r&&(s=r.internal.getEncryptor(i)),d+="("+ja(s(o[c].toString()))+")"):d+=o[c].toString()}return d+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qs=function(o,i,r){var s=function(d){return d};return void 0!==i&&r&&(s=r.internal.getEncryptor(i)),(o=o||"").toString(),"("+ja(s(o))+")"},fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(o){this._objId=o}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fa.prototype.toString=function(){return this.objId+" 0 R"},fa.prototype.putStream=function(){var o=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:o,objectId:this.objId}),this.scope.internal.out("endobj")},fa.prototype.getKeyValueListForStream=function(){var o=[],i=Object.getOwnPropertyNames(this).filter(function(c){return"content"!=c&&"appearanceStreamContent"!=c&&"scope"!=c&&"objId"!=c&&"_"!=c.substring(0,1)});for(var r in i)if(!1===Object.getOwnPropertyDescriptor(this,i[r]).configurable){var s=i[r],d=this[s];d&&(Array.isArray(d)?o.push({key:s,value:Ql(d,this.objId,this.scope)}):d instanceof fa?(d.scope=this.scope,o.push({key:s,value:d.objId+" 0 R"})):"function"!=typeof d&&o.push({key:s,value:d}))}return o};var Xl=function(){fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var o,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){o=r.trim()},get:function(){return o||null}})};un(Xl,fa);var $l=function(){fa.call(this);var o,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(o){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ja(r(o))+")"}},set:function(r){o=r}})};un($l,fa);var Qn=function o(){fa.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(Z){if(isNaN(Z))throw new Error('Invalid value "'+Z+'" for attribute F supplied.');i=Z}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(i,3))},set:function(Z){this.F=!0===Boolean(Z)?Hi(i,3):$i(i,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Z){if(isNaN(Z))throw new Error('Invalid value "'+Z+'" for attribute Ff supplied.');r=Z}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==s.length)return s},set:function(Z){s=void 0!==Z?Z:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(Z){s[0]=Z}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(Z){s[1]=Z}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(Z){s[2]=Z}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(Z){s[3]=Z}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(Z){switch(Z){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=Z;break;default:throw new Error('Invalid value "'+Z+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof ro)return;c="FieldObject"+o.FieldNum++}var Z=function($){return $};return this.scope&&(Z=this.scope.internal.getEncryptor(this.objId)),"("+ja(Z(c))+")"},set:function(Z){c=Z.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(Z){c=Z}});var p="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return p},set:function(Z){p=Z}});var m="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return m},set:function(Z){m=Z}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(Z){g=Z}});var D=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===D?50/jo:D},set:function(Z){D=Z}});var k="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return k},set:function(Z){k=Z}});var F="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!F||this instanceof ro||this instanceof ka))return qs(F,this.objId,this.scope)},set:function(Z){Z=Z.toString(),F=Z}});var O=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(O)return this instanceof on?O:qs(O,this.objId,this.scope)},set:function(Z){Z=Z.toString(),O=this instanceof on?Z:"("===Z.substr(0,1)?or(Z.substr(1,Z.length-2)):or(Z)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof on?or(O.substr(1,O.length-1)):O},set:function(Z){Z=Z.toString(),O=this instanceof on?"/"+Z:Z}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(Z){this.V=Z}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof on?y:qs(y,this.objId,this.scope)},set:function(Z){Z=Z.toString(),y=this instanceof on?Z:"("===Z.substr(0,1)?or(Z.substr(1,Z.length-2)):or(Z)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof on?or(y.substr(1,y.length-1)):y},set:function(Z){Z=Z.toString(),y=this instanceof on?"/"+Z:Z}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var X,z=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return z},set:function(Z){Z=Boolean(Z),z=Z}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(X)return X},set:function(Z){X=Z}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,1))},set:function(Z){this.Ff=!0===Boolean(Z)?Hi(this.Ff,1):$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,2))},set:function(Z){this.Ff=!0===Boolean(Z)?Hi(this.Ff,2):$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,3))},set:function(Z){this.Ff=!0===Boolean(Z)?Hi(this.Ff,3):$i(this.Ff,3)}});var re=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==re)return re},set:function(Z){if(-1===[0,1,2].indexOf(Z))throw new Error('Invalid value "'+Z+'" for attribute Q supplied.');re=Z}}),Object.defineProperty(this,"textAlign",{get:function(){var Z;switch(re){case 0:default:Z="left";break;case 1:Z="center";break;case 2:Z="right"}return Z},configurable:!0,enumerable:!0,set:function(Z){switch(Z){case"right":case 2:re=2;break;case"center":case 1:re=1;break;default:re=0}}})};un(Qn,fa);var lr=function(){Qn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var o=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return o},set:function(r){o=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return o},set:function(r){o=r}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ql(i,this.objId,this.scope)},set:function(r){var s,d;d=[],"string"==typeof(s=r)&&(d=function(c,p,m){m||(m=1);for(var g,D=[];g=p.exec(c);)D.push(g[m]);return D}(s,/\((.*?)\)/g)),i=d}}),this.getOptions=function(){return i},this.setOptions=function(r){i=r,this.sort&&i.sort()},this.addOption=function(r){r=(r=r||"").toString(),i.push(r),this.sort&&i.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();-1!==i.indexOf(r)&&(i.splice(i.indexOf(r),1),!1!==s););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,18))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,18):$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,19))},set:function(r){!0===this.combo&&(this.Ff=!0===Boolean(r)?Hi(this.Ff,19):$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,20))},set:function(r){!0===Boolean(r)?(this.Ff=Hi(this.Ff,20),i.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,22))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,22):$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,23))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,23):$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,27))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,27):$i(this.Ff,27)}}),this.hasAppearanceStream=!1};un(lr,Qn);var Za=function(){lr.call(this),this.fontName="helvetica",this.combo=!1};un(Za,lr);var za=function(){Za.call(this),this.combo=!0};un(za,Za);var Br=function(){za.call(this),this.edit=!0};un(Br,za);var on=function(){Qn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,15))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,15):$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,16))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,16):$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,17))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,17):$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,26))},set:function(r){this.Ff=!0===Boolean(r)?Hi(this.Ff,26):$i(this.Ff,26)}});var o,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(i).length){var s,d=[];for(s in d.push("<<"),i)d.push("/"+s+" ("+ja(r(i[s]))+")");return d.push(">>"),d.join("\n")}},set:function(r){"object"===(0,It.Z)(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(r){o=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(r){o="/"+r}})};un(on,Qn);var Ur=function(){on.call(this),this.pushButton=!0};un(Ur,on);var Ya=function(){on.call(this),this.radio=!0,this.pushButton=!1;var o=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return o},set:function(i){o=void 0!==i?i:[]}})};un(Ya,on);var ro=function(){var o,i;Qn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(d){i=d}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(m){return m};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var c,p=[];for(c in p.push("<<"),s)p.push("/"+c+" ("+ja(d(s[c]))+")");return p.push(">>"),p.join("\n")},set:function(d){"object"===(0,It.Z)(d)&&(s=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(d){"string"==typeof d&&(s.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(d){r=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(d){r="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};un(ro,Qn),Ya.prototype.setAppearance=function(o){if(!("createAppearanceStream"in o)||!("getCA"in o))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var r=this.Kids[i];r.appearanceStreamContent=o.createAppearanceStream(r.optionName),r.caption=o.getCA()}},Ya.prototype.createOption=function(o){var i=new ro;return i.Parent=this,i.optionName=o,this.Kids.push(i),Kl.call(this.scope,i),i};var qr=function(){on.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};un(qr,on);var ka=function(){Qn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,13))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,13):$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,21))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,21):$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,23))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,23):$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,24))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,24):$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,25))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,25):$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,26))},set:function(i){this.Ff=!0===Boolean(i)?Hi(this.Ff,26):$i(this.Ff,26)}});var o=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return o},set:function(i){o=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return o},set:function(i){Number.isInteger(i)&&(o=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};un(ka,Qn);var Pn=function(){ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ji(this.Ff,14))},set:function(o){this.Ff=!0===Boolean(o)?Hi(this.Ff,14):$i(this.Ff,14)}}),this.password=!0};un(Pn,ka);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=[],s=o.scope.internal.getFont(o.fontName,o.fontStyle).id,d=o.scope.__private__.encodeColorString(o.color),c=Zo(o,o.caption);return r.push("0.749023 g"),r.push("0 0 "+si(Vt.internal.getWidth(o))+" "+si(Vt.internal.getHeight(o))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+si(c.fontSize)+" Tf "+d),r.push("BT"),r.push(c.text),r.push("ET"),r.push("Q"),r.push("EMC"),i.stream=r.join("\n"),i},YesNormal:function(o){var i=Jn(o);i.scope=o.scope;var r=o.scope.internal.getFont(o.fontName,o.fontStyle).id,s=o.scope.__private__.encodeColorString(o.color),d=[],c=Vt.internal.getHeight(o),p=Vt.internal.getWidth(o),m=Zo(o,o.caption);return d.push("1 g"),d.push("0 0 "+si(p)+" "+si(c)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+si(p-1)+" "+si(c-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+r+" "+si(m.fontSize)+" Tf "+s),d.push(m.text),d.push("ET"),d.push("Q"),i.stream=d.join("\n"),i},OffPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+si(Vt.internal.getWidth(o))+" "+si(Vt.internal.getHeight(o))+" re"),r.push("f"),i.stream=r.join("\n"),i}},RadioButton:{Circle:{createAppearanceStream:function(o){var i={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return i.N[o]=Vt.RadioButton.Circle.YesNormal,i.D[o]=Vt.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(o){var i=Jn(o);i.scope=o.scope;var r=[],s=Vt.internal.getWidth(o)<=Vt.internal.getHeight(o)?Vt.internal.getWidth(o)/4:Vt.internal.getHeight(o)/4;s=Number((.9*s).toFixed(5));var c=Number((s*Vt.internal.Bezier_C).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+pa(Vt.internal.getWidth(o)/2)+" "+pa(Vt.internal.getHeight(o)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),r.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),r.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),r.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join("\n"),i},YesPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=[],s=Vt.internal.getWidth(o)<=Vt.internal.getHeight(o)?Vt.internal.getWidth(o)/4:Vt.internal.getHeight(o)/4;s=Number((.9*s).toFixed(5));var d=Number((2*s).toFixed(5)),c=Number((d*Vt.internal.Bezier_C).toFixed(5)),p=Number((s*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pa(Vt.internal.getWidth(o)/2)+" "+pa(Vt.internal.getHeight(o)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+c+" "+c+" "+d+" 0 "+d+" c"),r.push("-"+c+" "+d+" -"+d+" "+c+" -"+d+" 0 c"),r.push("-"+d+" -"+c+" -"+c+" -"+d+" 0 -"+d+" c"),r.push(c+" -"+d+" "+d+" -"+c+" "+d+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+pa(Vt.internal.getWidth(o)/2)+" "+pa(Vt.internal.getHeight(o)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+p+" "+p+" "+s+" 0 "+s+" c"),r.push("-"+p+" "+s+" -"+s+" "+p+" -"+s+" 0 c"),r.push("-"+s+" -"+p+" -"+p+" -"+s+" 0 -"+s+" c"),r.push(p+" -"+s+" "+s+" -"+p+" "+s+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join("\n"),i},OffPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=[],s=Vt.internal.getWidth(o)<=Vt.internal.getHeight(o)?Vt.internal.getWidth(o)/4:Vt.internal.getHeight(o)/4;s=Number((.9*s).toFixed(5));var d=Number((2*s).toFixed(5)),c=Number((d*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+pa(Vt.internal.getWidth(o)/2)+" "+pa(Vt.internal.getHeight(o)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+c+" "+c+" "+d+" 0 "+d+" c"),r.push("-"+c+" "+d+" -"+d+" "+c+" -"+d+" 0 c"),r.push("-"+d+" -"+c+" -"+c+" -"+d+" 0 -"+d+" c"),r.push(c+" -"+d+" "+d+" -"+c+" "+d+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join("\n"),i}},Cross:{createAppearanceStream:function(o){var i={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return i.N[o]=Vt.RadioButton.Cross.YesNormal,i.D[o]=Vt.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(o){var i=Jn(o);i.scope=o.scope;var r=[],s=Vt.internal.calculateCross(o);return r.push("q"),r.push("1 1 "+si(Vt.internal.getWidth(o)-2)+" "+si(Vt.internal.getHeight(o)-2)+" re"),r.push("W"),r.push("n"),r.push(si(s.x1.x)+" "+si(s.x1.y)+" m"),r.push(si(s.x2.x)+" "+si(s.x2.y)+" l"),r.push(si(s.x4.x)+" "+si(s.x4.y)+" m"),r.push(si(s.x3.x)+" "+si(s.x3.y)+" l"),r.push("s"),r.push("Q"),i.stream=r.join("\n"),i},YesPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=Vt.internal.calculateCross(o),s=[];return s.push("0.749023 g"),s.push("0 0 "+si(Vt.internal.getWidth(o))+" "+si(Vt.internal.getHeight(o))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+si(Vt.internal.getWidth(o)-2)+" "+si(Vt.internal.getHeight(o)-2)+" re"),s.push("W"),s.push("n"),s.push(si(r.x1.x)+" "+si(r.x1.y)+" m"),s.push(si(r.x2.x)+" "+si(r.x2.y)+" l"),s.push(si(r.x4.x)+" "+si(r.x4.y)+" m"),s.push(si(r.x3.x)+" "+si(r.x3.y)+" l"),s.push("s"),s.push("Q"),i.stream=s.join("\n"),i},OffPushDown:function(o){var i=Jn(o);i.scope=o.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+si(Vt.internal.getWidth(o))+" "+si(Vt.internal.getHeight(o))+" re"),r.push("f"),i.stream=r.join("\n"),i}}},createDefaultAppearanceStream:function(o){var i=o.scope.internal.getFont(o.fontName,o.fontStyle).id,r=o.scope.__private__.encodeColorString(o.color);return"/"+i+" "+o.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(o){var i=Vt.internal.getWidth(o),r=Vt.internal.getHeight(o),s=Math.min(i,r);return{x1:{x:(i-s)/2,y:(r-s)/2+s},x2:{x:(i-s)/2+s,y:(r-s)/2},x3:{x:(i-s)/2,y:(r-s)/2},x4:{x:(i-s)/2+s,y:(r-s)/2+s}}}},Vt.internal.getWidth=function(o){var i=0;return"object"===(0,It.Z)(o)&&(i=Bs(o.Rect[2])),i},Vt.internal.getHeight=function(o){var i=0;return"object"===(0,It.Z)(o)&&(i=Bs(o.Rect[3])),i};var Kl=Vi.addField=function(o){if(function(o,i){if(i.scope=o,void 0!==o.internal&&(void 0===o.internal.acroformPlugin||!1===o.internal.acroformPlugin.isInitialized)){if(Qn.FieldNum=0,o.internal.acroformPlugin=JSON.parse(JSON.stringify(md)),o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jo=o.internal.scaleFactor,o.internal.acroformPlugin.acroFormDictionaryRoot=new $l,o.internal.acroformPlugin.acroFormDictionaryRoot.scope=o,o.internal.acroformPlugin.acroFormDictionaryRoot._eventID=o.internal.events.subscribe("postPutResources",function(){var r;(r=o).internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0}),o.internal.events.subscribe("buildDocument",function(){!function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in s)if(s.hasOwnProperty(d)){var c=s[d];c.objId=void 0,c.hasAnnotation&&gd(c,r)}}(o)}),o.internal.events.subscribe("putCatalog",function(){!function(r){if(void 0===r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(o)}),o.internal.events.subscribe("postPutPages",function(r){!function(s,d){var c=!s;for(var p in s||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(p)){var m=s[p],g=[],D=m.Rect;if(m.Rect&&(m.Rect=Us(m.Rect,d)),d.internal.newObjectDeferredBegin(m.objId,!0),m.DA=Vt.createDefaultAppearanceStream(m),"object"===(0,It.Z)(m)&&"function"==typeof m.getKeyValueListForStream&&(g=m.getKeyValueListForStream()),m.Rect=D,m.hasAppearanceStream&&!m.appearanceStreamContent){var k=Jl(m);g.push({key:"AP",value:"<</N "+k+">>"}),d.internal.acroformPlugin.xForms.push(k)}if(m.appearanceStreamContent){var F="";for(var O in m.appearanceStreamContent)if(m.appearanceStreamContent.hasOwnProperty(O)){var y=m.appearanceStreamContent[O];if(F+="/"+O+" ",F+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var p in y)if(y.hasOwnProperty(p)){var X=y[p];"function"==typeof X&&(X=X.call(d,m)),F+="/"+p+" "+X+" ",d.internal.acroformPlugin.xForms.indexOf(X)>=0||d.internal.acroformPlugin.xForms.push(X)}}else"function"==typeof(X=y)&&(X=X.call(d,m)),F+="/"+p+" "+X,d.internal.acroformPlugin.xForms.indexOf(X)>=0||d.internal.acroformPlugin.xForms.push(X);F+=">>"}g.push({key:"AP",value:"<<\n"+F+">>"})}d.internal.putStream({additionalKeyValues:g,objectId:m.objId}),d.internal.out("endobj")}c&&function(o,i){for(var r in o)if(o.hasOwnProperty(r)){var s=r,d=o[r];i.internal.newObjectDeferredBegin(d.objId,!0),"object"===(0,It.Z)(d)&&"function"==typeof d.putStream&&d.putStream(),delete o[s]}}(d.internal.acroformPlugin.xForms,d)}(r,o)}),o.internal.acroformPlugin.isInitialized=!0}}(this,o),!(o instanceof Qn))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=o).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),o.page=o.scope.internal.getCurrentPageInfo().pageNumber,this};Vi.AcroFormChoiceField=lr,Vi.AcroFormListBox=Za,Vi.AcroFormComboBox=za,Vi.AcroFormEditBox=Br,Vi.AcroFormButton=on,Vi.AcroFormPushButton=Ur,Vi.AcroFormRadioButton=Ya,Vi.AcroFormCheckBox=qr,Vi.AcroFormTextField=ka,Vi.AcroFormPasswordField=Pn,Vi.AcroFormAppearance=Vt,Vi.AcroForm={ChoiceField:lr,ListBox:Za,ComboBox:za,EditBox:Br,Button:on,PushButton:Ur,RadioButton:Ya,CheckBox:qr,TextField:ka,PasswordField:Pn,Appearance:Vt};var o,i,ec=Jt.AcroForm={ChoiceField:lr,ListBox:Za,ComboBox:za,EditBox:Br,Button:on,PushButton:Ur,RadioButton:Ya,CheckBox:qr,TextField:ka,PasswordField:Pn,Appearance:Vt};function js(o){return o.reduce(function(i,r,s){return i[r]=s,i},{})}(function(o){o.__addimage__={};var i="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=o.__addimage__.getImageFileTypeByImageData=function(W,H){var Ae,be,et,Je,ot,Ve=i;if("RGBA"===(H=H||i)||void 0!==W.data&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(vt(W))for(ot in r)for(et=r[ot],Ae=0;Ae<et.length;Ae+=1){for(Je=!0,be=0;be<et[Ae].length;be+=1)if(void 0!==et[Ae][be]&&et[Ae][be]!==W[be]){Je=!1;break}if(!0===Je){Ve=ot;break}}else for(ot in r)for(et=r[ot],Ae=0;Ae<et.length;Ae+=1){for(Je=!0,be=0;be<et[Ae].length;be+=1)if(void 0!==et[Ae][be]&&et[Ae][be]!==W.charCodeAt(be)){Je=!1;break}if(!0===Je){Ve=ot;break}}return Ve===i&&H!==i&&(Ve=H),Ve},d=function W(H){for(var Ae=this.internal.write,be=this.internal.putStream,et=(0,this.internal.getFilters)();-1!==et.indexOf("FlateEncode");)et.splice(et.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var Je=[];if(Je.push({key:"Type",value:"/XObject"}),Je.push({key:"Subtype",value:"/Image"}),Je.push({key:"Width",value:H.width}),Je.push({key:"Height",value:H.height}),H.colorSpace===re.INDEXED?Je.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&void 0!==H.sMask?H.objectId+2:H.objectId+1)+" 0 R]"}):(Je.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===re.DEVICE_CMYK&&Je.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Je.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&void 0!==H.decodeParameters&&Je.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var ot="",Ve=0,dt=H.transparency.length;Ve<dt;Ve++)ot+=H.transparency[Ve]+" "+H.transparency[Ve]+" ";Je.push({key:"Mask",value:"["+ot+"]"})}if(void 0!==H.sMask&&Je.push({key:"SMask",value:H.objectId+1+" 0 R"}),be({data:H.data,additionalKeyValues:Je,alreadyAppliedFilters:void 0!==H.filter?["/"+H.filter]:void 0,objectId:H.objectId}),Ae("endobj"),"sMask"in H&&void 0!==H.sMask){var P={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:"/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,data:H.sMask};"filter"in H&&(P.filter=H.filter),W.call(this,P)}if(H.colorSpace===re.INDEXED){var te=this.internal.newObject();be({data:ve(new Uint8Array(H.palette)),objectId:te}),Ae("endobj")}},c=function(){var W=this.internal.collections.addImage_images;for(var H in W)d.call(this,W[H])},p=function(){var W,H=this.internal.collections.addImage_images,Ae=this.internal.write;for(var be in H)Ae("/I"+(W=H[be]).index,W.objectId,"0","R")},m=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",p))},g=function(){var W=this.internal.collections.addImage_images;return m.call(this),W},D=function(){return Object.keys(this.internal.collections.addImage_images).length},k=function(W){return"function"==typeof o["process"+W.toUpperCase()]},F=function(W){return"object"===(0,It.Z)(W)&&1===W.nodeType},O=function(W,H){if("IMG"===W.nodeName&&W.hasAttribute("src")){var Ae=""+W.getAttribute("src");if(0===Ae.indexOf("data:image/"))return an(unescape(Ae).split("base64,").pop());var be=o.loadFile(Ae,!0);if(void 0!==be)return be}if("CANVAS"===W.nodeName){if(0===W.width||0===W.height)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var et;switch(H){case"PNG":et="image/png";break;case"WEBP":et="image/webp";break;default:et="image/jpeg"}return an(W.toDataURL(et,1).split("base64,").pop())}},y=function(W){var H=this.internal.collections.addImage_images;if(H)for(var Ae in H)if(W===H[Ae].alias)return H[Ae]},X=function(W,H,Ae){return W||H||(W=-96,H=-96),W<0&&(W=-1*Ae.width*72/W/this.internal.scaleFactor),H<0&&(H=-1*Ae.height*72/H/this.internal.scaleFactor),0===W&&(W=H*Ae.width/Ae.height),0===H&&(H=W*Ae.height/Ae.width),[W,H]},z=function(W,H,Ae,be,et,Je){var ot=X.call(this,Ae,be,et),Ve=this.internal.getCoordinateString,dt=this.internal.getVerticalCoordinateString,st=g.call(this);if(Ae=ot[0],be=ot[1],st[et.index]=et,Je){Je*=Math.PI/180;var Ft=Math.cos(Je),P=Math.sin(Je),te=function(ke){return ke.toFixed(4)},pe=[te(Ft),te(P),te(-1*P),te(Ft),0,0,"cm"]}this.internal.write("q"),Je?(this.internal.write([1,"0","0",1,Ve(W),dt(H+be),"cm"].join(" ")),this.internal.write(pe.join(" ")),this.internal.write([Ve(Ae),"0","0",Ve(be),"0","0","cm"].join(" "))):this.internal.write([Ve(Ae),"0","0",Ve(be),Ve(W),dt(H+be),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+et.index+" Do"),this.internal.write("Q")},re=o.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};o.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=o.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},$=o.__addimage__.sHashCode=function(W){var H,Ae,be=0;if("string"==typeof W)for(Ae=W.length,H=0;H<Ae;H++)be=(be<<5)-be+W.charCodeAt(H),be|=0;else if(vt(W))for(Ae=W.byteLength/2,H=0;H<Ae;H++)be=(be<<5)-be+W[H],be|=0;return be},Ne=o.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var H=!0;return 0===W.length&&(H=!1),W.length%4!=0&&(H=!1),!1===/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))&&(H=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))&&(H=!1),H},qe=o.__addimage__.extractImageFromDataUrl=function(W){var H=(W=W||"").split("base64,"),Ae=null;if(2===H.length){var be=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(H[0]);Array.isArray(be)&&(Ae={mimeType:be[1],charset:be[2],data:H[1]})}return Ae},$e=o.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};o.__addimage__.isArrayBuffer=function(W){return $e()&&W instanceof ArrayBuffer};var vt=o.__addimage__.isArrayBufferView=function(W){return $e()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},ze=o.__addimage__.binaryStringToUint8Array=function(W){for(var H=W.length,Ae=new Uint8Array(H),be=0;be<H;be++)Ae[be]=W.charCodeAt(be);return Ae},ve=o.__addimage__.arrayBufferToBinaryString=function(W){for(var H="",Ae=vt(W)?W:new Uint8Array(W),be=0;be<Ae.length;be+=8192)H+=String.fromCharCode.apply(null,Ae.subarray(be,be+8192));return H};o.addImage=function(){var W,H,Ae,be,et,Je,ot,Ve,dt;if("number"==typeof arguments[1]?(H=i,Ae=arguments[1],be=arguments[2],et=arguments[3],Je=arguments[4],ot=arguments[5],Ve=arguments[6],dt=arguments[7]):(H=arguments[1],Ae=arguments[2],be=arguments[3],et=arguments[4],Je=arguments[5],ot=arguments[6],Ve=arguments[7],dt=arguments[8]),"object"===(0,It.Z)(W=arguments[0])&&!F(W)&&"imageData"in W){var st=W;W=st.imageData,H=st.format||H||i,Ae=st.x||Ae||0,be=st.y||be||0,et=st.w||st.width||et,Je=st.h||st.height||Je,ot=st.alias||ot,Ve=st.compression||Ve,dt=st.rotation||st.angle||dt}var Ft=this.internal.getFilters();if(void 0===Ve&&-1!==Ft.indexOf("FlateEncode")&&(Ve="SLOW"),isNaN(Ae)||isNaN(be))throw new Error("Invalid coordinates passed to jsPDF.addImage");m.call(this);var P=ct.call(this,W,H,ot,Ve);return z.call(this,Ae,be,et,Je,P,dt),this};var ct=function(W,H,Ae,be){var et,Je,ot,dt;if("string"==typeof W&&s(W)===i){W=unescape(W);var Ve=lt(W,!1);(""!==Ve||void 0!==(Ve=o.loadFile(W,!0)))&&(W=Ve)}if(F(W)&&(W=O(W,H)),H=s(W,H),!k(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if((null==(ot=Ae)||0===ot.length)&&(Ae="string"==typeof(dt=W)||vt(dt)?$(dt):vt(dt.data)?$(dt.data):null),(et=y.call(this,Ae))||($e()&&(W instanceof Uint8Array||"RGBA"===H||(Je=W,W=ze(W))),et=this["process"+H.toUpperCase()](W,D.call(this),Ae,function(dt){return dt&&"string"==typeof dt&&(dt=dt.toUpperCase()),dt in o.image_compression?dt:Z.NONE}(be),Je)),!et)throw new Error("An unknown error occurred whilst processing the image.");return et},lt=o.__addimage__.convertBase64ToBinaryString=function(W,H){var Ae;H="boolean"!=typeof H||H;var be,et="";if("string"==typeof W){be=null!==(Ae=qe(W))?Ae.data:W;try{et=an(be)}catch(Je){if(H)throw Ne(be)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Je.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return et};o.getImageProperties=function(W){var H,Ae,be="";if(F(W)&&(W=O(W)),"string"==typeof W&&s(W)===i&&(""===(be=lt(W,!1))&&(be=o.loadFile(W)||""),W=be),Ae=s(W),!k(Ae))throw new Error("addImage does not support files of type '"+Ae+"', please ensure that a plugin for '"+Ae+"' support is added.");if(!$e()||W instanceof Uint8Array||(W=ze(W)),!(H=this["process"+Ae.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=Ae,H}})(Jt.API),
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
o=Jt.API,i=function(r){if(void 0!==r&&""!=r)return!0},Jt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),o.events.push(["putPage",function(r){for(var s,d,c,p=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),D=r.pageContext.annotations,k=!1,F=0;F<D.length&&!k;F++)switch((s=D[F]).type){case"link":(i(s.options.url)||i(s.options.pageNumber))&&(k=!0);break;case"reference":case"text":case"freetext":k=!0}if(0!=k){this.internal.write("/Annots [");for(var O=0;O<D.length;O++){s=D[O];var y=this.internal.pdfEscape,X=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var z=this.internal.newAdditionalObject(),re=this.internal.newAdditionalObject(),Z=this.internal.getEncryptor(z.objId),$=s.title||"Note";c="<</Type /Annot /Subtype /Text "+(d="/Rect ["+p(s.bounds.x)+" "+m(s.bounds.y+s.bounds.h)+" "+p(s.bounds.x+s.bounds.w)+" "+m(s.bounds.y)+"] ")+"/Contents ("+y(Z(s.contents))+")",c+=" /Popup "+re.objId+" 0 R",c+=" /P "+g.objId+" 0 R",c+=" /T ("+y(Z($))+") >>",z.content=c;var Ne=z.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+p(s.bounds.x+30)+" "+m(s.bounds.y+s.bounds.h)+" "+p(s.bounds.x+s.bounds.w+30)+" "+m(s.bounds.y)+"] ")+" /Parent "+Ne,s.open&&(c+=" /Open true"),re.content=c+=" >>",this.internal.write(z.objId,"0 R",re.objId,"0 R");break;case"freetext":d="/Rect ["+p(s.bounds.x)+" "+m(s.bounds.y)+" "+p(s.bounds.x+s.bounds.w)+" "+m(s.bounds.y+s.bounds.h)+"] ";var qe=s.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+y(X(s.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+qe+")",c+=" /Border [0 0 0]",this.internal.write(c+=" >>");break;case"link":if(s.options.name){var $e=this.annotations._nameMap[s.options.name];s.options.pageNumber=$e.page,s.options.top=$e.y}else s.options.top||(s.options.top=0);if(d="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",c="",s.options.url)c="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+y(X(s.options.url))+") >>";else if(s.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,c+=" /FitV "+s.options.left+"]";break;default:var vt=m(s.options.top);s.options.left=s.options.left||0,void 0===s.options.zoom&&(s.options.zoom=0),c+=" /XYZ "+s.options.left+" "+vt+" "+s.options.zoom+"]"}""!=c&&this.internal.write(c+=" >>")}}this.internal.write("]")}}]),o.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},o.link=function(r,s,d,c,p){var m=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,D=this.internal.getVerticalCoordinateString;m.pageContext.annotations.push({finalBounds:{x:g(r),y:D(s),w:g(r+d),h:D(s+c)},options:p,type:"link"})},o.textWithLink=function(r,s,d,c){var p,m,g=this.getTextWidth(r),D=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==c.maxWidth){var k=this.splitTextToSize(r,m=c.maxWidth).length;p=Math.ceil(D*k)}else m=g,p=D;return this.text(r,s,d,c),"center"===c.align&&(s-=g/2),"right"===c.align&&(s-=g),this.link(s,(d+=.2*D)-D,m,p,c),g},o.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor},
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];o.__arabicParser__={};var c=o.__arabicParser__.isInArabicSubstitutionA=function(z){return void 0!==i[z.charCodeAt(0)]},p=o.__arabicParser__.isArabicLetter=function(z){return"string"==typeof z&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(z)},m=o.__arabicParser__.isArabicEndLetter=function(z){return p(z)&&c(z)&&i[z.charCodeAt(0)].length<=2},g=o.__arabicParser__.isArabicAlfLetter=function(z){return p(z)&&d.indexOf(z.charCodeAt(0))>=0};o.__arabicParser__.arabicLetterHasIsolatedForm=function(z){return p(z)&&c(z)&&i[z.charCodeAt(0)].length>=1};var D=o.__arabicParser__.arabicLetterHasFinalForm=function(z){return p(z)&&c(z)&&i[z.charCodeAt(0)].length>=2};o.__arabicParser__.arabicLetterHasInitialForm=function(z){return p(z)&&c(z)&&i[z.charCodeAt(0)].length>=3};var k=o.__arabicParser__.arabicLetterHasMedialForm=function(z){return p(z)&&c(z)&&4==i[z.charCodeAt(0)].length},F=o.__arabicParser__.resolveLigatures=function(z){var re=0,Z=r,$="",Ne=0;for(re=0;re<z.length;re+=1)void 0!==Z[z.charCodeAt(re)]?(Ne++,"number"==typeof(Z=Z[z.charCodeAt(re)])&&($+=String.fromCharCode(Z),Z=r,Ne=0),re===z.length-1&&(Z=r,$+=z.charAt(re-(Ne-1)),re-=Ne-1,Ne=0)):(Z=r,$+=z.charAt(re-Ne),re-=Ne,Ne=0);return $};o.__arabicParser__.isArabicDiacritic=function(z){return void 0!==z&&void 0!==s[z.charCodeAt(0)]};var O=o.__arabicParser__.getCorrectForm=function(z,re,Z){return p(z)?!1===c(z)?-1:!D(z)||!p(re)&&!p(Z)||!p(Z)&&m(re)||m(z)&&!p(re)||m(z)&&g(re)||m(z)&&m(re)?0:k(z)&&p(re)&&!m(re)&&p(Z)&&D(Z)?3:m(z)||!p(Z)?1:2:-1},y=function(z){var re=0,Z=0,$=0,Ne="",qe="",$e="",vt=(z=z||"").split("\\s+"),ze=[];for(re=0;re<vt.length;re+=1){for(ze.push(""),Z=0;Z<vt[re].length;Z+=1)qe=vt[re][Z-1],$e=vt[re][Z+1],p(Ne=vt[re][Z])?($=O(Ne,qe,$e),ze[re]+=-1!==$?String.fromCharCode(i[Ne.charCodeAt(0)][$]):Ne):ze[re]+=Ne;ze[re]=F(ze[re])}return ze.join(" ")},X=o.__arabicParser__.processArabic=o.processArabic=function(){var z,re="string"==typeof arguments[0]?arguments[0]:arguments[0].text,Z=[];if(Array.isArray(re)){var $=0;for(Z=[],$=0;$<re.length;$+=1)Array.isArray(re[$])?Z.push([y(re[$][0]),re[$][1],re[$][2]]):Z.push([y(re[$])]);z=Z}else z=y(re);return"string"==typeof arguments[0]?z:(arguments[0].text=z,arguments[0])};o.events.push(["preProcessText",X])}(Jt.API),Jt.API.autoPrint=function(o){var i;return"javascript"===((o=o||{}).variant=o.variant||"non-conform",o.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(m){r=m}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(m){s=isNaN(m)||!1===Number.isInteger(m)||m<0?150:m,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(m){d=isNaN(m)||!1===Number.isInteger(m)||m<0?300:m,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(m){c=m}});var p={};Object.defineProperty(this,"style",{get:function(){return p},set:function(m){p=m}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(r,s){var d;if("2d"!==(r=r||"2d"))return null;for(d in s)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=s[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},o.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(Jt.API),function(o){var i={left:0,top:0,bottom:0,right:0},r=!1,s=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(z){g=z}});var D=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return D},set:function(z){D=z}});var k=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return k},set:function(z){k=z}});var F=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return F},set:function(z){F=z}});var O=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return O},set:function(z){O=z}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(z){y=z}});var X=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return X},set:function(z){X=z}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},o.setHeaderFunction=function(g){return s.call(this),this.internal.__cell__.headerFunction="function"==typeof g?g:void 0,this},o.getTextDimensions=function(g,D){s.call(this);var k=(D=D||{}).fontSize||this.getFontSize(),F=D.font||this.getFont(),O=D.scaleFactor||this.internal.scaleFactor,y=0,X=0,z=0,re=this;if(!Array.isArray(g)&&"string"!=typeof g){if("number"!=typeof g)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var Z=D.maxWidth;Z>0?"string"==typeof g?g=this.splitTextToSize(g,Z):"[object Array]"===Object.prototype.toString.call(g)&&(g=g.reduce(function(Ne,qe){return Ne.concat(re.splitTextToSize(qe,Z))},[])):g=Array.isArray(g)?g:[g];for(var $=0;$<g.length;$++)y<(z=this.getStringUnitWidth(g[$],{font:F})*k)&&(y=z);return 0!==y&&(X=g.length),{w:y/=O,h:Math.max((X*k*this.getLineHeightFactor()-k*(this.getLineHeightFactor()-1))/O,0)}},o.cellAddPage=function(){s.call(this),this.addPage();var g=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new c(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var p=o.cell=function(){var g;g=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var D=this.internal.__cell__.lastCell,k=this.internal.__cell__.padding,F=this.internal.__cell__.margins||i,O=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return void 0!==D.lineNumber&&(D.lineNumber===g.lineNumber?(g.x=(D.x||0)+(D.width||0),g.y=D.y||0):D.y+D.height+g.height+F.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=F.top,y&&O&&(this.printHeaderRow(g.lineNumber,!0),g.y+=O[0].height)):g.y=D.y+D.height||g.y),void 0!==g.text[0]&&(this.rect(g.x,g.y,g.width,g.height,!0===r?"FD":void 0),"right"===g.align?this.text(g.text,g.x+g.width-k,g.y+k,{align:"right",baseline:"top"}):"center"===g.align?this.text(g.text,g.x+g.width/2,g.y+k,{align:"center",baseline:"top",maxWidth:g.width-k-k}):this.text(g.text,g.x+k,g.y+k,{align:"left",baseline:"top",maxWidth:g.width-k-k})),this.internal.__cell__.lastCell=g,this};o.table=function(g,D,k,F,O){if(s.call(this),!k)throw new Error("No data for PDF table.");var y,X,z,re,Z=[],$=[],Ne=[],qe={},$e={},vt=[],ze=[],ve=(O=O||{}).autoSize||!1,ct=!1!==O.printHeaders,lt=O.css&&void 0!==O.css["font-size"]?16*O.css["font-size"]:O.fontSize||12,W=O.margins||Object.assign({width:this.getPageWidth()},i),H="number"==typeof O.padding?O.padding:3,Ae=O.headerBackgroundColor||"#c8c8c8",be=O.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=ct,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=lt,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=Ae,this.internal.__cell__.headerTextColor=be,this.setFontSize(lt),null==F)$=Z=Object.keys(k[0]),Ne=Z.map(function(){return"left"});else if(Array.isArray(F)&&"object"===(0,It.Z)(F[0]))for(Z=F.map(function(st){return st.name}),$=F.map(function(st){return st.prompt||st.name||""}),Ne=F.map(function(st){return st.align||"left"}),y=0;y<F.length;y+=1)$e[F[y].name]=F[y].width*(19.049976/25.4);else Array.isArray(F)&&"string"==typeof F[0]&&($=Z=F,Ne=Z.map(function(){return"left"}));if(ve||Array.isArray(F)&&"string"==typeof F[0])for(y=0;y<Z.length;y+=1){for(qe[re=Z[y]]=k.map(function(st){return st[re]}),this.setFont(void 0,"bold"),vt.push(this.getTextDimensions($[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),X=qe[re],this.setFont(void 0,"normal"),z=0;z<X.length;z+=1)vt.push(this.getTextDimensions(X[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$e[re]=Math.max.apply(null,vt)+H+H,vt=[]}if(ct){var et={};for(y=0;y<Z.length;y+=1)et[Z[y]]={},et[Z[y]].text=$[y],et[Z[y]].align=Ne[y];var Je=m.call(this,et,$e);ze=Z.map(function(st){return new c(g,D,$e[st],Je,et[st].text,void 0,et[st].align)}),this.setTableHeaderRow(ze),this.printHeaderRow(1,!1)}var ot=F.reduce(function(st,Ft){return st[Ft.name]=Ft.align,st},{});for(y=0;y<k.length;y+=1){"rowStart"in O&&O.rowStart instanceof Function&&O.rowStart({row:y,data:k[y]},this);var Ve=m.call(this,k[y],$e);for(z=0;z<Z.length;z+=1){var dt=k[y][Z[z]];"cellStart"in O&&O.cellStart instanceof Function&&O.cellStart({row:y,col:z,data:dt},this),p.call(this,new c(g,D,$e[Z[z]],Ve,dt,y+2,ot[Z[z]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=D,this};var m=function(g,D){var k=this.internal.__cell__.padding,F=this.internal.__cell__.table_font_size,O=this.internal.scaleFactor;return Object.keys(g).map(function(y){var X=g[y];return this.splitTextToSize(X.hasOwnProperty("text")?X.text:X,D[y]-k-k)},this).map(function(y){return this.getLineHeightFactor()*y.length*F/O+k+k},this).reduce(function(y,X){return Math.max(y,X)},0)};o.setTableHeaderRow=function(g){s.call(this),this.internal.__cell__.tableHeaderRow=g},o.printHeaderRow=function(g,D){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var k;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var F=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(F[0],F[1],F[2],F[3],void 0,-1)}this.setFont(void 0,"bold");for(var O=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){k=this.internal.__cell__.tableHeaderRow[y].clone(),D&&(k.y=this.internal.__cell__.margins.top||0,O.push(k)),k.lineNumber=g;var X=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),p.call(this,k),this.setTextColor(X)}O.length>0&&this.setTableHeaderRow(O),this.setFont(void 0,"normal"),r=!1}}(Jt.API);var Zs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zo=js(zs),Ys=[100,200,300,400,500,600,700,800,900],tc=js(Ys);function Yo(o){var c,i=o.family.replace(/"|'/g,"").toLowerCase(),r=Zs[c=(c=o.style)||"normal"]?c:"normal",s=function(c){return c?"number"==typeof c?c>=100&&c<=900&&c%100==0?c:400:/^\d00$/.test(c)?parseInt(c):"bold"===c?700:400:400}(o.weight),d=function(c){return"number"==typeof zo[c=c||"normal"]?c:"normal"}(o.stretch);return{family:i,style:r,weight:s,stretch:d,src:o.src||[],ref:o.ref||{name:i,style:[d,r,s].join(" ")}}}function Vs(o,i,r,s){var d;for(d=r;d>=0&&d<i.length;d+=s)if(o[i[d]])return o[i[d]];for(d=r;d>=0&&d<i.length;d-=s)if(o[i[d]])return o[i[d]]}var ic={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hs={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ws(o){return[o.stretch,o.style,o.weight,o.family].join(" ")}function Gs(o){return o.trimLeft()}function ac(o,i){for(var r=0;r<o.length;){if(o.charAt(r)===i)return[o.substring(0,r),o.substring(r+1)];r+=1}return null}function rc(o){var i=o.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===i?null:[i[0],o.substring(i[0].length)]}var oo,Js,Qs,Vo=["times"];(function(o){var i,r,s,d,c,p,m,g,D,k=function(P){return this.isStrokeTransparent=(P=P||{}).isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=void 0!==P.transform?P.transform.clone():new g,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new p,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new p,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof P.ignoreClearRect||P.ignoreClearRect,this};o.events.push(["initialized",function(){this.context2d=new F(this),i=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,p=this.internal.Point,m=this.internal.Rectangle,g=this.internal.Matrix,D=new k}]);var F=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=P;Object.defineProperty(this,"pdf",{get:function(){return te}});var pe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return pe},set:function(at){pe=Boolean(at)}});var ke=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ke},set:function(at){ke=Boolean(at)}});var Re=0;Object.defineProperty(this,"posX",{get:function(){return Re},set:function(at){isNaN(at)||(Re=at)}});var He=0;Object.defineProperty(this,"posY",{get:function(){return He},set:function(at){isNaN(at)||(He=at)}}),Object.defineProperty(this,"margin",{get:function(){return D.margin},set:function(at){var fe;"number"==typeof at?fe=[at,at,at,at]:((fe=new Array(4))[0]=at[0],fe[1]=at.length>=2?at[1]:fe[0],fe[2]=at.length>=3?at[2]:fe[0],fe[3]=at.length>=4?at[3]:fe[1]),D.margin=fe}});var Ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ge},set:function(at){Ge=at}});var Qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qe},set:function(at){Qe=at}});var At=[];Object.defineProperty(this,"pageBreaks",{get:function(){return At},set:function(at){At=at}}),Object.defineProperty(this,"ctx",{get:function(){return D},set:function(at){at instanceof k&&(D=at)}}),Object.defineProperty(this,"path",{get:function(){return D.path},set:function(at){D.path=at}});var Ct=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ct},set:function(at){Ct=at}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(at){var fe;fe=O(at),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=0===fe.a,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(at){var fe=O(at);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=0===fe.a,this.ctx.strokeOpacity=fe.a,0===fe.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(fe.r,fe.g,fe.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(at){-1!==["butt","round","square"].indexOf(at)&&(this.ctx.lineCap=at,this.pdf.setLineCap(at))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(at){isNaN(at)||(this.ctx.lineWidth=at,this.pdf.setLineWidth(at))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(at){-1!==["bevel","round","miter"].indexOf(at)&&(this.ctx.lineJoin=at,this.pdf.setLineJoin(at))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(at){isNaN(at)||(this.ctx.miterLimit=at,this.pdf.setMiterLimit(at))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(at){this.ctx.textBaseline=at}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(at){-1!==["right","end","center","left","start"].indexOf(at)&&(this.ctx.textAlign=at)}});var jt=null,ti=null;Object.defineProperty(this,"fontFaces",{get:function(){return ti},set:function(at){jt=null,ti=at}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(at){var fe;if(this.ctx.font=at,null!==(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(at))){var hi=fe[1],Ht=fe[3],Dt=fe[4],Mt=fe[6],Ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dt)[2];Dt=Math.floor("px"===Ut?parseFloat(Dt)*this.pdf.internal.scaleFactor:"em"===Ut?parseFloat(Dt)*this.pdf.getFontSize():parseFloat(Dt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dt);var Et=function(ni){var yi,qt,_n=[],Ci=ni.trim();if(""===Ci)return Vo;if(Ci in Hs)return[Hs[Ci]];for(;""!==Ci;){switch(qt=null,yi=(Ci=Gs(Ci)).charAt(0)){case'"':case"'":qt=ac(Ci.substring(1),yi);break;default:qt=rc(Ci)}if(null===qt||(_n.push(qt[0]),""!==(Ci=Gs(qt[1]))&&","!==Ci.charAt(0)))return Vo;Ci=Ci.replace(/^,/,"")}return _n}(Mt);if(this.fontFaces){var Gt=function nc(o,i,r){for(var s=(r=r||{}).defaultFontFamily||"times",d=Object.assign({},ic,r.genericFontFamilies||{}),c=null,p=null,m=0;m<i.length;++m)if(d[(c=Yo(i[m])).family]&&(c.family=d[c.family]),o.hasOwnProperty(c.family)){p=o[c.family];break}if(!(p=p||o[s]))throw new Error("Could not find a font-family for the rule '"+Ws(c)+"' and default family '"+s+"'.");if(p=function(g,D){if(D[g])return D[g];var k=zo[g],O=Vs(D,zs,k,k<=zo.normal?-1:1);if(!O)throw new Error("Could not find a matching font-stretch value for "+g);return O}(c.stretch,p),p=function(g,D){if(D[g])return D[g];for(var k=Zs[g],F=0;F<k.length;++F)if(D[k[F]])return D[k[F]];throw new Error("Could not find a matching font-style for "+g)}(c.style,p),!(p=function(g,D){if(D[g])return D[g];if(400===g&&D[500])return D[500];if(500===g&&D[400])return D[400];var F=Vs(D,Ys,tc[g],g<400?-1:1);if(!F)throw new Error("Could not find a matching font-weight for value "+g);return F}(c.weight,p)))throw new Error("Failed to resolve a font for the rule '"+Ws(c)+"'.");return p}(function Zt(at,fe){if(null===jt){var hi=(Ht=at.getFontList(),Dt=[],Object.keys(Ht).forEach(function(Mt){Ht[Mt].forEach(function(Ut){var Et=null;switch(Ut){case"bold":Et={family:Mt,weight:"bold"};break;case"italic":Et={family:Mt,style:"italic"};break;case"bolditalic":Et={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:Mt}}null!==Et&&(Et.ref={name:Mt,style:Ut},Dt.push(Et))})}),Dt);jt=function(Ht){for(var Dt={},Mt=0;Mt<Ht.length;++Mt){var Ut=Yo(Ht[Mt]),Et=Ut.family,Gt=Ut.stretch,li=Ut.style,fi=Ut.weight;Dt[Et]=Dt[Et]||{},Dt[Et][Gt]=Dt[Et][Gt]||{},Dt[Et][Gt][li]=Dt[Et][Gt][li]||{},Dt[Et][Gt][li][fi]=Ut}return Dt}(hi.concat(fe))}var Ht,Dt;return jt}(this.pdf,this.fontFaces),Et.map(function(ni){return{family:ni,stretch:"normal",weight:Ht,style:hi}}));this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var li="";("bold"===Ht||parseInt(Ht,10)>=700||"bold"===hi)&&(li="bold"),"italic"===hi&&(li+="italic"),0===li.length&&(li="normal");for(var fi="",vi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Di=0;Di<Et.length;Di++){if(void 0!==this.pdf.internal.getFont(Et[Di],li,{noFallback:!0,disableWarning:!0})){fi=Et[Di];break}if("bolditalic"===li&&void 0!==this.pdf.internal.getFont(Et[Di],"bold",{noFallback:!0,disableWarning:!0}))fi=Et[Di],li="bold";else if(void 0!==this.pdf.internal.getFont(Et[Di],"normal",{noFallback:!0,disableWarning:!0})){fi=Et[Di],li="normal";break}}if(""===fi)for(var Li=0;Li<Et.length;Li++)if(vi[Et[Li]]){fi=vi[Et[Li]];break}this.pdf.setFont(fi=""===fi?"Times":fi,li)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(at){this.ctx.globalCompositeOperation=at}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(at){this.ctx.globalAlpha=at}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(at){this.ctx.lineDashOffset=at,Ft.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(at){this.ctx.lineDash=at,Ft.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(at){this.ctx.ignoreClearRect=Boolean(at)}})};F.prototype.setLineDash=function(P){this.lineDash=P},F.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},F.prototype.fill=function(){qe.call(this,"fill",!1)},F.prototype.stroke=function(){qe.call(this,"stroke",!1)},F.prototype.beginPath=function(){this.path=[{type:"begin"}]},F.prototype.moveTo=function(P,te){if(isNaN(P)||isNaN(te))throw Pi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var pe=this.ctx.transform.applyToPoint(new p(P,te));this.path.push({type:"mt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new p(P,te)},F.prototype.closePath=function(){var P=new p(0,0),te=0;for(te=this.path.length-1;-1!==te;te--)if("begin"===this.path[te].type&&"object"===(0,It.Z)(this.path[te+1])&&"number"==typeof this.path[te+1].x){P=new p(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new p(P.x,P.y)},F.prototype.lineTo=function(P,te){if(isNaN(P)||isNaN(te))throw Pi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var pe=this.ctx.transform.applyToPoint(new p(P,te));this.path.push({type:"lt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new p(pe.x,pe.y)},F.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),qe.call(this,null,!0)},F.prototype.quadraticCurveTo=function(P,te,pe,ke){if(isNaN(pe)||isNaN(ke)||isNaN(P)||isNaN(te))throw Pi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Re=this.ctx.transform.applyToPoint(new p(pe,ke)),He=this.ctx.transform.applyToPoint(new p(P,te));this.path.push({type:"qct",x1:He.x,y1:He.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new p(Re.x,Re.y)},F.prototype.bezierCurveTo=function(P,te,pe,ke,Re,He){if(isNaN(Re)||isNaN(He)||isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke))throw Pi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ge=this.ctx.transform.applyToPoint(new p(Re,He)),Qe=this.ctx.transform.applyToPoint(new p(P,te)),At=this.ctx.transform.applyToPoint(new p(pe,ke));this.path.push({type:"bct",x1:Qe.x,y1:Qe.y,x2:At.x,y2:At.y,x:Ge.x,y:Ge.y}),this.ctx.lastPoint=new p(Ge.x,Ge.y)},F.prototype.arc=function(P,te,pe,ke,Re,He){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke)||isNaN(Re))throw Pi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(He=Boolean(He),!this.ctx.transform.isIdentity){var Ge=this.ctx.transform.applyToPoint(new p(P,te));P=Ge.x,te=Ge.y;var Qe=this.ctx.transform.applyToPoint(new p(0,pe)),At=this.ctx.transform.applyToPoint(new p(0,0));pe=Math.sqrt(Math.pow(Qe.x-At.x,2)+Math.pow(Qe.y-At.y,2))}Math.abs(Re-ke)>=2*Math.PI&&(ke=0,Re=2*Math.PI),this.path.push({type:"arc",x:P,y:te,radius:pe,startAngle:ke,endAngle:Re,counterclockwise:He})},F.prototype.arcTo=function(P,te,pe,ke,Re){throw new Error("arcTo not implemented.")},F.prototype.rect=function(P,te,pe,ke){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke))throw Pi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,te),this.lineTo(P+pe,te),this.lineTo(P+pe,te+ke),this.lineTo(P,te+ke),this.lineTo(P,te),this.lineTo(P+pe,te),this.lineTo(P,te)},F.prototype.fillRect=function(P,te,pe,ke){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke))throw Pi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var Re={};"butt"!==this.lineCap&&(Re.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(Re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,te,pe,ke),this.fill(),Re.hasOwnProperty("lineCap")&&(this.lineCap=Re.lineCap),Re.hasOwnProperty("lineJoin")&&(this.lineJoin=Re.lineJoin)}},F.prototype.strokeRect=function(P,te,pe,ke){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke))throw Pi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");X.call(this)||(this.beginPath(),this.rect(P,te,pe,ke),this.stroke())},F.prototype.clearRect=function(P,te,pe,ke){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke))throw Pi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,te,pe,ke))},F.prototype.save=function(P){P="boolean"!=typeof P||P;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ke=new k(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ke}},F.prototype.restore=function(P){P="boolean"!=typeof P||P;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("Q");this.pdf.setPage(te),P&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},F.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var O=function(P){var te,pe,ke,Re;if(!0===P.isCanvasGradient&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))te=0,pe=0,ke=0,Re=0;else{var He=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(null!==He)te=parseInt(He[1]),pe=parseInt(He[2]),ke=parseInt(He[3]),Re=1;else if(null!==(He=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P)))te=parseInt(He[1]),pe=parseInt(He[2]),ke=parseInt(He[3]),Re=parseFloat(He[4]);else{if(Re=1,"string"==typeof P&&"#"!==P.charAt(0)){var Ge=new Ls(P);P=Ge.ok?Ge.toHex():"#000000"}4===P.length?(te=P.substring(1,2),te+=te,pe=P.substring(2,3),pe+=pe,ke=P.substring(3,4),ke+=ke):(te=P.substring(1,3),pe=P.substring(3,5),ke=P.substring(5,7)),te=parseInt(te,16),pe=parseInt(pe,16),ke=parseInt(ke,16)}}return{r:te,g:pe,b:ke,a:Re,style:P}},y=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},X=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};F.prototype.fillText=function(P,te,pe,ke){if(isNaN(te)||isNaN(pe)||"string"!=typeof P)throw Pi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ke=isNaN(ke)?void 0:ke,!y.call(this)){var Re=Ve(this.ctx.transform.rotation);H.call(this,{text:P,x:te,y:pe,scale:this.ctx.transform.scaleX,angle:Re,align:this.textAlign,maxWidth:ke})}},F.prototype.strokeText=function(P,te,pe,ke){if(isNaN(te)||isNaN(pe)||"string"!=typeof P)throw Pi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!X.call(this)){ke=isNaN(ke)?void 0:ke;var Re=Ve(this.ctx.transform.rotation);H.call(this,{text:P,x:te,y:pe,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:Re,align:this.textAlign,maxWidth:ke})}},F.prototype.measureText=function(P){if("string"!=typeof P)throw Pi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,pe=this.pdf.internal.scaleFactor,ke=te.internal.getFontSize(),Re=te.getStringUnitWidth(P)*ke/te.internal.scaleFactor;return new function(Ge){var Qe=(Ge=Ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qe}}),this}({width:Re*=Math.round(96*pe/72*1e4)/1e4})},F.prototype.scale=function(P,te){if(isNaN(P)||isNaN(te))throw Pi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var pe=new g(P,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(pe)},F.prototype.rotate=function(P){if(isNaN(P))throw Pi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new g(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},F.prototype.translate=function(P,te){if(isNaN(P)||isNaN(te))throw Pi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var pe=new g(1,0,0,1,P,te);this.ctx.transform=this.ctx.transform.multiply(pe)},F.prototype.transform=function(P,te,pe,ke,Re,He){if(isNaN(P)||isNaN(te)||isNaN(pe)||isNaN(ke)||isNaN(Re)||isNaN(He))throw Pi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ge=new g(P,te,pe,ke,Re,He);this.ctx.transform=this.ctx.transform.multiply(Ge)},F.prototype.setTransform=function(P,te,pe,ke,Re,He){P=isNaN(P)?1:P,te=isNaN(te)?0:te,pe=isNaN(pe)?0:pe,ke=isNaN(ke)?1:ke,Re=isNaN(Re)?0:Re,He=isNaN(He)?0:He,this.ctx.transform=new g(P,te,pe,ke,Re,He)};var z=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};F.prototype.drawImage=function(P,te,pe,ke,Re,He,Ge,Qe,At){var Ct=this.pdf.getImageProperties(P),jt=1,Zt=1,ti=1,at=1;void 0!==ke&&void 0!==Qe&&(ti=Qe/ke,at=At/Re,jt=Ct.width/ke*Qe/ke,Zt=Ct.height/Re*At/Re),void 0===He&&(He=te,Ge=pe,te=0,pe=0),void 0!==ke&&void 0===Qe&&(Qe=ke,At=Re),void 0===ke&&void 0===Qe&&(Qe=Ct.width,At=Ct.height);for(var fe,hi=this.ctx.transform.decompose(),Ht=Ve(hi.rotate.shx),Dt=new g,Mt=(Dt=(Dt=(Dt=Dt.multiply(hi.translate)).multiply(hi.skew)).multiply(hi.scale)).applyToRectangle(new m(He-te*ti,Ge-pe*at,ke*jt,Re*Zt)),Ut=re.call(this,Mt),Et=[],Gt=0;Gt<Ut.length;Gt+=1)-1===Et.indexOf(Ut[Gt])&&Et.push(Ut[Gt]);if(Ne(Et),this.autoPaging)for(var li=Et[0],fi=Et[Et.length-1],vi=li;vi<fi+1;vi++){this.pdf.setPage(vi);var Di=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Li=1===vi?this.posY+this.margin[0]:this.margin[0],yi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=1===vi?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(vi-2)*yi;if(0!==this.ctx.clip_path.length){var _n=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(fe,this.posX+this.margin[3],-qt+Li+this.ctx.prevPageLastElemOffset),$e.call(this,"fill",!0),this.path=_n}var Ci=JSON.parse(JSON.stringify(Mt));Ci=$([Ci],this.posX+this.margin[3],-qt+Li+this.ctx.prevPageLastElemOffset)[0];var Bn=(vi>li||vi<fi)&&z.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Di,yi,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ci.x,Ci.y,Ci.w,Ci.h,null,null,Ht),Bn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,Ht)};var re=function(P,te,pe){var ke=[];te=te||this.pdf.internal.pageSize.width,pe=pe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Re=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ke.push(Math.floor((P.y+Re)/pe)+1);break;case"arc":ke.push(Math.floor((P.y+Re-P.radius)/pe)+1),ke.push(Math.floor((P.y+Re+P.radius)/pe)+1);break;case"qct":var He=dt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ke.push(Math.floor((He.y+Re)/pe)+1),ke.push(Math.floor((He.y+He.h+Re)/pe)+1);break;case"bct":var Ge=st(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ke.push(Math.floor((Ge.y+Re)/pe)+1),ke.push(Math.floor((Ge.y+Ge.h+Re)/pe)+1);break;case"rect":ke.push(Math.floor((P.y+Re)/pe)+1),ke.push(Math.floor((P.y+P.h+Re)/pe)+1)}for(var Qe=0;Qe<ke.length;Qe+=1)for(;this.pdf.internal.getNumberOfPages()<ke[Qe];)Z.call(this);return ke},Z=function(){var P=this.fillStyle,te=this.strokeStyle,pe=this.font,ke=this.lineCap,Re=this.lineWidth,He=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=te,this.font=pe,this.lineCap=ke,this.lineWidth=Re,this.lineJoin=He},$=function(P,te,pe){for(var ke=0;ke<P.length;ke++)switch(P[ke].type){case"bct":P[ke].x2+=te,P[ke].y2+=pe;case"qct":P[ke].x1+=te,P[ke].y1+=pe;default:P[ke].x+=te,P[ke].y+=pe}return P},Ne=function(P){return P.sort(function(te,pe){return te-pe})},qe=function(P,te){for(var pe,ke,Re=this.fillStyle,He=this.strokeStyle,Ge=this.lineCap,Qe=this.lineWidth,At=Math.abs(Qe*this.ctx.transform.scaleX),Ct=this.lineJoin,jt=JSON.parse(JSON.stringify(this.path)),Zt=JSON.parse(JSON.stringify(this.path)),ti=[],at=0;at<Zt.length;at++)if(void 0!==Zt[at].x)for(var fe=re.call(this,Zt[at]),hi=0;hi<fe.length;hi+=1)-1===ti.indexOf(fe[hi])&&ti.push(fe[hi]);for(var Ht=0;Ht<ti.length;Ht++)for(;this.pdf.internal.getNumberOfPages()<ti[Ht];)Z.call(this);if(Ne(ti),this.autoPaging)for(var Dt=ti[0],Mt=ti[ti.length-1],Ut=Dt;Ut<Mt+1;Ut++){this.pdf.setPage(Ut),this.fillStyle=Re,this.strokeStyle=He,this.lineCap=Ge,this.lineWidth=At,this.lineJoin=Ct;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gt=1===Ut?this.posY+this.margin[0]:this.margin[0],fi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vi=1===Ut?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ut-2)*fi;if(0!==this.ctx.clip_path.length){var Di=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(pe,this.posX+this.margin[3],-vi+Gt+this.ctx.prevPageLastElemOffset),$e.call(this,P,!0),this.path=Di}if(ke=JSON.parse(JSON.stringify(jt)),this.path=$(ke,this.posX+this.margin[3],-vi+Gt+this.ctx.prevPageLastElemOffset),!1===te||0===Ut){var Li=(Ut>Dt||Ut<Mt)&&z.call(this);Li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,fi,null).clip().discardPath()),$e.call(this,P,te),Li&&this.pdf.restoreGraphicsState()}this.lineWidth=Qe}else this.lineWidth=At,$e.call(this,P,te),this.lineWidth=Qe;this.path=jt},$e=function(P,te){if(("stroke"!==P||te||!X.call(this))&&("stroke"===P||te||!y.call(this))){for(var pe,ke,Re=[],He=this.path,Ge=0;Ge<He.length;Ge++){var Qe=He[Ge];switch(Qe.type){case"begin":Re.push({begin:!0});break;case"close":Re.push({close:!0});break;case"mt":Re.push({start:Qe,deltas:[],abs:[]});break;case"lt":var At=Re.length;if(He[Ge-1]&&!isNaN(He[Ge-1].x)&&(pe=[Qe.x-He[Ge-1].x,Qe.y-He[Ge-1].y],At>0))for(;At>=0;At--)if(!0!==Re[At-1].close&&!0!==Re[At-1].begin){Re[At-1].deltas.push(pe),Re[At-1].abs.push(Qe);break}break;case"bct":Re[Re.length-1].deltas.push(pe=[Qe.x1-He[Ge-1].x,Qe.y1-He[Ge-1].y,Qe.x2-He[Ge-1].x,Qe.y2-He[Ge-1].y,Qe.x-He[Ge-1].x,Qe.y-He[Ge-1].y]);break;case"qct":Re[Re.length-1].deltas.push(pe=[He[Ge-1].x+2/3*(Qe.x1-He[Ge-1].x)-He[Ge-1].x,He[Ge-1].y+2/3*(Qe.y1-He[Ge-1].y)-He[Ge-1].y,Qe.x+2/3*(Qe.x1-Qe.x)-He[Ge-1].x,Qe.y+2/3*(Qe.y1-Qe.y)-He[Ge-1].y,Qe.x-He[Ge-1].x,Qe.y-He[Ge-1].y]);break;case"arc":Re.push({deltas:[],abs:[],arc:!0}),Array.isArray(Re[Re.length-1].abs)&&Re[Re.length-1].abs.push(Qe)}}ke=te?null:"stroke"===P?"stroke":"fill";for(var hi=!1,Ht=0;Ht<Re.length;Ht++)if(Re[Ht].arc)for(var Dt=Re[Ht].abs,Mt=0;Mt<Dt.length;Mt++){var Ut=Dt[Mt];"arc"===Ut.type?ve.call(this,Ut.x,Ut.y,Ut.radius,Ut.startAngle,Ut.endAngle,Ut.counterclockwise,void 0,te,!hi):Ae.call(this,Ut.x,Ut.y),hi=!0}else!0===Re[Ht].close?(this.pdf.internal.out("h"),hi=!1):!0!==Re[Ht].begin&&(be.call(this,Re[Ht].deltas,Re[Ht].start.x,Re[Ht].start.y),hi=!0);ke&&ct.call(this,ke),te&&lt.call(this)}},vt=function(P){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,pe=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-pe;case"top":return P+te-pe;case"hanging":return P+te-2*pe;case"middle":return P+te/2-pe;default:return P}},ze=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};F.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(te,pe){this.colorStops.push([te,pe])},P.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},F.prototype.createPattern=function(){return this.createLinearGradient()},F.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ve=function(P,te,pe,ke,Re,He,Ge,Qe,At){for(var Ct=Je.call(this,pe,ke,Re,He),jt=0;jt<Ct.length;jt++){var Zt=Ct[jt];0===jt&&(At?W.call(this,Zt.x1+P,Zt.y1+te):Ae.call(this,Zt.x1+P,Zt.y1+te)),et.call(this,P,te,Zt.x2,Zt.y2,Zt.x3,Zt.y3,Zt.x4,Zt.y4)}Qe?lt.call(this):ct.call(this,Ge)},ct=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},lt=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(P,te){this.pdf.internal.out(r(P)+" "+s(te)+" m")},H=function(P){var te;switch(P.align){case"right":case"end":te="right";break;case"center":te="center";break;default:te="left"}var pe=this.pdf.getTextDimensions(P.text),ke=vt.call(this,P.y),Re=ze.call(this,ke)-pe.h,He=this.ctx.transform.applyToPoint(new p(P.x,ke)),Ge=this.ctx.transform.decompose(),Qe=new g;Qe=(Qe=(Qe=Qe.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var At,Ct,jt,Zt=this.ctx.transform.applyToRectangle(new m(P.x,ke,pe.w,pe.h)),ti=Qe.applyToRectangle(new m(P.x,Re,pe.w,pe.h)),at=re.call(this,ti),fe=[],hi=0;hi<at.length;hi+=1)-1===fe.indexOf(at[hi])&&fe.push(at[hi]);if(Ne(fe),this.autoPaging)for(var Ht=fe[0],Dt=fe[fe.length-1],Mt=Ht;Mt<Dt+1;Mt++){this.pdf.setPage(Mt);var Ut=1===Mt?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.margin[2],li=Gt-this.margin[0],fi=this.pdf.internal.pageSize.width-this.margin[1],vi=fi-this.margin[3],Di=1===Mt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Mt-2)*li;if(0!==this.ctx.clip_path.length){var Li=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(At,this.posX+this.margin[3],-1*Di+Ut),$e.call(this,"fill",!0),this.path=Li}var ni=$([JSON.parse(JSON.stringify(ti))],this.posX+this.margin[3],-Di+Ut+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ct=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ct*P.scale),this.lineWidth=(jt=this.lineWidth)*P.scale);var yi="text"!==this.autoPaging;if(yi||ni.y+ni.h<=Gt){if(yi||ni.y>=Ut&&ni.x<=fi){var qt=yi?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||fi-ni.x)[0],_n=$([JSON.parse(JSON.stringify(Zt))],this.posX+this.margin[3],-Di+Ut+this.ctx.prevPageLastElemOffset)[0],Ci=yi&&(Mt>Ht||Mt<Dt)&&z.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vi,li,null).clip().discardPath()),this.pdf.text(qt,_n.x,_n.y,{angle:P.angle,align:te,renderingMode:P.renderingMode}),Ci&&this.pdf.restoreGraphicsState()}}else ni.y<Gt&&(this.ctx.prevPageLastElemOffset+=Gt-ni.y);P.scale>=.01&&(this.pdf.setFontSize(Ct),this.lineWidth=jt)}else P.scale>=.01&&(Ct=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ct*P.scale),this.lineWidth=(jt=this.lineWidth)*P.scale),this.pdf.text(P.text,He.x+this.posX,He.y+this.posY,{angle:P.angle,align:te,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ct),this.lineWidth=jt)},Ae=function(P,te,pe,ke){ke=ke||0,this.pdf.internal.out(r(P+(pe=pe||0))+" "+s(te+ke)+" l")},be=function(P,te,pe){return this.pdf.lines(P,te,pe,null,null)},et=function(P,te,pe,ke,Re,He,Ge,Qe){this.pdf.internal.out([i(d(pe+P)),i(c(ke+te)),i(d(Re+P)),i(c(He+te)),i(d(Ge+P)),i(c(Qe+te)),"c"].join(" "))},Je=function(P,te,pe,ke){for(var Re=2*Math.PI,He=Math.PI/2;te>pe;)te-=Re;var Ge=Math.abs(pe-te);Ge<Re&&ke&&(Ge=Re-Ge);for(var Qe=[],At=ke?-1:1,Ct=te;Ge>1e-5;){var jt=Ct+At*Math.min(Ge,He);Qe.push(ot.call(this,P,Ct,jt)),Ge-=Math.abs(jt-Ct),Ct=jt}return Qe},ot=function(P,te,pe){var ke=(pe-te)/2,Re=P*Math.cos(ke),He=P*Math.sin(ke),Ge=Re,Qe=-He,At=Ge*Ge+Qe*Qe,Ct=At+Ge*Re+Qe*He,jt=4/3*(Math.sqrt(2*At*Ct)-Ct)/(Ge*He-Qe*Re),Zt=Ge-jt*Qe,ti=Qe+jt*Ge,at=Zt,fe=-ti,hi=ke+te,Ht=Math.cos(hi),Dt=Math.sin(hi);return{x1:P*Math.cos(te),y1:P*Math.sin(te),x2:Zt*Ht-ti*Dt,y2:Zt*Dt+ti*Ht,x3:at*Ht-fe*Dt,y3:at*Dt+fe*Ht,x4:P*Math.cos(pe),y4:P*Math.sin(pe)}},Ve=function(P){return 180*P/Math.PI},dt=function(P,te,pe,ke,Re,He){var Ge=P+.5*(pe-P),Qe=te+.5*(ke-te),At=Re+.5*(pe-Re),Ct=He+.5*(ke-He),jt=Math.min(P,Re,Ge,At),Zt=Math.max(P,Re,Ge,At),ti=Math.min(te,He,Qe,Ct),at=Math.max(te,He,Qe,Ct);return new m(jt,ti,Zt-jt,at-ti)},st=function(P,te,pe,ke,Re,He,Ge,Qe){var At,Ct,jt,Zt,ti,at,fe,hi,Ht,Dt,Mt,Ut,Et,Gt,li=pe-P,fi=ke-te,vi=Re-pe,Di=He-ke,Li=Ge-Re,ni=Qe-He;for(Ct=0;Ct<41;Ct++)Ht=(fe=(jt=P+(At=Ct/40)*li)+At*((ti=pe+At*vi)-jt))+At*(ti+At*(Re+At*Li-ti)-fe),Dt=(hi=(Zt=te+At*fi)+At*((at=ke+At*Di)-Zt))+At*(at+At*(He+At*ni-at)-hi),0==Ct?(Mt=Ht,Ut=Dt,Et=Ht,Gt=Dt):(Mt=Math.min(Mt,Ht),Ut=Math.min(Ut,Dt),Et=Math.max(Et,Ht),Gt=Math.max(Gt,Dt));return new m(Math.round(Mt),Math.round(Ut),Math.round(Et-Mt),Math.round(Gt-Ut))},Ft=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var pe=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==pe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=pe)}}})(Jt.API),
/**
       * @license
       * jsPDF filters PlugIn
       * Copyright (c) 2014 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i=function(c){var p,m,g,D,k,F,O,y,X,z;for(/[^\x00-\xFF]/.test(c),m=[],g=0,D=(c+=p="\0\0\0\0".slice(c.length%4||4)).length;D>g;g+=4)0!==(k=(c.charCodeAt(g)<<24)+(c.charCodeAt(g+1)<<16)+(c.charCodeAt(g+2)<<8)+c.charCodeAt(g+3))?(F=(k=((k=((k=((k=(k-(z=k%85))/85)-(X=k%85))/85)-(y=k%85))/85)-(O=k%85))/85)%85,m.push(F+33,O+33,y+33,X+33,z+33)):m.push(122);return function(re,Z){for(var $=Z;$>0;$--)re.pop()}(m,p.length),String.fromCharCode.apply(String,m)+"~>"},r=function(c){var p,m,g,D,k,F=String,O="length",y=255,X="charCodeAt",z="slice",re="replace";for(c[z](-2),c=c[z](0,-2)[re](/\s/g,"")[re]("z","!!!!!"),g=[],D=0,k=(c+=p="uuuuu"[z](c[O]%5||5))[O];k>D;D+=5)m=52200625*(c[X](D)-33)+614125*(c[X](D+1)-33)+7225*(c[X](D+2)-33)+85*(c[X](D+3)-33)+(c[X](D+4)-33),g.push(y&m>>24,y&m>>16,y&m>>8,y&m);return function(Z,$){for(var Ne=$;Ne>0;Ne--)Z.pop()}(g,p[O]),F.fromCharCode.apply(F,g)},s=function(c){var p=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(c=c.replace(/\s/g,"")).indexOf(">")&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),!1===p.test(c))return"";for(var m="",g=0;g<c.length;g+=2)m+=String.fromCharCode("0x"+(c[g]+c[g+1]));return m},d=function(c){for(var p=new Uint8Array(c.length),m=c.length;m--;)p[m]=c.charCodeAt(m);return(p=Mr(p)).reduce(function(g,D){return g+String.fromCharCode(D)},"")};o.processDataByFilters=function(c,p){var m=0,g=c||"",D=[];for("string"==typeof(p=p||[])&&(p=[p]),m=0;m<p.length;m+=1)switch(p[m]){case"ASCII85Decode":case"/ASCII85Decode":g=r(g),D.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=i(g),D.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=s(g),D.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map(function(k){return("0"+k.charCodeAt().toString(16)).slice(-2)}).join("")+">",D.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=d(g),D.push("/FlateDecode");break;default:throw new Error('The filter: "'+p[m]+'" is not implemented')}return{data:g,reverseChain:D.reverse().join(" ")}}}(Jt.API),
/**
       * @license
       * jsPDF fileloading PlugIn
       * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){o.loadFile=function(i,r,s){return function(d,c,p){c=!1!==c,p="function"==typeof p?p:function(){};var m=void 0;try{m=function(g,D,k){var F=new XMLHttpRequest,O=0,y=function(X){var z=X.length,re=[],Z=String.fromCharCode;for(O=0;O<z;O+=1)re.push(Z(255&X.charCodeAt(O)));return re.join("")};if(F.open("GET",g,!D),F.overrideMimeType("text/plain; charset=x-user-defined"),!1===D&&(F.onload=function(){k(200===F.status?y(this.responseText):void 0)}),F.send(null),D&&200===F.status)return y(F.responseText)}(d,c,p)}catch{}return m}(i,r,s)},o.loadImageFile=o.loadFile}(Jt.API),function(o){function i(){return($t.html2canvas?Promise.resolve($t.html2canvas):Pt.e(159).then(Pt.t.bind(Pt,4159,23))).catch(function(p){return Promise.reject(new Error("Could not load html2canvas: "+p))}).then(function(p){return p.default?p.default:p})}function r(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):Pt.e(735).then(Pt.t.bind(Pt,2735,23))).catch(function(p){return Promise.reject(new Error("Could not load dompurify: "+p))}).then(function(p){return p.default?p.default:p})}var s=function(p){var m=(0,It.Z)(p);return"undefined"===m?"undefined":"string"===m||p instanceof String?"string":"number"===m||p instanceof Number?"number":"function"===m||p instanceof Function?"function":p&&p.constructor===Array?"array":p&&1===p.nodeType?"element":"object"===m?"object":"unknown"},d=function(p,m){var g=document.createElement(p);for(var D in m.className&&(g.className=m.className),m.innerHTML&&m.dompurify&&(g.innerHTML=m.dompurify.sanitize(m.innerHTML)),m.style)g.style[D]=m.style[D];return g},c=function p(m){var g=Object.assign(p.convert(Promise.resolve()),JSON.parse(JSON.stringify(p.template))),D=p.convert(Promise.resolve(),g);return(D=D.setProgress(1,p,1,[p])).set(m)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(p,m){return p.__proto__=m||c.prototype,p},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(p,m){return this.then(function(){switch(m=m||function(g){switch(s(g)){case"string":return"string";case"element":return"canvas"===g.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(p)){case"string":return this.then(r).then(function(g){return this.set({src:d("div",{innerHTML:p,dompurify:g})})});case"element":return this.set({src:p});case"canvas":return this.set({canvas:p});case"img":return this.set({img:p});default:return this.error("Unknown source type.")}})},c.prototype.to=function(p){switch(p){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var p={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},m=function g(D,k){for(var F=3===D.nodeType?document.createTextNode(D.nodeValue):D.cloneNode(!1),O=D.firstChild;O;O=O.nextSibling)!0!==k&&1===O.nodeType&&"SCRIPT"===O.nodeName||F.appendChild(g(O,k));return 1===D.nodeType&&("CANVAS"===D.nodeName?(F.width=D.width,F.height=D.height,F.getContext("2d").drawImage(D,0,0)):"TEXTAREA"!==D.nodeName&&"SELECT"!==D.nodeName||(F.value=D.value),F.addEventListener("load",function(){F.scrollTop=D.scrollTop,F.scrollLeft=D.scrollLeft},!0)),F}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===m.tagName&&(p.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:p}),this.prop.container.appendChild(m),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(m){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,m(this.prop.container,g)}).then(function(m){(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(m){var g=this.opt.jsPDF,D=this.opt.fontFaces,k="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,F=Object.assign({async:!0,allowTaint:!0,scale:k,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete F.onrendered,g.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=D,D)for(var O=0;O<D.length;++O){var y=D[O],X=y.src.find(function(z){return"truetype"===z.format});X&&g.addFont(X.url,y.ref.name,y.ref.style)}return F.windowHeight=F.windowHeight||0,F.windowHeight=0==F.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):F.windowHeight,g.context2d.save(!0),m(this.prop.container,F)}).then(function(m){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var p=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=p})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(p,m,g){return"img"===(g=g||"pdf").toLowerCase()||"image"===g.toLowerCase()?this.outputImg(p,m):this.outputPdf(p,m)},c.prototype.outputPdf=function(p,m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(p,m)})},c.prototype.outputImg=function(p){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(p){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+p+'" is not supported.'}})},c.prototype.save=function(p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(p?{filename:p}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(p){if("object"!==s(p))return this;var m=Object.keys(p||{}).map(function(g){if(g in c.template.prop)return function(){this.prop[g]=p[g]};switch(g){case"margin":return this.setMargin.bind(this,p.margin);case"jsPDF":return function(){return this.opt.jsPDF=p.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,p.pageSize);default:return function(){this.opt[g]=p[g]}}},this);return this.then(function(){return this.thenList(m)})},c.prototype.get=function(p,m){return this.then(function(){var g=p in c.template.prop?this.prop[p]:this.opt[p];return m?m(g):g})},c.prototype.setMargin=function(p){return this.then(function(){switch(s(p)){case"number":p=[p,p,p,p];case"array":if(2===p.length&&(p=[p[0],p[1],p[0],p[1]]),4===p.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=p}).then(this.setPageSize)},c.prototype.setPageSize=function(p){function m(g,D){return Math.floor(g*D/72*96)}return this.then(function(){(p=p||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(p.inner={width:p.width-this.opt.margin[1]-this.opt.margin[3],height:p.height-this.opt.margin[0]-this.opt.margin[2]},p.inner.px={width:m(p.inner.width,p.k),height:m(p.inner.height,p.k)},p.inner.ratio=p.inner.height/p.inner.width),this.prop.pageSize=p})},c.prototype.setProgress=function(p,m,g,D){return null!=p&&(this.progress.val=p),null!=m&&(this.progress.state=m),null!=g&&(this.progress.n=g),null!=D&&(this.progress.stack=D),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(p,m,g,D){return this.setProgress(p?this.progress.val+p:null,m||null,g?this.progress.n+g:null,D?this.progress.stack.concat(D):null)},c.prototype.then=function(p,m){var g=this;return this.thenCore(p,m,function(D,k){return g.updateProgress(null,null,1,[D]),Promise.prototype.then.call(this,function(F){return g.updateProgress(null,D),F}).then(D,k).then(function(F){return g.updateProgress(1),F})})},c.prototype.thenCore=function(p,m,g){g=g||Promise.prototype.then,p&&(p=p.bind(this)),m&&(m=m.bind(this));var D=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:c.convert(Object.assign({},this),Promise.prototype),k=g.call(D,p,m);return c.convert(k,this.__proto__)},c.prototype.thenExternal=function(p,m){return Promise.prototype.then.call(this,p,m)},c.prototype.thenList=function(p){var m=this;return p.forEach(function(g){m=m.thenCore(g)}),m},c.prototype.catch=function(p){p&&(p=p.bind(this));var m=Promise.prototype.catch.call(this,p);return c.convert(m,this)},c.prototype.catchExternal=function(p){return Promise.prototype.catch.call(this,p)},c.prototype.error=function(p){return this.then(function(){throw new Error(p)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Jt.getPageSize=function(p,m,g){if("object"===(0,It.Z)(p)){var D=p;p=D.orientation,m=D.unit||m,g=D.format||g}m=m||"mm",g=g||"a4",p=(""+(p||"P")).toLowerCase();var k,F=(""+g).toLowerCase(),O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=.75;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+m}var y,X=0,z=0;if(O.hasOwnProperty(F))X=O[F][1]/k,z=O[F][0]/k;else try{X=g[1],z=g[0]}catch{throw new Error("Invalid format: "+g)}if("p"===p||"portrait"===p)p="p",z>X&&(y=z,z=X,X=y);else{if("l"!==p&&"landscape"!==p)throw"Invalid orientation: "+p;p="l",X>z&&(y=z,z=X,X=y)}return{width:z,height:X,unit:m,k,orientation:p}},o.html=function(p,m){(m=m||{}).callback=m.callback||function(){},m.html2canvas=m.html2canvas||{},m.html2canvas.canvas=m.html2canvas.canvas||this.canvas,m.jsPDF=m.jsPDF||this,m.fontFaces=m.fontFaces?m.fontFaces.map(Yo):null;var g=new c(m);return m.worker?g:g.from(p).doCallback()}}(Jt.API),Jt.API.addJS=function(o){return Qs=o,this.internal.events.subscribe("postPutResources",function(){oo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(oo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Js=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Qs+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==oo&&void 0!==Js&&this.internal.out("/Names <</JavaScript "+oo+" 0 R>>")}),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i;o.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=r.outline.render().split(/\r\n/),c=0;c<d.length;c++){var p=d[c],m=s.exec(p);null!=m&&r.internal.newObjectDeferredBegin(m[1],!1),r.internal.write(p)}if(this.outline.createNamedDestinations){var D=this.internal.pages.length,k=[];for(c=0;c<D;c++){var F=r.internal.newObject();k.push(F);var O=r.internal.getPageInfo(c+1);r.internal.write("<< /D["+O.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),c=0;c<k.length;c++)r.internal.write("(page_"+(c+1)+")"+k[c]+" 0 R");r.internal.write(" ] >>","endobj"),i=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),o.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),o.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,d,c){var p={title:d,options:c,children:[]};return null==s&&(s=this.root),s.children.push(p),p},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var d=0;d<s.children.length;d++)this.genIds_r(s.children[d])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<s.children.length;c++){var p=s.children[c];this.objStart(p),this.line("/Title "+this.makeString(p.title)),this.line("/Parent "+this.makeRef(s)),c>0&&this.line("/Prev "+this.makeRef(s.children[c-1])),c<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[c+1])),p.children.length>0&&(this.line("/First "+this.makeRef(p.children[0])),this.line("/Last "+this.makeRef(p.children[p.children.length-1])));var m=this.count=this.count_r({count:0},p);if(m>0&&this.line("/Count "+m),p.options&&p.options.pageNumber){var g=r.internal.getPageInfo(p.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var D=0;D<s.children.length;D++)this.renderItems(s.children[D])},r.outline.line=function(s){this.ctx.val+=s+"\r\n"},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+="\r\n"+s.id+" 0 obj\r\n<<\r\n"},r.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},r.outline.count_r=function(s,d){for(var c=0;c<d.children.length;c++)s.count++,this.count_r(s,d.children[c]);return s.count}}])}(Jt.API),
/**
       * @license
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i=[192,193,194,195,196,197,198,199];o.processJPEG=function(r,s,d,c,p,m){var g,D=this.decode.DCT_DECODE,k=null;if("string"==typeof r||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=this.__addimage__.isArrayBuffer(r=p||r)?new Uint8Array(r):r,(g=function(F){for(var O,y=256*F.charCodeAt(4)+F.charCodeAt(5),X=F.length,z={width:0,height:0,numcomponents:1},re=4;re<X;re+=2){if(-1!==i.indexOf(F.charCodeAt((re+=y)+1))){O=256*F.charCodeAt(re+5)+F.charCodeAt(re+6),z={width:256*F.charCodeAt(re+7)+F.charCodeAt(re+8),height:O,numcomponents:F.charCodeAt(re+9)};break}y=256*F.charCodeAt(re+2)+F.charCodeAt(re+3)}return z}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:m=this.color_spaces.DEVICE_GRAY;break;case 4:m=this.color_spaces.DEVICE_CMYK;break;case 3:m=this.color_spaces.DEVICE_RGB}k={data:r,width:g.width,height:g.height,colorSpace:m,bitsPerComponent:8,filter:D,index:s,alias:d}}return k}}(Jt.API);var cr,so,Xs,$s,Ks,oc=function(){var o,i,r;function s(c){var p,g,D,k,F,O,y,X,z,re,Z,$,Ne;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},F=null;;){switch(p=this.readUInt32(),X=function(){var qe,$e;for($e=[],qe=0;qe<4;++qe)$e.push(String.fromCharCode(this.data[this.pos++]));return $e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(p);break;case"fcTL":F&&this.animation.frames.push(F),this.pos+=4,F={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},k=this.readUInt16(),D=this.readUInt16()||100,F.delay=1e3*k/D,F.disposeOp=this.data[this.pos++],F.blendOp=this.data[this.pos++],F.data=[];break;case"IDAT":case"fdAT":for("fdAT"===X&&(this.pos+=4,p-=4),c=F?.data||this.imgData,Z=0;0<=p?Z<p:Z>p;0<=p?++Z:--Z)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(p),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((z=g-this.transparency.indexed.length)>0)for($=0;0<=z?$<z:$>z;0<=z?++$:--$)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(p)[0];break;case 2:this.transparency.rgb=this.read(p)}break;case"tEXt":O=(re=this.read(p)).indexOf(0),y=String.fromCharCode.apply(String,re.slice(0,O)),this.text[y]=String.fromCharCode.apply(String,re.slice(O+1));break;case"IEND":return F&&this.animation.frames.push(F),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Ne=this.colorType)||6===Ne,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=p}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(c){var p,m;for(m=[],p=0;0<=c?p<c:p>c;0<=c?++p:--p)m.push(this.data[this.pos++]);return m},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(c){var p=this.pixelBitlength/8,m=new Uint8Array(this.width*this.height*p),g=0,D=this;if(null==c&&(c=this.imgData),0===c.length)return new Uint8Array(0);function k(F,O,y,X){var z,re,Z,$,Ne,qe,$e,vt,ve,ct,lt,W,H,Ae,be,et,Je,ot,Ve,dt,st=Math.ceil((D.width-F)/y),Ft=Math.ceil((D.height-O)/X),P=D.width==st&&D.height==Ft;for(H=p*st,lt=P?m:new Uint8Array(H*Ft),qe=c.length,W=0,re=0;W<Ft&&g<qe;){switch(c[g++]){case 0:for($=et=0;et<H;$=et+=1)lt[re++]=c[g++];break;case 1:for($=Je=0;Je<H;$=Je+=1)z=c[g++],Ne=$<p?0:lt[re-p],lt[re++]=(z+Ne)%256;break;case 2:for($=ot=0;ot<H;$=ot+=1)z=c[g++],Z=($-$%p)/p,lt[re++]=((Ae=W&&lt[(W-1)*H+Z*p+$%p])+z)%256;break;case 3:for($=Ve=0;Ve<H;$=Ve+=1)z=c[g++],Z=($-$%p)/p,Ne=$<p?0:lt[re-p],Ae=W&&lt[(W-1)*H+Z*p+$%p],lt[re++]=(z+Math.floor((Ne+Ae)/2))%256;break;case 4:for($=dt=0;dt<H;$=dt+=1)z=c[g++],Z=($-$%p)/p,0===W?Ae=be=0:(Ae=lt[(W-1)*H+Z*p+$%p],be=Z&&lt[(W-1)*H+(Z-1)*p+$%p]),$e=(Ne=$<p?0:lt[re-p])+Ae-be,vt=Math.abs($e-Ne),ve=Math.abs($e-Ae),ct=Math.abs($e-be),lt[re++]=(z+(vt<=ve&&vt<=ct?Ne:ve<=ct?Ae:be))%256;break;default:throw new Error("Invalid filter algorithm: "+c[g-1])}if(!P){var te=((O+W*X)*D.width+F)*p,pe=W*H;for($=0;$<st;$+=1){for(var ke=0;ke<p;ke+=1)m[te++]=lt[pe++];te+=(y-1)*p}}W++}}return c=function Kr(o,i){return L((Lo(o),o.subarray(2,-4)),i)}(c),1==D.interlaceMethod?(k(0,0,8,8),k(4,0,8,8),k(0,4,4,8),k(2,0,4,4),k(0,2,2,4),k(1,0,2,2),k(0,1,1,2)):k(0,0,1,1),m},s.prototype.decodePalette=function(){var c,p,m,g,D,k,F,O,y;for(m=this.palette,k=this.transparency.indexed||[],D=new Uint8Array((k.length||0)+m.length),g=0,c=0,p=F=0,O=m.length;F<O;p=F+=3)D[g++]=m[p],D[g++]=m[p+1],D[g++]=m[p+2],D[g++]=null!=(y=k[c++])?y:255;return D},s.prototype.copyToImageData=function(c,p){var m,g,D,k,F,O,y,X,z,re,Z;if(g=this.colors,z=null,m=this.hasAlphaChannel,this.palette.length&&(z=null!=(Z=this._decodedPalette)?Z:this._decodedPalette=this.decodePalette(),g=4,m=!0),X=(D=c.data||c).length,F=z||p,k=O=0,1===g)for(;k<X;)y=z?4*p[k/4]:O,re=F[y++],D[k++]=re,D[k++]=re,D[k++]=re,D[k++]=m?F[y++]:255,O=y;else for(;k<X;)y=z?4*p[k/4]:O,D[k++]=F[y++],D[k++]=F[y++],D[k++]=F[y++],D[k++]=m?F[y++]:255,O=y},s.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var d=function(){if("[object Window]"===Object.prototype.toString.call($t)){try{i=$t.document.createElement("canvas"),r=i.getContext("2d")}catch{return!1}return!0}return!1};return d(),o=function(c){var p;if(!0===d())return r.width=c.width,r.height=c.height,r.clearRect(0,0,c.width,c.height),r.putImageData(c,0,0),(p=new Image).src=i.toDataURL(),p;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(c){var p,m,g,D,k,F,O,y;if(this.animation){for(y=[],m=k=0,F=(O=this.animation.frames).length;k<F;m=++k)g=c.createImageData((p=O[m]).width,p.height),D=this.decodePixels(new Uint8Array(p.data)),this.copyToImageData(g,D),p.imageData=g,y.push(p.image=o(g));return y}},s.prototype.renderFrame=function(c,p){var m,g,D;return m=(g=this.animation.frames)[p],D=g[p-1],0===p&&c.clearRect(0,0,this.width,this.height),1===D?.disposeOp?c.clearRect(D.xOffset,D.yOffset,D.width,D.height):2===D?.disposeOp&&c.putImageData(D.imageData,D.xOffset,D.yOffset),0===m.blendOp&&c.clearRect(m.xOffset,m.yOffset,m.width,m.height),c.drawImage(m.image,m.xOffset,m.yOffset)},s.prototype.animate=function(c){var p,m,g,D,k,F,O=this;return m=0,D=(F=this.animation).numFrames,g=F.frames,k=F.numPlays,(p=function(){var y,X;if(y=m++%D,X=g[y],O.renderFrame(c,y),D>1&&m/D<k)return O.animation._timeout=setTimeout(p,X.delay)})()},s.prototype.stopAnimation=function(){var c;return clearTimeout(null!=(c=this.animation)?c._timeout:void 0)},s.prototype.render=function(c){var p,m;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,p=c.getContext("2d"),this.animation?(this.decodeFrames(p),this.animate(p)):(m=p.createImageData(this.width,this.height),this.copyToImageData(m,this.decodePixels()),p.putImageData(m,0,0))},s}();function sc(o){var i=0;if(71!==o[i++]||73!==o[i++]||70!==o[i++]||56!==o[i++]||56!=(o[i++]+1&253)||97!==o[i++])throw new Error("Invalid GIF 87a/89a header.");var r=o[i++]|o[i++]<<8,s=o[i++]|o[i++]<<8,d=o[i++],p=1<<1+(7&d);i++,i++;var m=null,g=null;d>>7&&(m=i,g=p,i+=3*p);var D=!0,k=[],F=0,O=null,y=0,X=null;for(this.width=r,this.height=s;D&&i<o.length;)switch(o[i++]){case 33:switch(o[i++]){case 255:if(11!==o[i]||78==o[i+1]&&69==o[i+2]&&84==o[i+3]&&83==o[i+4]&&67==o[i+5]&&65==o[i+6]&&80==o[i+7]&&69==o[i+8]&&50==o[i+9]&&46==o[i+10]&&48==o[i+11]&&3==o[i+12]&&1==o[i+13]&&0==o[i+16])i+=14,X=o[i++]|o[i++]<<8,i++;else for(i+=12;;){if(!((W=o[i++])>=0))throw Error("Invalid block size");if(0===W)break;i+=W}break;case 249:if(4!==o[i++]||0!==o[i+4])throw new Error("Invalid graphics extension block.");var z=o[i++];F=o[i++]|o[i++]<<8,O=o[i++],!(1&z)&&(O=null),y=z>>2&7,i++;break;case 254:for(;;){if(!((W=o[i++])>=0))throw Error("Invalid block size");if(0===W)break;i+=W}break;default:throw new Error("Unknown graphic control label: 0x"+o[i-1].toString(16))}break;case 44:var re=o[i++]|o[i++]<<8,Z=o[i++]|o[i++]<<8,$=o[i++]|o[i++]<<8,Ne=o[i++]|o[i++]<<8,qe=o[i++],$e=qe>>6&1,vt=1<<1+(7&qe),ze=m,ve=g,ct=!1;qe>>7&&(ct=!0,ze=i,ve=vt,i+=3*vt);var lt=i;for(i++;;){var W;if(!((W=o[i++])>=0))throw Error("Invalid block size");if(0===W)break;i+=W}k.push({x:re,y:Z,width:$,height:Ne,has_local_palette:ct,palette_offset:ze,palette_size:ve,data_offset:lt,data_length:i-lt,transparent_index:O,interlaced:!!$e,delay:F,disposal:y});break;case 59:D=!1;break;default:throw new Error("Unknown gif block: 0x"+o[i-1].toString(16))}this.numFrames=function(){return k.length},this.loopCount=function(){return X},this.frameInfo=function(H){if(H<0||H>=k.length)throw new Error("Frame index out of range.");return k[H]},this.decodeAndBlitFrameBGRA=function(H,Ae){var be=this.frameInfo(H),et=be.width*be.height,Je=new Uint8Array(et);el(o,be.data_offset,Je,et);var ot=be.palette_offset,Ve=be.transparent_index;null===Ve&&(Ve=256);var dt=be.width,st=r-dt,Ft=dt,P=4*(be.y*r+be.x),te=4*((be.y+be.height)*r+be.x),pe=P,ke=4*st;!0===be.interlaced&&(ke+=4*r*7);for(var Re=8,He=0,Ge=Je.length;He<Ge;++He){var Qe=Je[He];if(0===Ft&&(Ft=dt,(pe+=ke)>=te&&(ke=4*st+4*r*(Re-1),pe=P+(dt+st)*(Re<<1),Re>>=1)),Qe===Ve)pe+=4;else{var At=o[ot+3*Qe],Ct=o[ot+3*Qe+1];Ae[pe++]=o[ot+3*Qe+2],Ae[pe++]=Ct,Ae[pe++]=At,Ae[pe++]=255}--Ft}},this.decodeAndBlitFrameRGBA=function(H,Ae){var be=this.frameInfo(H),et=be.width*be.height,Je=new Uint8Array(et);el(o,be.data_offset,Je,et);var ot=be.palette_offset,Ve=be.transparent_index;null===Ve&&(Ve=256);var dt=be.width,st=r-dt,Ft=dt,P=4*(be.y*r+be.x),te=4*((be.y+be.height)*r+be.x),pe=P,ke=4*st;!0===be.interlaced&&(ke+=4*r*7);for(var Re=8,He=0,Ge=Je.length;He<Ge;++He){var Qe=Je[He];if(0===Ft&&(Ft=dt,(pe+=ke)>=te&&(ke=4*st+4*r*(Re-1),pe=P+(dt+st)*(Re<<1),Re>>=1)),Qe===Ve)pe+=4;else{var Ct=o[ot+3*Qe+1],jt=o[ot+3*Qe+2];Ae[pe++]=o[ot+3*Qe],Ae[pe++]=Ct,Ae[pe++]=jt,Ae[pe++]=255}--Ft}}}function el(o,i,r,s){for(var d=o[i++],c=1<<d,p=c+1,m=p+1,g=d+1,D=(1<<g)-1,k=0,F=0,O=0,y=o[i++],X=new Int32Array(4096),z=null;;){for(;k<16&&0!==y;)F|=o[i++]<<k,k+=8,1===y?y=o[i++]:--y;if(k<g)break;var re=F&D;if(F>>=g,k-=g,re!==c){if(re===p)break;for(var Z=re<m?re:z,$=0,Ne=Z;Ne>c;)Ne=X[Ne]>>8,++$;var qe=Ne;if(O+$+(Z!==re?1:0)>s)return void Pi.log("Warning, gif stream longer than expected.");r[O++]=qe;var $e=O+=$;for(Z!==re&&(r[O++]=qe),Ne=Z;$--;)r[--$e]=255&(Ne=X[Ne]),Ne>>=8;null!==z&&m<4096&&(X[m++]=z<<8|qe,m>=D+1&&g<12&&(++g,D=D<<1|1)),z=re}else m=p+1,D=(1<<(g=d+1))-1,z=null}return O!==s&&Pi.log("Warning, gif stream shorter than expected."),r}function Ho(o){var i,r,s,d,c,p=Math.floor,m=new Array(64),g=new Array(64),D=new Array(64),k=new Array(64),F=new Array(65535),O=new Array(65535),y=new Array(64),X=new Array(64),z=[],re=0,Z=7,$=new Array(64),Ne=new Array(64),qe=new Array(64),$e=new Array(256),vt=new Array(2048),ze=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ve=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ct=[0,1,2,3,4,5,6,7,8,9,10,11],lt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ae=[0,1,2,3,4,5,6,7,8,9,10,11],be=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],et=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Je(P,te){for(var pe=0,ke=0,Re=new Array,He=1;He<=16;He++){for(var Ge=1;Ge<=P[He];Ge++)Re[te[ke]]=[],Re[te[ke]][0]=pe,Re[te[ke]][1]=He,ke++,pe++;pe*=2}return Re}function ot(P){for(var te=P[0],pe=P[1]-1;pe>=0;)te&1<<pe&&(re|=1<<Z),pe--,--Z<0&&(255==re?(Ve(255),Ve(0)):Ve(re),Z=7,re=0)}function Ve(P){z.push(P)}function dt(P){Ve(P>>8&255),Ve(255&P)}function st(P,te,pe,ke,Re){for(var He,Ge=Re[0],Qe=Re[240],At=function(Dt,Mt){var Ut,Et,Gt,li,fi,vi,Di,Li,ni,yi,qt=0;for(ni=0;ni<8;++ni){var _n=(Ut=Dt[qt])+(Li=Dt[qt+7]),Ci=Ut-Li,Bn=(Et=Dt[qt+1])+(Di=Dt[qt+6]),Ei=Et-Di,ji=(Gt=Dt[qt+2])+(vi=Dt[qt+5]),$n=Gt-vi,Ti=(li=Dt[qt+3])+(fi=Dt[qt+4]),Va=li-fi,Wi=_n+Ti,Un=_n-Ti,ma=Bn+ji,Gi=Bn-ji;Dt[qt]=Wi+ma,Dt[qt+4]=Wi-ma;var ci=.707106781*(Gi+Un);Dt[qt+2]=Un+ci,Dt[qt+6]=Un-ci;var Ni=.382683433*((Wi=Va+$n)-(Gi=Ei+Ci)),Ha=.5411961*Wi+Ni,pn=1.306562965*Gi+Ni,Kn=.707106781*(ma=$n+Ei),ea=Ci+Kn,ii=Ci-Kn;Dt[qt+5]=ii+Ha,Dt[qt+3]=ii-Ha,Dt[qt+1]=ea+pn,Dt[qt+7]=ea-pn,qt+=8}for(qt=0,ni=0;ni<8;++ni){var qn=(Ut=Dt[qt])+(Li=Dt[qt+56]),ta=Ut-Li,An=(Et=Dt[qt+8])+(Di=Dt[qt+48]),sn=Et-Di,Ki=(Gt=Dt[qt+16])+(vi=Dt[qt+40]),Nn=Gt-vi,dr=(li=Dt[qt+24])+(fi=Dt[qt+32]),Na=li-fi,ia=qn+dr,na=qn-dr,aa=An+Ki,ga=An-Ki;Dt[qt]=ia+aa,Dt[qt+32]=ia-aa;var jn=.707106781*(ga+na);Dt[qt+16]=na+jn,Dt[qt+48]=na-jn;var va=.382683433*((ia=Na+Nn)-(ga=sn+ta)),hr=.5411961*ia+va,jr=1.306562965*ga+va,Zr=.707106781*(aa=Nn+sn),zr=ta+Zr,Yr=ta-Zr;Dt[qt+40]=Yr+hr,Dt[qt+24]=Yr-hr,Dt[qt+8]=zr+jr,Dt[qt+56]=zr-jr,qt++}for(ni=0;ni<64;++ni)y[ni]=(yi=Dt[ni]*Mt[ni])>0?yi+.5|0:yi-.5|0;return y}(P,te),Ct=0;Ct<64;++Ct)X[ze[Ct]]=At[Ct];var jt=X[0]-pe;pe=X[0],0==jt?ot(ke[0]):(ot(ke[O[He=32767+jt]]),ot(F[He]));for(var Zt=63;Zt>0&&0==X[Zt];)Zt--;if(0==Zt)return ot(Ge),pe;for(var ti,at=1;at<=Zt;){for(var fe=at;0==X[at]&&at<=Zt;)++at;var hi=at-fe;if(hi>=16){ti=hi>>4;for(var Ht=1;Ht<=ti;++Ht)ot(Qe);hi&=15}ot(Re[(hi<<4)+O[He=32767+X[at]]]),ot(F[He]),at++}return 63!=Zt&&ot(Ge),pe}function Ft(P){P=Math.min(Math.max(P,1),100),c!=P&&(function(te){for(var pe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ke=0;ke<64;ke++){var Re=p((pe[ke]*te+50)/100);Re=Math.min(Math.max(Re,1),255),m[ze[ke]]=Re}for(var He=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ge=0;Ge<64;Ge++){var Qe=p((He[Ge]*te+50)/100);Qe=Math.min(Math.max(Qe,1),255),g[ze[Ge]]=Qe}for(var At=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ct=0,jt=0;jt<8;jt++)for(var Zt=0;Zt<8;Zt++)D[Ct]=1/(m[ze[Ct]]*At[jt]*At[Zt]*8),k[Ct]=1/(g[ze[Ct]]*At[jt]*At[Zt]*8),Ct++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),c=P)}this.encode=function(P,te){var Et,Gt;te&&Ft(te),z=new Array,re=0,Z=7,dt(65496),dt(65504),dt(16),Ve(74),Ve(70),Ve(73),Ve(70),Ve(0),Ve(1),Ve(1),Ve(0),dt(1),dt(1),Ve(0),Ve(0),function(){dt(65499),dt(132),Ve(0);for(var Et=0;Et<64;Et++)Ve(m[Et]);Ve(1);for(var Gt=0;Gt<64;Gt++)Ve(g[Gt])}(),Et=P.width,Gt=P.height,dt(65472),dt(17),Ve(8),dt(Gt),dt(Et),Ve(3),Ve(1),Ve(17),Ve(0),Ve(2),Ve(17),Ve(1),Ve(3),Ve(17),Ve(1),function(){dt(65476),dt(418),Ve(0);for(var Et=0;Et<16;Et++)Ve(ve[Et+1]);for(var Gt=0;Gt<=11;Gt++)Ve(ct[Gt]);Ve(16);for(var li=0;li<16;li++)Ve(lt[li+1]);for(var fi=0;fi<=161;fi++)Ve(W[fi]);Ve(1);for(var vi=0;vi<16;vi++)Ve(H[vi+1]);for(var Di=0;Di<=11;Di++)Ve(Ae[Di]);Ve(17);for(var Li=0;Li<16;Li++)Ve(be[Li+1]);for(var ni=0;ni<=161;ni++)Ve(et[ni])}(),dt(65498),dt(12),Ve(3),Ve(1),Ve(0),Ve(2),Ve(17),Ve(3),Ve(17),Ve(0),Ve(63),Ve(0);var pe=0,ke=0,Re=0;re=0,Z=7,this.encode.displayName="_encode_";for(var He,Ge,Qe,At,Ct,jt,Zt,ti,at,fe=P.data,Ht=P.height,Dt=4*P.width,Mt=0;Mt<Ht;){for(He=0;He<Dt;){for(Ct=Dt*Mt+He,Zt=-1,ti=0,at=0;at<64;at++)jt=Ct+(ti=at>>3)*Dt+(Zt=4*(7&at)),Mt+ti>=Ht&&(jt-=Dt*(Mt+1+ti-Ht)),He+Zt>=Dt&&(jt-=He+Zt-Dt+4),Ge=fe[jt++],Qe=fe[jt++],At=fe[jt++],$[at]=(vt[Ge]+vt[Qe+256>>0]+vt[At+512>>0]>>16)-128,Ne[at]=(vt[Ge+768>>0]+vt[Qe+1024>>0]+vt[At+1280>>0]>>16)-128,qe[at]=(vt[Ge+1280>>0]+vt[Qe+1536>>0]+vt[At+1792>>0]>>16)-128;pe=st($,D,pe,i,s),ke=st(Ne,k,ke,r,d),Re=st(qe,k,Re,r,d),He+=32}Mt+=8}if(Z>=0){var Ut=[];Ut[1]=Z+1,Ut[0]=(1<<Z+1)-1,ot(Ut)}return dt(65497),new Uint8Array(z)},o=o||50,function(){for(var P=String.fromCharCode,te=0;te<256;te++)$e[te]=P(te)}(),i=Je(ve,ct),r=Je(H,Ae),s=Je(lt,W),d=Je(be,et),function(){for(var P=1,te=2,pe=1;pe<=15;pe++){for(var ke=P;ke<te;ke++)O[32767+ke]=pe,F[32767+ke]=[],F[32767+ke][1]=pe,F[32767+ke][0]=ke;for(var Re=-(te-1);Re<=-P;Re++)O[32767+Re]=pe,F[32767+Re]=[],F[32767+Re][1]=pe,F[32767+Re][0]=te-1+Re;P<<=1,te<<=1}}(),function(){for(var P=0;P<256;P++)vt[P]=19595*P,vt[P+256>>0]=38470*P,vt[P+512>>0]=7471*P+32768,vt[P+768>>0]=-11059*P,vt[P+1024>>0]=-21709*P,vt[P+1280>>0]=32768*P+8421375,vt[P+1536>>0]=-27439*P,vt[P+1792>>0]=-5329*P}(),Ft(o)}function Rn(o,i){if(this.pos=0,this.buffer=o,this.datav=new DataView(o.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tl(o){function i(ve){if(!ve)throw Error("assert :P")}function r(ve,ct,lt){for(var W=0;4>W;W++)if(ve[ct+W]!=lt.charCodeAt(W))return!0;return!1}function s(ve,ct,lt,W,H){for(var Ae=0;Ae<H;Ae++)ve[ct+Ae]=lt[W+Ae]}function d(ve,ct,lt,W){for(var H=0;H<W;H++)ve[ct+H]=lt}function c(ve){return new Int32Array(ve)}function p(ve,ct){for(var lt=[],W=0;W<ve;W++)lt.push(new ct);return lt}function m(ve,ct){var lt=[];return function W(H,Ae,be){for(var et=be[Ae],Je=0;Je<et&&(H.push(be.length>Ae+1?[]:new ct),!(be.length<Ae+1));Je++)W(H[Je],Ae+1,be)}(lt,0,ve),lt}var g=function(){var ve=this;function ct(n,l){for(var f=1<<l-1>>>0;n&f;)f>>>=1;return f?(n&f-1)+f:n}function lt(n,l,f,_,A){i(!(_%f));do{n[l+(_-=f)]=A}while(0<_)}function W(n,l,f,_,A){if(i(2328>=A),512>=A)var N=c(512);else if(null==(N=c(A)))return 0;return function(I,R,B,G,Se,je){var Ze,Fe,mt=R,Ke=1<<B,Te=c(16),Pe=c(16);for(i(0!=Se),i(null!=G),i(null!=I),i(0<B),Fe=0;Fe<Se;++Fe){if(15<G[Fe])return 0;++Te[G[Fe]]}if(Te[0]==Se)return 0;for(Pe[1]=0,Ze=1;15>Ze;++Ze){if(Te[Ze]>1<<Ze)return 0;Pe[Ze+1]=Pe[Ze]+Te[Ze]}for(Fe=0;Fe<Se;++Fe)Ze=G[Fe],0<G[Fe]&&(je[Pe[Ze]++]=Fe);if(1==Pe[15])return(G=new H).g=0,G.value=je[0],lt(I,mt,1,Ke,G),Ke;var pt,_t=-1,ft=Ke-1,Yt=0,Lt=1,Kt=1,Ot=1<<B;for(Fe=0,Ze=1,Se=2;Ze<=B;++Ze,Se<<=1){if(Lt+=Kt<<=1,0>(Kt-=Te[Ze]))return 0;for(;0<Te[Ze];--Te[Ze])(G=new H).g=Ze,G.value=je[Fe++],lt(I,mt+Yt,Se,Ot,G),Yt=ct(Yt,Ze)}for(Ze=B+1,Se=2;15>=Ze;++Ze,Se<<=1){if(Lt+=Kt<<=1,0>(Kt-=Te[Ze]))return 0;for(;0<Te[Ze];--Te[Ze]){if(G=new H,(Yt&ft)!=_t){for(mt+=Ot,pt=1<<(_t=Ze)-B;15>_t&&!(0>=(pt-=Te[_t]));)++_t,pt<<=1;Ke+=Ot=1<<(pt=_t-B),I[R+(_t=Yt&ft)].g=pt+B,I[R+_t].value=mt-R-_t}G.g=Ze-B,G.value=je[Fe++],lt(I,mt+(Yt>>B),Se,Ot,G),Yt=ct(Yt,Ze)}}return Lt!=2*Pe[15]-1?0:Ke}(n,l,f,_,A,N)}function H(){this.value=this.g=0}function Ae(){this.value=this.g=0}function be(){this.G=p(5,H),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=p(In,Ae)}function et(n,l,f,_){i(null!=n),i(null!=l),i(2147483648>_),n.Ca=254,n.I=0,n.b=-8,n.Ka=0,n.oa=l,n.pa=f,n.Jd=l,n.Yc=f+_,n.Zc=4<=_?f+_-4+1:f,He(n)}function Je(n,l){for(var f=0;0<l--;)f|=Qe(n,128)<<l;return f}function ot(n,l){var f=Je(n,l);return Ge(n)?-f:f}function Ve(n,l,f,_){var A,N=0;for(i(null!=n),i(null!=l),i(4294967288>_),n.Sb=_,n.Ra=0,n.u=0,n.h=0,4<_&&(_=4),A=0;A<_;++A)N+=l[f+A]<<8*A;n.Ra=N,n.bb=_,n.oa=l,n.pa=f}function dt(n){for(;8<=n.u&&n.bb<n.Sb;)n.Ra>>>=8,n.Ra+=n.oa[n.pa+n.bb]<<Co-8>>>0,++n.bb,n.u-=8;pe(n)&&(n.h=1,n.u=0)}function st(n,l){if(i(0<=l),!n.h&&l<=xo){var f=te(n)&Do[l];return n.u+=l,dt(n),f}return n.h=1,n.u=0}function Ft(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(n){return n.Ra>>>(n.u&Co-1)>>>0}function pe(n){return i(n.bb<=n.Sb),n.h||n.bb==n.Sb&&n.u>Co}function ke(n,l){n.u=l,n.h=pe(n)}function Re(n){n.u>=us&&(i(n.u>=us),dt(n))}function He(n){i(null!=n&&null!=n.oa),n.pa<n.Zc?(n.I=(n.oa[n.pa++]|n.I<<8)>>>0,n.b+=8):(i(null!=n&&null!=n.oa),n.pa<n.Yc?(n.b+=8,n.I=n.oa[n.pa++]|n.I<<8):n.Ka?n.b=0:(n.I<<=8,n.b+=8,n.Ka=1))}function Ge(n){return Je(n,1)}function Qe(n,l){var f=n.Ca;0>n.b&&He(n);var _=n.b,A=f*l>>>8,N=(n.I>>>_>A)+0;for(N?(f-=A,n.I-=A+1<<_>>>0):f=A+1,_=f,A=0;256<=_;)A+=8,_>>=8;return n.b-=_=7^A+Ln[_],n.Ca=(f<<_)-1,N}function At(n,l,f){n[l+0]=f>>24&255,n[l+1]=f>>16&255,n[l+2]=f>>8&255,n[l+3]=f>>0&255}function Ct(n,l){return n[l+0]<<0|n[l+1]<<8}function jt(n,l){return Ct(n,l)|n[l+2]<<16}function Zt(n,l){return Ct(n,l)|Ct(n,l+2)<<16}function ti(n,l){var f=1<<l;return i(null!=n),i(0<l),n.X=c(f),null==n.X?0:(n.Mb=32-l,n.Xa=l,1)}function at(n,l){i(null!=n),i(null!=l),i(n.Xa==l.Xa),s(l.X,0,n.X,0,1<<l.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function hi(n,l,f,_){i(null!=f),i(null!=_);var A=f[0],N=_[0];return 0==A&&(A=(n*N+l/2)/l),0==N&&(N=(l*A+n/2)/n),0>=A||0>=N?0:(f[0]=A,_[0]=N,1)}function Ht(n,l){return n+(1<<l)-1>>>l}function Dt(n,l){return((4278255360&n)+(4278255360&l)>>>0&4278255360)+((16711935&n)+(16711935&l)>>>0&16711935)>>>0}function Mt(n,l){ve[l]=function(f,_,A,N,I,R,B){var G;for(G=0;G<I;++G){var Se=ve[n](R[B+G-1],A,N+G);R[B+G]=Dt(f[_+G],Se)}}}function Ut(){this.ud=this.hd=this.jd=0}function Et(n,l){return((4278124286&(n^l))>>>1)+(n&l)>>>0}function Gt(n){return 0<=n&&256>n?n:0>n?0:255<n?255:void 0}function li(n,l){return Gt(n+(n-l+.5>>1))}function fi(n,l,f){return Math.abs(l-f)-Math.abs(n-f)}function vi(n,l,f,_,A,N,I){for(_=N[I-1],f=0;f<A;++f)N[I+f]=_=Dt(n[l+f],_)}function Di(n,l,f,_,A){var N;for(N=0;N<f;++N){var I=n[l+N],R=I>>8&255,B=16711935&(B=(B=16711935&I)+((R<<16)+R));_[A+N]=(4278255360&I)+B>>>0}}function Li(n,l){l.jd=n>>0&255,l.hd=n>>8&255,l.ud=n>>16&255}function ni(n,l,f,_,A,N){var I;for(I=0;I<_;++I){var R=l[f+I],B=R>>>8,G=R,Se=255&(Se=(Se=R>>>16)+((n.jd<<24>>24)*(B<<24>>24)>>>5));G=255&(G=(G+=(n.hd<<24>>24)*(B<<24>>24)>>>5)+((n.ud<<24>>24)*(Se<<24>>24)>>>5)),A[N+I]=(4278255360&R)+(Se<<16)+G}}function yi(n,l,f,_,A){ve[l]=function(N,I,R,B,G,Se,je,Ze,Fe){for(B=je;B<Ze;++B)for(je=0;je<Fe;++je)G[Se++]=A(R[_(N[I++])])},ve[n]=function(N,I,R,B,G,Se,je){var Ze=8>>N.b,Fe=N.Ea,mt=N.K[0],Ke=N.w;if(8>Ze)for(N=(1<<N.b)-1,Ke=(1<<Ze)-1;I<R;++I){var Te,Pe=0;for(Te=0;Te<Fe;++Te)Te&N||(Pe=_(B[G++])),Se[je++]=A(mt[Pe&Ke]),Pe>>=Ze}else ve["VP8LMapColor"+f](B,G,mt,Ke,Se,je,I,R,Fe)}}function qt(n,l,f,_,A){for(f=l+f;l<f;){var N=n[l++];_[A++]=N>>16&255,_[A++]=N>>8&255,_[A++]=N>>0&255}}function _n(n,l,f,_,A){for(f=l+f;l<f;){var N=n[l++];_[A++]=N>>16&255,_[A++]=N>>8&255,_[A++]=N>>0&255,_[A++]=N>>24&255}}function Ci(n,l,f,_,A){for(f=l+f;l<f;){var N=(I=n[l++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;_[A++]=N,_[A++]=I}}function Bn(n,l,f,_,A){for(f=l+f;l<f;){var N=(I=n[l++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;_[A++]=N,_[A++]=I}}function Ei(n,l,f,_,A){for(f=l+f;l<f;){var N=n[l++];_[A++]=N>>0&255,_[A++]=N>>8&255,_[A++]=N>>16&255}}function ji(n,l,f,_,A,N){if(0==N)for(f=l+f;l<f;)At(_,((N=n[l++])[0]>>24|N[1]>>8&65280|N[2]<<8&16711680|N[3]<<24)>>>0),A+=32;else s(_,A,n,l,f)}function $n(n,l){ve[l][0]=ve[n+"0"],ve[l][1]=ve[n+"1"],ve[l][2]=ve[n+"2"],ve[l][3]=ve[n+"3"],ve[l][4]=ve[n+"4"],ve[l][5]=ve[n+"5"],ve[l][6]=ve[n+"6"],ve[l][7]=ve[n+"7"],ve[l][8]=ve[n+"8"],ve[l][9]=ve[n+"9"],ve[l][10]=ve[n+"10"],ve[l][11]=ve[n+"11"],ve[l][12]=ve[n+"12"],ve[l][13]=ve[n+"13"],ve[l][14]=ve[n+"0"],ve[l][15]=ve[n+"0"]}function Ti(n){return n==qc||n==jc||n==Tl||n==Zc}function Va(){this.eb=[],this.size=this.A=this.fb=0}function Wi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Va,this.f.kb=new Wi,this.sd=null}function ma(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ci(n){return alert("todo:WebPSamplerProcessPlane"),n.T}function Ni(n,l){var f=n.T,_=l.ba.f.RGBA,A=_.eb,N=_.fb+n.ka*_.A,I=ca[l.ba.S],R=n.y,B=n.O,G=n.f,Se=n.N,je=n.ea,Ze=n.W,Fe=l.cc,mt=l.dc,Ke=l.Mc,Te=l.Nc,Pe=n.ka,pt=n.ka+n.T,_t=n.U,ft=_t+1>>1;for(0==Pe?I(R,B,null,null,G,Se,je,Ze,G,Se,je,Ze,A,N,null,null,_t):(I(l.ec,l.fc,R,B,Fe,mt,Ke,Te,G,Se,je,Ze,A,N-_.A,A,N,_t),++f);Pe+2<pt;Pe+=2)I(R,(B+=2*n.fa)-n.fa,R,B,Fe=G,mt=Se,Ke=je,Te=Ze,G,Se+=n.Rc,je,Ze+=n.Rc,A,(N+=2*_.A)-_.A,A,N,_t);return B+=n.fa,n.j+pt<n.o?(s(l.ec,l.fc,R,B,_t),s(l.cc,l.dc,G,Se,ft),s(l.Mc,l.Nc,je,Ze,ft),f--):1&pt||I(R,B,null,null,G,Se,je,Ze,G,Se,je,Ze,A,N+_.A,null,null,_t),f}function Ha(n,l,f){var _=n.F,A=[n.J];if(null!=_){var N=n.U,I=l.ba.S,R=I==kl||I==Tl;l=l.ba.f.RGBA;var B=[0],G=n.ka;B[0]=n.T,n.Kb&&(0==G?--B[0]:(--G,A[0]-=n.width),n.j+n.ka+n.T==n.o&&(B[0]=n.o-n.j-G));var Se=l.eb;n=Dl(_,A[0],n.width,N,B,Se,(G=l.fb+G*l.A)+(R?0:3),l.A),i(f==B),n&&Ti(I)&&Dr(Se,G,R,N,B,l.A)}return 0}function pn(n){var l=n.ma,f=l.ba.S,_=11>f,A=f==Al||f==Sl||f==kl||f==Uc||12==f||Ti(f);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!ds(l.Oa,n,A?11:12))return 0;if(A&&Ti(f)&&yt(),n.da)alert("todo:use_scaling");else{if(_){if(l.Ib=ci,n.Kb){if(l.memory=c(n.U+2*(f=n.U+1>>1)),null==l.memory)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+n.U,l.Mc=l.cc,l.Nc=l.dc+f,l.Ib=Ni,yt()}}else alert("todo:EmitYUV");A&&(l.Jb=Ha,_&&Ue())}if(_&&!Ed){for(n=0;256>n;++n)vh[n]=89858*(n-128)+Ml>>Nl,yh[n]=-22014*(n-128)+Ml,bh[n]=-45773*(n-128),_h[n]=113618*(n-128)+Ml>>Nl;for(n=_s;n<Vc;++n)wh[n-_s]=Zn(l=76283*(n-16)+Ml>>Nl,255),Dh[n-_s]=Zn(l+8>>4,15);Ed=1}return 1}function Kn(n){var l=n.ma,f=n.U,_=n.T;return i(!(1&n.ka)),0>=f||0>=_?0:(f=l.Ib(n,l),null!=l.Jb&&l.Jb(n,l,f),l.Dc+=f,1)}function ea(n){n.ma.memory=null}function ii(n,l,f,_){return 47!=st(n,8)?0:(l[0]=st(n,14)+1,f[0]=st(n,14)+1,_[0]=st(n,1),0!=st(n,3)?0:!n.h)}function qn(n,l){if(4>n)return n+1;var f=n-2>>1;return(2+(1&n)<<f)+st(l,f)+1}function ta(n,l){return 120<l?l-120:1<=(f=((f=nh[l-1])>>4)*n+(8-(15&f)))?f:1;var f}function An(n,l,f){var _=te(f),A=n[l+=255&_].g-8;return 0<A&&(ke(f,f.u+8),_=te(f),l+=n[l].value,l+=_&(1<<A)-1),ke(f,f.u+n[l].g),n[l].value}function sn(n,l,f){return f.g+=n.g,f.value+=n.value<<l>>>0,i(8>=f.g),n.g}function Ki(n,l,f){var _=n.xc;return i((l=0==_?0:n.vc[n.md*(f>>_)+(l>>_)])<n.Wb),n.Ya[l]}function Nn(n,l,f,_){var A=n.ab,N=n.c*l,I=n.C;l=I+l;var R=f,B=_;for(_=n.Ta,f=n.Ua;0<A--;){var G=n.gc[A],Se=I,je=l,Ze=R,Fe=B,mt=(B=_,R=f,G.Ea);switch(i(Se<je),i(je<=G.nc),G.hc){case 2:wl(Ze,Fe,(je-Se)*mt,B,R);break;case 0:var Ke=Se,Te=je,Pe=B,pt=R,_t=(Ot=G).Ea;0==Ke&&(Ec(Ze,Fe,null,null,1,Pe,pt),vi(Ze,Fe+1,0,0,_t-1,Pe,pt+1),Fe+=_t,pt+=_t,++Ke);for(var ft=1<<Ot.b,Yt=ft-1,Lt=Ht(_t,Ot.b),Kt=Ot.K,Ot=Ot.w+(Ke>>Ot.b)*Lt;Ke<Te;){var Ii=Kt,Ri=Ot,ki=1;for(ps(Ze,Fe,Pe,pt-_t,1,Pe,pt);ki<_t;){var wi=(ki&~Yt)+ft;wi>_t&&(wi=_t),(0,_r[Ii[Ri++]>>8&15])(Ze,Fe+ +ki,Pe,pt+ki-_t,wi-ki,Pe,pt+ki),ki=wi}Fe+=_t,pt+=_t,++Ke&Yt||(Ot+=Lt)}je!=G.nc&&s(B,R-mt,B,R+(je-Se-1)*mt,mt);break;case 1:for(mt=Ze,Te=Fe,_t=(Ze=G.Ea)-(pt=Ze&~(Pe=(Fe=1<<G.b)-1)),Ke=Ht(Ze,G.b),ft=G.K,G=G.w+(Se>>G.b)*Ke;Se<je;){for(Yt=ft,Lt=G,Kt=new Ut,Ot=Te+pt,Ii=Te+Ze;Te<Ot;)Li(Yt[Lt++],Kt),oa(Kt,mt,Te,Fe,B,R),Te+=Fe,R+=Fe;Te<Ii&&(Li(Yt[Lt++],Kt),oa(Kt,mt,Te,_t,B,R),Te+=_t,R+=_t),++Se&Pe||(G+=Ke)}break;case 3:if(Ze==B&&Fe==R&&0<G.b){for(Te=B,Ze=mt=R+(je-Se)*mt-(pt=(je-Se)*Ht(G.Ea,G.b)),Fe=B,Pe=R,Ke=[],pt=(_t=pt)-1;0<=pt;--pt)Ke[pt]=Fe[Pe+pt];for(pt=_t-1;0<=pt;--pt)Te[Ze+pt]=Ke[pt];ya(G,Se,je,B,mt,B,R)}else ya(G,Se,je,Ze,Fe,B,R)}R=_,B=f}B!=f&&s(_,f,R,B,N)}function dr(n,l){var f=n.V,_=n.Ba+n.c*n.C,A=l-n.C;if(i(l<=n.l.o),i(16>=A),0<A){var N=n.l,I=n.Ta,R=n.Ua,B=N.width;if(Nn(n,A,f,_),A=R=[R],i((f=n.C)<(_=l)),i(N.v<N.va),_>N.o&&(_=N.o),f<N.j){var G=N.j-f;f=N.j,A[0]+=G*B}if(f>=_?f=0:(A[0]+=4*N.v,N.ka=f-N.j,N.U=N.va-N.v,N.T=_-f,f=1),f){if(R=R[0],11>(f=n.ca).S){var Se=f.f.RGBA,je=(_=f.S,A=N.U,N=N.T,G=Se.eb,Se.A),Ze=N;for(Se=Se.fb+n.Ma*Se.A;0<Ze--;){var Fe=I,mt=R,Ke=A,Te=G,Pe=Se;switch(_){case Cl:wa(Fe,mt,Ke,Te,Pe);break;case Al:br(Fe,mt,Ke,Te,Pe);break;case qc:br(Fe,mt,Ke,Te,Pe),Dr(Te,Pe,0,Ke,1,0);break;case Ad:Ao(Fe,mt,Ke,Te,Pe);break;case Sl:ji(Fe,mt,Ke,Te,Pe,1);break;case jc:ji(Fe,mt,Ke,Te,Pe,1),Dr(Te,Pe,0,Ke,1,0);break;case kl:ji(Fe,mt,Ke,Te,Pe,0);break;case Tl:ji(Fe,mt,Ke,Te,Pe,0),Dr(Te,Pe,1,Ke,1,0);break;case Uc:Pa(Fe,mt,Ke,Te,Pe);break;case Zc:Pa(Fe,mt,Ke,Te,Pe),To(Te,Pe,Ke,1,0);break;case Sd:Xa(Fe,mt,Ke,Te,Pe);break;default:i(0)}R+=B,Se+=je}n.Ma+=N}else alert("todo:EmitRescaledRowsYUVA");i(n.Ma<=f.height)}}n.C=l,i(n.C<=n.i)}function Na(n){var l;if(0<n.ua)return 0;for(l=0;l<n.Wb;++l){var f=n.Ya[l].G,_=n.Ya[l].H;if(0<f[1][_[1]+0].g||0<f[2][_[2]+0].g||0<f[3][_[3]+0].g)return 0}return 1}function ia(n,l,f,_,A,N){if(0!=n.Z){var I=n.qd,R=n.rd;for(i(null!=Cr[n.Z]);l<f;++l)Cr[n.Z](I,R,_,A,_,A,N),I=_,R=A,A+=N;n.qd=I,n.rd=R}}function na(n,l){var f=n.l.ma,_=0==f.Z||1==f.Z?n.l.j:n.C;if(_=n.C<_?_:n.C,i(l<=n.l.o),l>_){var A=n.l.width,N=f.ca,I=f.tb+A*_,R=n.V,B=n.Ba+n.c*_,G=n.gc;i(1==n.ab),i(3==G[0].hc),Rc(G[0],_,l,R,B,N,I),ia(f,_,l,N,I,A)}n.C=n.Ma=l}function aa(n,l,f,_,A,N,I){var R=n.$/_,B=n.$%_,G=n.m,Se=n.s,je=f+n.$,Ze=je;A=f+_*A;var Fe=f+_*N,mt=280+Se.ua,Ke=n.Pb?R:16777216,Te=0<Se.ua?Se.Wa:null,Pe=Se.wc,pt=je<Fe?Ki(Se,B,R):null;i(n.C<N),i(Fe<=A);var _t=!1;e:for(;;){for(;_t||je<Fe;){var ft=0;if(R>=Ke){var Yt=je-f;i((Ke=n).Pb),Ke.wd=Ke.m,Ke.xd=Yt,0<Ke.s.ua&&at(Ke.s.Wa,Ke.s.vb),Ke=R+rh}if(B&Pe||(pt=Ki(Se,B,R)),i(null!=pt),pt.Qb&&(l[je]=pt.qb,_t=!0),!_t)if(Re(G),pt.jc){Yt=l;var Lt=je,Kt=pt.pd[te(ft=G)&In-1];i(pt.jc),256>Kt.g?(ke(ft,ft.u+Kt.g),Yt[Lt]=Kt.value,ft=0):(ke(ft,ft.u+Kt.g-256),i(256<=Kt.value),ft=Kt.value),0==ft&&(_t=!0)}else ft=An(pt.G[0],pt.H[0],G);if(G.h)break;if(_t||256>ft){if(!_t)if(pt.nd)l[je]=(pt.qb|ft<<8)>>>0;else{if(Re(G),_t=An(pt.G[1],pt.H[1],G),Re(G),Yt=An(pt.G[2],pt.H[2],G),Lt=An(pt.G[3],pt.H[3],G),G.h)break;l[je]=(Lt<<24|_t<<16|ft<<8|Yt)>>>0}if(_t=!1,++je,++B>=_&&(B=0,++R,null!=I&&R<=N&&!(R%16)&&I(n,R),null!=Te))for(;Ze<je;)ft=l[Ze++],Te.X[(506832829*ft&4294967295)>>>Te.Mb]=ft}else if(280>ft){if(ft=qn(ft-256,G),Yt=An(pt.G[4],pt.H[4],G),Re(G),Yt=ta(_,Yt=qn(Yt,G)),G.h)break;if(je-f<Yt||A-je<ft)break e;for(Lt=0;Lt<ft;++Lt)l[je+Lt]=l[je+Lt-Yt];for(je+=ft,B+=ft;B>=_;)B-=_,++R,null!=I&&R<=N&&!(R%16)&&I(n,R);if(i(je<=A),B&Pe&&(pt=Ki(Se,B,R)),null!=Te)for(;Ze<je;)ft=l[Ze++],Te.X[(506832829*ft&4294967295)>>>Te.Mb]=ft}else{if(!(ft<mt))break e;for(_t=ft-280,i(null!=Te);Ze<je;)ft=l[Ze++],Te.X[(506832829*ft&4294967295)>>>Te.Mb]=ft;ft=je,i(!(_t>>>(Yt=Te).Xa)),l[ft]=Yt.X[_t],_t=!0}_t||i(G.h==pe(G))}if(n.Pb&&G.h&&je<A)i(n.m.h),n.a=5,n.m=n.wd,n.$=n.xd,0<n.s.ua&&at(n.s.vb,n.s.Wa);else{if(G.h)break e;I?.(n,R>N?N:R),n.a=0,n.$=je-f}return 1}return n.a=3,0}function ga(n){i(null!=n),n.vc=null,n.yc=null,n.Ya=null;var l=n.Wa;null!=l&&(l.X=null),n.vb=null,i(null!=n)}function jn(){var n=new Fc;return null==n?null:(n.a=0,n.xb=Nd,$n("Predictor","VP8LPredictors"),$n("Predictor","VP8LPredictors_C"),$n("PredictorAdd","VP8LPredictorsAdd"),$n("PredictorAdd","VP8LPredictorsAdd_C"),wl=Di,oa=ni,wa=qt,br=_n,Pa=Ci,Xa=Bn,Ao=Ei,ve.VP8LMapColor32b=fs,ve.VP8LMapColor8b=Oc,n)}function va(n,l,f,_,A){var N=1,I=[n],R=[l],B=_.m,G=_.s,Se=null,je=0;e:for(;;){if(f)for(;N&&st(B,1);){var Ze=I,Fe=R,mt=_,Ke=1,Te=mt.m,Pe=mt.gc[mt.ab],pt=st(Te,2);if(mt.Oc&1<<pt)N=0;else{switch(mt.Oc|=1<<pt,Pe.hc=pt,Pe.Ea=Ze[0],Pe.nc=Fe[0],Pe.K=[null],++mt.ab,i(4>=mt.ab),pt){case 0:case 1:Pe.b=st(Te,3)+2,Ke=va(Ht(Pe.Ea,Pe.b),Ht(Pe.nc,Pe.b),0,mt,Pe.K),Pe.K=Pe.K[0];break;case 3:var _t,ft=st(Te,8)+1,Yt=16<ft?0:4<ft?1:2<ft?2:3;if(Ze[0]=Ht(Pe.Ea,Yt),Pe.b=Yt,_t=Ke=va(ft,1,0,mt,Pe.K)){var Lt,Kt=ft,Ot=Pe,Ii=1<<(8>>Ot.b),Ri=c(Ii);if(null==Ri)_t=0;else{var ki=Ot.K[0],wi=Ot.w;for(Ri[0]=Ot.K[0][0],Lt=1;Lt<1*Kt;++Lt)Ri[Lt]=Dt(ki[wi+Lt],Ri[Lt-1]);for(;Lt<4*Ii;++Lt)Ri[Lt]=0;Ot.K[0]=null,Ot.K[0]=Ri,_t=1}}Ke=_t;break;case 2:break;default:i(0)}N=Ke}}if(I=I[0],R=R[0],N&&st(B,1)&&!(N=1<=(je=st(B,4))&&11>=je)){_.a=3;break e}var qi;if(qi=N)t:{var Ui,gi,dn,Fn=_,hn=I,En=R,Oi=je,Yn=f,Vn=Fn.m,yn=Fn.s,Cn=[null],Mn=1,da=0,Ia=ah[Oi];i:for(;;){if(Yn&&st(Vn,1)){var wn=st(Vn,3)+2,ir=Ht(hn,wn),Xr=Ht(En,wn),No=ir*Xr;if(!va(ir,Xr,0,Fn,Cn))break i;for(Cn=Cn[0],yn.xc=wn,Ui=0;Ui<No;++Ui){var Ar=Cn[Ui]>>8&65535;Cn[Ui]=Ar,Ar>=Mn&&(Mn=Ar+1)}}if(Vn.h)break i;for(gi=0;5>gi;++gi){var tn=kd[gi];!gi&&0<Oi&&(tn+=1<<Oi),da<tn&&(da=tn)}var Hc=p(Mn*Ia,H),Bd=Mn,Ud=p(Bd,be);if(null==Ud)var Il=null;else i(65536>=Bd),Il=Ud;var bs=c(da);if(null==Il||null==bs||null==Hc){Fn.a=1;break i}var Ll=Hc;for(Ui=dn=0;Ui<Mn;++Ui){var Aa=Il[Ui],Mo=Aa.G,Po=Aa.H,qd=0,Fl=1,jd=0;for(gi=0;5>gi;++gi){tn=kd[gi],Mo[gi]=Ll,Po[gi]=dn,!gi&&0<Oi&&(tn+=1<<Oi);a:{var El,Wc=tn,Rl=Fn,ys=bs,Ah=Ll,Sh=dn,Gc=0,Sr=Rl.m,kh=st(Sr,1);if(d(ys,0,0,Wc),kh){var Th=st(Sr,1)+1,Nh=st(Sr,1),Zd=st(Sr,0==Nh?1:8);ys[Zd]=1,2==Th&&(ys[Zd=st(Sr,8)]=1);var Ol=1}else{var zd=c(19),Yd=st(Sr,4)+4;if(19<Yd){Rl.a=3;var Bl=0;break a}for(El=0;El<Yd;++El)zd[ih[El]]=st(Sr,3);var Jc=void 0,ws=void 0,Vd=Rl,Mh=zd,Ul=Wc,Hd=ys,Qc=0,kr=Vd.m,Wd=8,Gd=p(128,H);n:for(;W(Gd,0,7,Mh,19);){if(st(kr,1)){var Ph=2+2*st(kr,3);if((Jc=2+st(kr,Ph))>Ul)break n}else Jc=Ul;for(ws=0;ws<Ul&&Jc--;){Re(kr);var Jd=Gd[0+(127&te(kr))];ke(kr,kr.u+Jd.g);var Io=Jd.value;if(16>Io)Hd[ws++]=Io,0!=Io&&(Wd=Io);else{var Ih=16==Io,Qd=Io-16,Lh=eh[Qd],Xd=st(kr,Kd[Qd])+Lh;if(ws+Xd>Ul)break n;for(var Fh=Ih?Wd:0;0<Xd--;)Hd[ws++]=Fh}}Qc=1;break n}Qc||(Vd.a=3),Ol=Qc}(Ol=Ol&&!Sr.h)&&(Gc=W(Ah,Sh,8,ys,Wc)),Ol&&0!=Gc?Bl=Gc:(Rl.a=3,Bl=0)}if(0==Bl)break i;if(Fl&&1==th[gi]&&(Fl=0==Ll[dn].g),qd+=Ll[dn].g,dn+=Bl,3>=gi){var Ds,Xc=bs[0];for(Ds=1;Ds<tn;++Ds)bs[Ds]>Xc&&(Xc=bs[Ds]);jd+=Xc}}if(Aa.nd=Fl,Aa.Qb=0,Fl&&(Aa.qb=(Mo[3][Po[3]+0].value<<24|Mo[1][Po[1]+0].value<<16|Mo[2][Po[2]+0].value)>>>0,0==qd&&256>Mo[0][Po[0]+0].value&&(Aa.Qb=1,Aa.qb+=Mo[0][Po[0]+0].value<<8)),Aa.jc=!Aa.Qb&&6>jd,Aa.jc){var ql,nr=Aa;for(ql=0;ql<In;++ql){var Tr=ql,Nr=nr.pd[Tr],jl=nr.G[0][nr.H[0]+Tr];256<=jl.value?(Nr.g=jl.g+256,Nr.value=jl.value):(Nr.g=0,Nr.value=0,Tr>>=sn(jl,8,Nr),Tr>>=sn(nr.G[1][nr.H[1]+Tr],16,Nr),Tr>>=sn(nr.G[2][nr.H[2]+Tr],0,Nr),sn(nr.G[3][nr.H[3]+Tr],24,Nr))}}}yn.vc=Cn,yn.Wb=Mn,yn.Ya=Il,yn.yc=Hc,qi=1;break t}qi=0}if(!(N=qi)){_.a=3;break e}if(0<je){if(G.ua=1<<je,!ti(G.Wa,je)){_.a=1,N=0;break e}}else G.ua=0;var $c=_,$d=I,Eh=R,Kc=$c.s,ed=Kc.xc;if($c.c=$d,$c.i=Eh,Kc.md=Ht($d,ed),Kc.wc=0==ed?-1:(1<<ed)-1,f){_.xb=uh;break e}if(null==(Se=c(I*R))){_.a=1,N=0;break e}N=(N=aa(_,Se,0,I,R,R,null))&&!B.h;break e}return N?(null!=A?A[0]=Se:(i(null==Se),i(f)),_.$=0,f||ga(G)):ga(G),N}function hr(n,l){var f=n.c*n.i,_=f+l+16*l;return i(n.c<=l),n.V=c(_),null==n.V?(n.Ta=null,n.Ua=0,n.a=1,0):(n.Ta=n.V,n.Ua=n.Ba+f+l,1)}function jr(n,l){var f=n.C,_=l-f,A=n.V,N=n.Ba+n.c*f;for(i(l<=n.l.o);0<_;){var I=16<_?16:_,R=n.l.ma,B=n.l.width,G=B*I,Se=R.ca,je=R.tb+B*f,Ze=n.Ta,Fe=n.Ua;Nn(n,I,A,N),bd(Ze,Fe,Se,je,G),ia(R,f,f+I,Se,je,B),_-=I,A+=I*n.c,f+=I}i(f==l),n.C=n.Ma=l}function Zr(){this.ub=this.yd=this.td=this.Rb=0}function zr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yr(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function Wo(){var n;this.Yb=(function l(f,_,A){for(var N=A[_],I=0;I<N&&(f.push(A.length>_+1?[]:0),!(A.length<_+1));I++)l(f[I],_+1,A)}(n=[],0,[3,11]),n)}function rl(){this.jb=c(3),this.Wc=m([4,8],Wo),this.Xc=m([4,17],Wo)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function ur(){this.ld=this.La=this.dd=this.tc=0}function Go(){this.Na=this.la=0}function sl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lo(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new ur),this.Y=0,this.ya=Array(new lo),this.aa=0,this.l=new pr}function Jo(){this.y=c(16),this.f=c(8),this.ea=c(8)}function cl(){this.cb=this.a=0,this.sc="",this.m=new Ft,this.Od=new Zr,this.Kc=new zr,this.ed=new ol,this.Qa=new Yr,this.Ic=this.$c=this.Aa=0,this.D=new ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=p(8,Ft),this.ia=0,this.pb=p(4,sl),this.Pa=new rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jo),this.Hd=0,this.rb=Array(new Go),this.sb=0,this.wa=Array(new ur),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lo),this.L=this.aa=0,this.gd=m([4,2],ur),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qo(){var n=new cl;return null!=n&&(n.a=0,n.sc="OK",n.cb=0,n.Xb=0,vs||(vs=uo)),n}function Qi(n,l,f){return 0==n.a&&(n.a=l,n.sc=f,n.cb=0),0}function co(n,l,f){return 3<=f&&157==n[l+0]&&1==n[l+1]&&42==n[l+2]}function ho(n,l){if(null==n)return 0;if(n.a=0,n.sc="OK",null==l)return Qi(n,2,"null VP8Io passed to VP8GetHeaders()");var f=l.data,_=l.w,A=l.ha;if(4>A)return Qi(n,7,"Truncated header.");var N=f[_+0]|f[_+1]<<8|f[_+2]<<16,I=n.Od;if(I.Rb=!(1&N),I.td=N>>1&7,I.yd=N>>4&1,I.ub=N>>5,3<I.td)return Qi(n,3,"Incorrect keyframe parameters.");if(!I.yd)return Qi(n,4,"Frame not displayable.");_+=3,A-=3;var R=n.Kc;if(I.Rb){if(7>A)return Qi(n,7,"cannot parse picture header");if(!co(f,_,A))return Qi(n,3,"Bad code word");R.c=16383&(f[_+4]<<8|f[_+3]),R.Td=f[_+4]>>6,R.i=16383&(f[_+6]<<8|f[_+5]),R.Ud=f[_+6]>>6,_+=7,A-=7,n.za=R.c+15>>4,n.Ub=R.i+15>>4,l.width=R.c,l.height=R.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,d((N=n.Pa).jb,0,255,N.jb.length),i(null!=(N=n.Qa)),N.Cb=0,N.Bb=0,N.Fb=1,d(N.Zb,0,0,N.Zb.length),d(N.Lb,0,0,N.Lb)}if(I.ub>A)return Qi(n,7,"bad partition length");et(N=n.m,f,_,I.ub),_+=I.ub,A-=I.ub,I.Rb&&(R.Ld=Ge(N),R.Kd=Ge(N)),R=n.Qa;var B,G=n.Pa;if(i(null!=N),i(null!=R),R.Cb=Ge(N),R.Cb){if(R.Bb=Ge(N),Ge(N)){for(R.Fb=Ge(N),B=0;4>B;++B)R.Zb[B]=Ge(N)?ot(N,7):0;for(B=0;4>B;++B)R.Lb[B]=Ge(N)?ot(N,6):0}if(R.Bb)for(B=0;3>B;++B)G.jb[B]=Ge(N)?Je(N,8):255}else R.Bb=0;if(N.Ka)return Qi(n,3,"cannot parse segment header");if((R=n.ed).zd=Ge(N),R.Tb=Je(N,6),R.wb=Je(N,3),R.Pc=Ge(N),R.Pc&&Ge(N)){for(G=0;4>G;++G)Ge(N)&&(R.vd[G]=ot(N,6));for(G=0;4>G;++G)Ge(N)&&(R.od[G]=ot(N,6))}if(n.L=0==R.Tb?0:R.zd?1:2,N.Ka)return Qi(n,3,"cannot parse filter header");var Se=A;if(A=B=_,_=B+Se,R=Se,n.Xb=(1<<Je(n.m,2))-1,Se<3*(G=n.Xb))f=7;else{for(B+=3*G,R-=3*G,Se=0;Se<G;++Se){var je=f[A+0]|f[A+1]<<8|f[A+2]<<16;je>R&&(je=R),et(n.Jc[+Se],f,B,je),B+=je,R-=je,A+=3}et(n.Jc[+G],f,B,R),f=B<_?0:5}if(0!=f)return Qi(n,f,"cannot parse partitions");for(f=Je(B=n.m,7),A=Ge(B)?ot(B,4):0,_=Ge(B)?ot(B,4):0,R=Ge(B)?ot(B,4):0,G=Ge(B)?ot(B,4):0,B=Ge(B)?ot(B,4):0,Se=n.Qa,je=0;4>je;++je){if(Se.Cb){var Ze=Se.Zb[je];Se.Fb||(Ze+=f)}else{if(0<je){n.pb[je]=n.pb[0];continue}Ze=f}var Fe=n.pb[je];Fe.Sc[0]=zc[Zn(Ze+A,127)],Fe.Sc[1]=Yc[Zn(Ze+0,127)],Fe.Eb[0]=2*zc[Zn(Ze+_,127)],Fe.Eb[1]=101581*Yc[Zn(Ze+R,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=zc[Zn(Ze+G,117)],Fe.Qc[1]=Yc[Zn(Ze+B,127)],Fe.lc=Ze+B}if(!I.Rb)return Qi(n,4,"Not a key frame.");for(Ge(N),I=n.Pa,f=0;4>f;++f){for(A=0;8>A;++A)for(_=0;3>_;++_)for(R=0;11>R;++R)G=Qe(N,dh[f][A][_][R])?Je(N,8):lh[f][A][_][R],I.Wc[f][A].Yb[_][R]=G;for(A=0;17>A;++A)I.Xc[f][A]=I.Wc[f][hh[A]]}return n.kc=Ge(N),n.kc&&(n.Bd=Je(N,8)),n.cb=1}function uo(n,l,f,_,A,N,I){var R=l[A].Yb[f];for(f=0;16>A;++A){if(!Qe(n,R[f+0]))return A;for(;!Qe(n,R[f+1]);)if(R=l[++A].Yb[0],f=0,16==A)return 16;var B=l[A+1].Yb;if(Qe(n,R[f+2])){var G=n,Se=0;if(Qe(G,(Ze=R)[(je=f)+3]))if(Qe(G,Ze[je+6])){for(R=0,je=2*(Se=Qe(G,Ze[je+8]))+(Ze=Qe(G,Ze[je+9+Se])),Se=0,Ze=oh[je];Ze[R];++R)Se+=Se+Qe(G,Ze[R]);Se+=3+(8<<je)}else Qe(G,Ze[je+7])?(Se=7+2*Qe(G,165),Se+=Qe(G,145)):Se=5+Qe(G,159);else Se=Qe(G,Ze[je+4])?3+Qe(G,Ze[je+5]):2;R=B[2]}else Se=1,R=B[1];B=I+sh[A],0>(G=n).b&&He(G);var je,Ze=G.b,Fe=(je=G.Ca>>1)-(G.I>>Ze)>>31;--G.b,G.Ca+=Fe,G.Ca|=1,G.I-=(je+1&Fe)<<Ze,N[B]=((Se^Fe)-Fe)*_[(0<A)+0]}return 16}function h(n){var l=n.rb[n.sb-1];l.la=0,l.Na=0,d(n.zc,0,0,n.zc.length),n.ja=0}function t(n,l,f,_,A){n[l+f+32*_]=-256&(A=n[l+f+32*_]+(A>>3))?0>A?0:255:A}function a(n,l,f,_,A,N){t(n,l,0,f,_+A),t(n,l,1,f,_+N),t(n,l,2,f,_-N),t(n,l,3,f,_-A)}function v(n){return(20091*n>>16)+n}function b(n,l,f,_){var A,N=0,I=c(16);for(A=0;4>A;++A){var R=n[l+0]+n[l+8],B=n[l+0]-n[l+8],G=(35468*n[l+4]>>16)-v(n[l+12]),Se=v(n[l+4])+(35468*n[l+12]>>16);I[N+0]=R+Se,I[N+1]=B+G,I[N+2]=B-G,I[N+3]=R-Se,N+=4,l++}for(A=N=0;4>A;++A)R=(n=I[N+0]+4)+I[N+8],B=n-I[N+8],G=(35468*I[N+4]>>16)-v(I[N+12]),t(f,_,0,0,R+(Se=v(I[N+4])+(35468*I[N+12]>>16))),t(f,_,1,0,B+G),t(f,_,2,0,B-G),t(f,_,3,0,R-Se),N++,_+=32}function V(n,l,f,_){var A=n[l+0]+4,N=35468*n[l+4]>>16,I=v(n[l+4]),R=35468*n[l+1]>>16;a(f,_,0,A+I,n=v(n[l+1]),R),a(f,_,1,A+N,n,R),a(f,_,2,A-N,n,R),a(f,_,3,A-I,n,R)}function tt(n,l,f,_,A){b(n,l,f,_),A&&b(n,l+16,f,_+4)}function Wt(n,l,f,_){So(n,l+0,f,_,1),So(n,l+32,f,_+128,1)}function ai(n,l,f,_){var A;for(n=n[l+0]+4,A=0;4>A;++A)for(l=0;4>l;++l)t(f,_,l,A,n)}function di(n,l,f,_){n[l+0]&&xa(n,l+0,f,_),n[l+16]&&xa(n,l+16,f,_+4),n[l+32]&&xa(n,l+32,f,_+128),n[l+48]&&xa(n,l+48,f,_+128+4)}function Yi(n,l,f,_){var A,N=c(16);for(A=0;4>A;++A){var I=n[l+0+A]+n[l+12+A],R=n[l+4+A]+n[l+8+A],B=n[l+4+A]-n[l+8+A],G=n[l+0+A]-n[l+12+A];N[0+A]=I+R,N[8+A]=I-R,N[4+A]=G+B,N[12+A]=G-B}for(A=0;4>A;++A)I=(n=N[0+4*A]+3)+N[3+4*A],B=N[1+4*A]-N[2+4*A],G=n-N[3+4*A],f[_+0]=I+(R=N[1+4*A]+N[2+4*A])>>3,f[_+16]=G+B>>3,f[_+32]=I-R>>3,f[_+48]=G-B>>3,_+=64}function xn(n,l,f){var _,A=l-32,N=zn,I=255-n[A-1];for(_=0;_<f;++_){var R,B=N,G=I+n[l-1];for(R=0;R<f;++R)n[l+R]=B[G+n[A+R]];l+=32}}function ra(n,l){xn(n,l,4)}function Wa(n,l){xn(n,l,8)}function Xo(n,l){xn(n,l,16)}function Ga(n,l){var f;for(f=0;16>f;++f)s(n,l+32*f,n,l-32,16)}function po(n,l){var f;for(f=16;0<f;--f)d(n,l,n[l-1],16),l+=32}function fo(n,l,f){var _;for(_=0;16>_;++_)d(l,f+32*_,n,16)}function dl(n,l){var f,_=16;for(f=0;16>f;++f)_+=n[l-1+32*f]+n[l+f-32];fo(_>>5,n,l)}function Sn(n,l){var f,_=8;for(f=0;16>f;++f)_+=n[l-1+32*f];fo(_>>4,n,l)}function Cc(n,l){var f,_=8;for(f=0;16>f;++f)_+=n[l+f-32];fo(_>>4,n,l)}function hl(n,l){fo(128,n,l)}function ui(n,l,f){return n+2*l+f+2>>2}function Ac(n,l){var f,_=l-32;for(_=new Uint8Array([ui(n[_-1],n[_+0],n[_+1]),ui(n[_+0],n[_+1],n[_+2]),ui(n[_+1],n[_+2],n[_+3]),ui(n[_+2],n[_+3],n[_+4])]),f=0;4>f;++f)s(n,l+32*f,_,0,_.length)}function Sc(n,l){var f=n[l-1],_=n[l-1+32],A=n[l-1+64],N=n[l-1+96];At(n,l+0,16843009*ui(n[l-1-32],f,_)),At(n,l+32,16843009*ui(f,_,A)),At(n,l+64,16843009*ui(_,A,N)),At(n,l+96,16843009*ui(A,N,N))}function Ma(n,l){var f,_=4;for(f=0;4>f;++f)_+=n[l+f-32]+n[l-1+32*f];for(_>>=3,f=0;4>f;++f)d(n,l+32*f,_,4)}function ul(n,l){var f=n[l-1+0],_=n[l-1+32],A=n[l-1+64],N=n[l-1-32],I=n[l+0-32],R=n[l+1-32],B=n[l+2-32],G=n[l+3-32];n[l+0+96]=ui(_,A,n[l-1+96]),n[l+1+96]=n[l+0+64]=ui(f,_,A),n[l+2+96]=n[l+1+64]=n[l+0+32]=ui(N,f,_),n[l+3+96]=n[l+2+64]=n[l+1+32]=n[l+0+0]=ui(I,N,f),n[l+3+64]=n[l+2+32]=n[l+1+0]=ui(R,I,N),n[l+3+32]=n[l+2+0]=ui(B,R,I),n[l+3+0]=ui(G,B,R)}function pl(n,l){var f=n[l+1-32],_=n[l+2-32],A=n[l+3-32],N=n[l+4-32],I=n[l+5-32],R=n[l+6-32],B=n[l+7-32];n[l+0+0]=ui(n[l+0-32],f,_),n[l+1+0]=n[l+0+32]=ui(f,_,A),n[l+2+0]=n[l+1+32]=n[l+0+64]=ui(_,A,N),n[l+3+0]=n[l+2+32]=n[l+1+64]=n[l+0+96]=ui(A,N,I),n[l+3+32]=n[l+2+64]=n[l+1+96]=ui(N,I,R),n[l+3+64]=n[l+2+96]=ui(I,R,B),n[l+3+96]=ui(R,B,B)}function mo(n,l){var f=n[l-1+0],_=n[l-1+32],A=n[l-1+64],N=n[l-1-32],I=n[l+0-32],R=n[l+1-32],B=n[l+2-32],G=n[l+3-32];n[l+0+0]=n[l+1+64]=N+I+1>>1,n[l+1+0]=n[l+2+64]=I+R+1>>1,n[l+2+0]=n[l+3+64]=R+B+1>>1,n[l+3+0]=B+G+1>>1,n[l+0+96]=ui(A,_,f),n[l+0+64]=ui(_,f,N),n[l+0+32]=n[l+1+96]=ui(f,N,I),n[l+1+32]=n[l+2+96]=ui(N,I,R),n[l+2+32]=n[l+3+96]=ui(I,R,B),n[l+3+32]=ui(R,B,G)}function $o(n,l){var f=n[l+0-32],_=n[l+1-32],A=n[l+2-32],N=n[l+3-32],I=n[l+4-32],R=n[l+5-32],B=n[l+6-32],G=n[l+7-32];n[l+0+0]=f+_+1>>1,n[l+1+0]=n[l+0+64]=_+A+1>>1,n[l+2+0]=n[l+1+64]=A+N+1>>1,n[l+3+0]=n[l+2+64]=N+I+1>>1,n[l+0+32]=ui(f,_,A),n[l+1+32]=n[l+0+96]=ui(_,A,N),n[l+2+32]=n[l+1+96]=ui(A,N,I),n[l+3+32]=n[l+2+96]=ui(N,I,R),n[l+3+64]=ui(I,R,B),n[l+3+96]=ui(R,B,G)}function kc(n,l){var f=n[l-1+0],_=n[l-1+32],A=n[l-1+64],N=n[l-1+96];n[l+0+0]=f+_+1>>1,n[l+2+0]=n[l+0+32]=_+A+1>>1,n[l+2+32]=n[l+0+64]=A+N+1>>1,n[l+1+0]=ui(f,_,A),n[l+3+0]=n[l+1+32]=ui(_,A,N),n[l+3+32]=n[l+1+64]=ui(A,N,N),n[l+3+64]=n[l+2+64]=n[l+0+96]=n[l+1+96]=n[l+2+96]=n[l+3+96]=N}function Tc(n,l){var f=n[l-1+0],_=n[l-1+32],A=n[l-1+64],N=n[l-1+96],I=n[l-1-32],R=n[l+0-32],B=n[l+1-32],G=n[l+2-32];n[l+0+0]=n[l+2+32]=f+I+1>>1,n[l+0+32]=n[l+2+64]=_+f+1>>1,n[l+0+64]=n[l+2+96]=A+_+1>>1,n[l+0+96]=N+A+1>>1,n[l+3+0]=ui(R,B,G),n[l+2+0]=ui(I,R,B),n[l+1+0]=n[l+3+32]=ui(f,I,R),n[l+1+32]=n[l+3+64]=ui(_,f,I),n[l+1+64]=n[l+3+96]=ui(A,_,f),n[l+1+96]=ui(N,A,_)}function Nc(n,l){var f;for(f=0;8>f;++f)s(n,l+32*f,n,l-32,8)}function Ko(n,l){var f;for(f=0;8>f;++f)d(n,l,n[l-1],8),l+=32}function Vr(n,l,f){var _;for(_=0;8>_;++_)d(l,f+32*_,n,8)}function fr(n,l){var f,_=8;for(f=0;8>f;++f)_+=n[l+f-32]+n[l-1+32*f];Vr(_>>4,n,l)}function Mc(n,l){var f,_=4;for(f=0;8>f;++f)_+=n[l+f-32];Vr(_>>3,n,l)}function Hr(n,l){var f,_=4;for(f=0;8>f;++f)_+=n[l-1+32*f];Vr(_>>3,n,l)}function es(n,l){Vr(128,n,l)}function go(n,l,f){var _=n[l-f],A=n[l+0],N=3*(A-_)+Bc[1020+n[l-2*f]-n[l+f]],I=xl[112+(N+4>>3)];n[l-f]=zn[255+_+xl[112+(N+3>>3)]],n[l+0]=zn[255+A-I]}function fl(n,l,f,_){return la[255+n[l-2*f]-n[l-f]]>_||la[255+n[l+f]-n[l+0]]>_}function ml(n,l,f,_){return 4*la[255+n[l-f]-n[l+0]]+la[255+n[l-2*f]-n[l+f]]<=_}function gl(n,l,f,_,A){var N=n[l-3*f],I=n[l-2*f],R=n[l-f],B=n[l+0],G=n[l+f],Se=n[l+2*f];return 4*la[255+R-B]+la[255+I-G]>_?0:la[255+n[l-4*f]-N]<=A&&la[255+N-I]<=A&&la[255+I-R]<=A&&la[255+n[l+3*f]-Se]<=A&&la[255+Se-G]<=A&&la[255+G-B]<=A}function vl(n,l,f,_){var A=2*_+1;for(_=0;16>_;++_)ml(n,l+_,f,A)&&go(n,l+_,f)}function Ja(n,l,f,_){var A=2*_+1;for(_=0;16>_;++_)ml(n,l+_*f,1,A)&&go(n,l+_*f,1)}function mr(n,l,f,_){var A;for(A=3;0<A;--A)vl(n,l+=4*f,f,_)}function Pc(n,l,f,_){var A;for(A=3;0<A;--A)Ja(n,l+=4,f,_)}function gr(n,l,f,_,A,N,I,R){for(N=2*N+1;0<A--;){if(gl(n,l,f,N,I))if(fl(n,l,f,R))go(n,l,f);else{var B=n,G=l,Se=f,je=B[G-2*Se],Ze=B[G-Se],Fe=B[G+0],mt=B[G+Se],Ke=B[G+2*Se],Te=27*(pt=Bc[1020+3*(Fe-Ze)+Bc[1020+je-mt]])+63>>7,Pe=18*pt+63>>7,pt=9*pt+63>>7;B[G-3*Se]=zn[255+B[G-3*Se]+pt],B[G-2*Se]=zn[255+je+Pe],B[G-Se]=zn[255+Ze+Te],B[G+0]=zn[255+Fe-Te],B[G+Se]=zn[255+mt-Pe],B[G+2*Se]=zn[255+Ke-pt]}l+=_}}function _a(n,l,f,_,A,N,I,R){for(N=2*N+1;0<A--;){if(gl(n,l,f,N,I))if(fl(n,l,f,R))go(n,l,f);else{var B=n,G=l,Se=f,je=B[G-Se],Ze=B[G+0],Fe=B[G+Se],mt=xl[112+(4+(Ke=3*(Ze-je))>>3)],Ke=xl[112+(Ke+3>>3)],Te=mt+1>>1;B[G-2*Se]=zn[255+B[G-2*Se]+Te],B[G-Se]=zn[255+je+Ke],B[G+0]=zn[255+Ze-mt],B[G+Se]=zn[255+Fe-Te]}l+=_}}function ts(n,l,f,_,A,N){gr(n,l,f,1,16,_,A,N)}function Wr(n,l,f,_,A,N){gr(n,l,1,f,16,_,A,N)}function Ic(n,l,f,_,A,N){var I;for(I=3;0<I;--I)_a(n,l+=4*f,f,1,16,_,A,N)}function vo(n,l,f,_,A,N){var I;for(I=3;0<I;--I)_a(n,l+=4,1,f,16,_,A,N)}function Lc(n,l,f,_,A,N,I,R){gr(n,l,A,1,8,N,I,R),gr(f,_,A,1,8,N,I,R)}function is(n,l,f,_,A,N,I,R){gr(n,l,1,A,8,N,I,R),gr(f,_,1,A,8,N,I,R)}function ns(n,l,f,_,A,N,I,R){_a(n,l+4*A,A,1,8,N,I,R),_a(f,_+4*A,A,1,8,N,I,R)}function _l(n,l,f,_,A,N,I,R){_a(n,l+4,1,A,8,N,I,R),_a(f,_+4,1,A,8,N,I,R)}function _o(){this.ba=new Un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function as(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bl(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new H}function Fc(){this.xb=this.a=0,this.l=new pr,this.ca=new Un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bl,this.ab=0,this.gc=p(4,rs),this.Oc=0}function bo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gr(n,l,f,_,A,N,I){for(n=null==n?0:n[l+0],l=0;l<I;++l)A[N+l]=n+f[_+l]&255,n=A[N+l]}function os(n,l,f,_,A,N,I){var R;if(null==n)Gr(null,null,f,_,A,N,I);else for(R=0;R<I;++R)A[N+R]=n[l+R]+f[_+R]&255}function vr(n,l,f,_,A,N,I){if(null==n)Gr(null,null,f,_,A,N,I);else{var R,B=n[l+0],G=B,Se=B;for(R=0;R<I;++R)G=Se+(B=n[l+R])-G,Se=f[_+R]+(-256&G?0>G?0:255:G)&255,G=B,A[N+R]=Se}}function ss(n,l,f,_){var A=l.width,N=l.o;if(i(null!=n&&null!=l),0>f||0>=_||f+_>N)return null;if(!n.Cc){if(null==n.ga){var I;if(n.ga=new bo,(I=null==n.ga)||(I=l.width*l.o,i(0==n.Gb.length),n.Gb=c(I),n.Uc=0,null==n.Gb?I=0:(n.mb=n.Gb,n.nb=n.Uc,n.rc=null,I=1),I=!I),!I){var R=n.Fa,B=n.P,G=n.qc,Se=n.mb,je=n.nb,Ze=B+1,Fe=G-1,mt=(I=n.ga).l;if(i(null!=R&&null!=Se&&null!=l),Cr[0]=null,Cr[1]=Gr,Cr[2]=os,Cr[3]=vr,I.ca=Se,I.tb=je,I.c=l.width,I.i=l.height,i(0<I.c&&0<I.i),1>=G)l=0;else if(I.$a=R[B+0]>>0&3,I.Z=R[B+0]>>2&3,I.Lc=R[B+0]>>4&3,B=R[B+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||B)l=0;else if(mt.put=Kn,mt.ac=pn,mt.bc=ea,mt.ma=I,mt.width=l.width,mt.height=l.height,mt.Da=l.Da,mt.v=l.v,mt.va=l.va,mt.j=l.j,mt.o=l.o,I.$a)e:{i(1==I.$a),l=jn();t:for(;;){if(null==l){l=0;break e}if(i(null!=I),I.mc=l,l.c=I.c,l.i=I.i,l.l=I.l,l.l.ma=I,l.l.width=I.c,l.l.height=I.i,l.a=0,Ve(l.m,R,Ze,Fe),!va(I.c,I.i,1,l,null)||(1==l.ab&&3==l.gc[0].hc&&Na(l.s)?(I.ic=1,R=l.c*l.i,l.Ta=null,l.Ua=0,l.V=c(R),l.Ba=0,null==l.V?(l.a=1,l=0):l=1):(I.ic=0,l=hr(l,I.c)),!l))break t;l=1;break e}I.mc=null,l=0}else l=Fe>=I.c*I.i;I=!l}if(I)return null;1!=n.ga.Lc?n.Ga=0:_=N-f}i(null!=n.ga),i(f+_<=N);e:{if(l=(R=n.ga).c,N=R.l.o,0==R.$a){if(Ze=n.rc,Fe=n.Vc,mt=n.Fa,G=n.mb,Se=n.nb+f*l,i((B=n.P+1+f*l)<=n.P+n.qc),0!=R.Z)for(i(null!=Cr[R.Z]),I=0;I<_;++I)Cr[R.Z](Ze,Fe,mt,B,G,Se,l),Ze=G,Fe=Se,Se+=l,B+=l;else for(I=0;I<_;++I)s(G,Se,mt,B,l),Ze=G,Fe=Se,Se+=l,B+=l;n.rc=Ze,n.Vc=Fe}else{if(i(null!=R.mc),l=f+_,i(null!=(I=R.mc)),i(l<=I.i),I.C>=l)l=1;else if(R.ic||Ue(),R.ic){R=I.V,Ze=I.Ba;var Ke=I.i,Te=(mt=1,B=I.$/(Fe=I.c),G=I.$%Fe,Se=I.m,je=I.s,I.$),Pe=Fe*Ke,pt=Fe*l,_t=je.wc,ft=Te<pt?Ki(je,G,B):null;i(Te<=Pe),i(l<=Ke),i(Na(je));t:for(;;){for(;!Se.h&&Te<pt;){if(G&_t||(ft=Ki(je,G,B)),i(null!=ft),Re(Se),256>(Ke=An(ft.G[0],ft.H[0],Se)))R[Ze+Te]=Ke,++Te,++G>=Fe&&(G=0,++B<=l&&!(B%16)&&na(I,B));else{if(!(280>Ke)){mt=0;break t}Ke=qn(Ke-256,Se);var Yt,Lt=An(ft.G[4],ft.H[4],Se);if(Re(Se),!(Te>=(Lt=ta(Fe,Lt=qn(Lt,Se)))&&Pe-Te>=Ke)){mt=0;break t}for(Yt=0;Yt<Ke;++Yt)R[Ze+Te+Yt]=R[Ze+Te+Yt-Lt];for(Te+=Ke,G+=Ke;G>=Fe;)G-=Fe,++B<=l&&!(B%16)&&na(I,B);Te<pt&&G&_t&&(ft=Ki(je,G,B))}i(Se.h==pe(Se))}na(I,B>l?l:B);break t}!mt||Se.h&&Te<Pe?(mt=0,I.a=Se.h?5:3):I.$=Te,l=mt}else l=aa(I,I.V,I.Ba,I.c,I.i,l,jr);if(!l){_=0;break e}}f+_>=N&&(n.Cc=1),_=1}if(!_)return null;if(n.Cc&&(null!=(_=n.ga)&&(_.mc=null),n.ga=null,0<n.Ga))return alert("todo:WebPDequantizeLevels"),null}return n.nb+f*A}function u(n,l,f,_,A,N){for(;0<A--;){var I,R=n,B=l+(f?1:0),G=n,Se=l+(f?0:3);for(I=0;I<_;++I){var je=G[Se+4*I];255!=je&&(R[B+4*I+0]=R[B+4*I+0]*(je*=32897)>>23,R[B+4*I+1]=R[B+4*I+1]*je>>23,R[B+4*I+2]=R[B+4*I+2]*je>>23)}l+=N}}function S(n,l,f,_,A){for(;0<_--;){var N;for(N=0;N<f;++N){var I=n[l+2*N+0],R=15&(G=n[l+2*N+1]),B=4369*R,G=(240&G|G>>4)*B>>16;n[l+2*N+0]=(240&I|I>>4)*B>>16&240|(15&I|I<<4)*B>>16>>4&15,n[l+2*N+1]=240&G|R}l+=A}}function ie(n,l,f,_,A,N,I,R){var B,G,Se=255;for(G=0;G<A;++G){for(B=0;B<_;++B){var je=n[l+B];N[I+4*B]=je,Se&=je}l+=f,I+=R}return 255!=Se}function xe(n,l,f,_,A){var N;for(N=0;N<A;++N)f[_+N]=n[l+N]>>8}function Ue(){Dr=u,To=S,Dl=ie,bd=xe}function nt(n,l,f){ve[n]=function(_,A,N,I,R,B,G,Se,je,Ze,Fe,mt,Ke,Te,Pe,pt,_t){var ft,Yt=_t-1>>1,Lt=R[B+0]|G[Se+0]<<16,Kt=je[Ze+0]|Fe[mt+0]<<16;i(null!=_);var Ot=3*Lt+Kt+131074>>2;for(l(_[A+0],255&Ot,Ot>>16,Ke,Te),null!=N&&l(N[I+0],255&(Ot=3*Kt+Lt+131074>>2),Ot>>16,Pe,pt),ft=1;ft<=Yt;++ft){var Ii=R[B+ft]|G[Se+ft]<<16,Ri=je[Ze+ft]|Fe[mt+ft]<<16,ki=Lt+Ii+Kt+Ri+524296,wi=ki+2*(Ii+Kt)>>3;Ot=wi+Lt>>1,Lt=(ki=ki+2*(Lt+Ri)>>3)+Ii>>1,l(_[A+2*ft-1],255&Ot,Ot>>16,Ke,Te+(2*ft-1)*f),l(_[A+2*ft-0],255&Lt,Lt>>16,Ke,Te+(2*ft-0)*f),null!=N&&(Lt=wi+Ri>>1,l(N[I+2*ft-1],255&(Ot=ki+Kt>>1),Ot>>16,Pe,pt+(2*ft-1)*f),l(N[I+2*ft+0],255&Lt,Lt>>16,Pe,pt+(2*ft+0)*f)),Lt=Ii,Kt=Ri}1&_t||(l(_[A+_t-1],255&(Ot=3*Lt+Kt+131074>>2),Ot>>16,Ke,Te+(_t-1)*f),null!=N&&l(N[I+_t-1],255&(Ot=3*Kt+Lt+131074>>2),Ot>>16,Pe,pt+(_t-1)*f))}}function yt(){ca[Cl]=ph,ca[Al]=Md,ca[Ad]=fh,ca[Sl]=Pd,ca[kl]=Id,ca[Uc]=Ld,ca[Sd]=mh,ca[qc]=Md,ca[jc]=Pd,ca[Tl]=Id,ca[Zc]=Ld}function zt(n){return n&~gh?0>n?0:255:n>>Fd}function Qt(n,l){return zt((19077*n>>8)+(26149*l>>8)-14234)}function mi(n,l,f){return zt((19077*n>>8)-(6419*l>>8)-(13320*f>>8)+8708)}function _i(n,l){return zt((19077*n>>8)+(33050*l>>8)-17685)}function Ai(n,l,f,_,A){_[A+0]=Qt(n,f),_[A+1]=mi(n,l,f),_[A+2]=_i(n,l)}function Xi(n,l,f,_,A){_[A+0]=_i(n,l),_[A+1]=mi(n,l,f),_[A+2]=Qt(n,f)}function en(n,l,f,_,A){var N=mi(n,l,f);l=N<<3&224|_i(n,l)>>3,_[A+0]=248&Qt(n,f)|N>>5,_[A+1]=l}function cn(n,l,f,_,A){var N=240&_i(n,l)|15;_[A+0]=240&Qt(n,f)|mi(n,l,f)>>4,_[A+1]=N}function kn(n,l,f,_,A){_[A+0]=255,Ai(n,l,f,_,A+1)}function bn(n,l,f,_,A){Xi(n,l,f,_,A),_[A+3]=255}function ba(n,l,f,_,A){Ai(n,l,f,_,A),_[A+3]=255}function Zn(n,l){return 0>n?0:n>l?l:n}function Qa(n,l,f){ve[n]=function(_,A,N,I,R,B,G,Se,je){for(var Ze=Se+(-2&je)*f;Se!=Ze;)l(_[A+0],N[I+0],R[B+0],G,Se),l(_[A+1],N[I+0],R[B+0],G,Se+f),A+=2,++I,++B,Se+=2*f;1&je&&l(_[A+0],N[I+0],R[B+0],G,Se)}}function yl(n,l,f){return 0==f?0==n?0==l?6:5:0==l?4:0:f}function ls(n,l,f,_,A){switch(n>>>30){case 3:So(l,f,_,A,0);break;case 2:ms(l,f,_,A);break;case 1:xa(l,f,_,A)}}function cs(n,l){var f,_,A=l.M,N=l.Nb,I=n.oc,R=n.pc+40,B=n.oc,G=n.pc+584,Se=n.oc,je=n.pc+600;for(f=0;16>f;++f)I[R+32*f-1]=129;for(f=0;8>f;++f)B[G+32*f-1]=129,Se[je+32*f-1]=129;for(0<A?I[R-1-32]=B[G-1-32]=Se[je-1-32]=129:(d(I,R-32-1,127,21),d(B,G-32-1,127,9),d(Se,je-32-1,127,9)),_=0;_<n.za;++_){var Ze=l.ya[l.aa+_];if(0<_){for(f=-1;16>f;++f)s(I,R+32*f-4,I,R+32*f+12,4);for(f=-1;8>f;++f)s(B,G+32*f-4,B,G+32*f+4,4),s(Se,je+32*f-4,Se,je+32*f+4,4)}var Fe=n.Gd,mt=n.Hd+_,Ke=Ze.ad,Te=Ze.Hc;if(0<A&&(s(I,R-32,Fe[mt].y,0,16),s(B,G-32,Fe[mt].f,0,8),s(Se,je-32,Fe[mt].ea,0,8)),Ze.Za){var Pe=I,pt=R-32+16;for(0<A&&(_>=n.za-1?d(Pe,pt,Fe[mt].y[15],4):s(Pe,pt,Fe[mt+1].y,0,4)),f=0;4>f;f++)Pe[pt+128+f]=Pe[pt+256+f]=Pe[pt+384+f]=Pe[pt+0+f];for(f=0;16>f;++f,Te<<=2)Ca[Ze.Ob[f]](Pe=I,pt=R+Rd[f]),ls(Te,Ke,16*+f,Pe,pt)}else if(Pe=yl(_,A,Ze.Ob[0]),xr[Pe](I,R),0!=Te)for(f=0;16>f;++f,Te<<=2)ls(Te,Ke,16*+f,I,R+Rd[f]);for(f=Ze.Gc,Pe=yl(_,A,Ze.Dd),tr[Pe](B,G),tr[Pe](Se,je),Te=Ke,Pe=B,pt=G,255&(Ze=f>>0)&&(170&Ze?yr(Te,256,Pe,pt):$a(Te,256,Pe,pt)),Ze=Se,Te=je,255&(f>>=8)&&(170&f?yr(Ke,320,Ze,Te):$a(Ke,320,Ze,Te)),A<n.Ub-1&&(s(Fe[mt].y,0,I,R+480,16),s(Fe[mt].f,0,B,G+224,8),s(Fe[mt].ea,0,Se,je+224,8)),Fe=n.sa,mt=n.ta+16*_+16*N*n.R,Ke=n.qa,Ze=n.ra+8*_+(f=8*N*n.B),Te=n.Ha,Pe=n.Ia+8*_+f,f=0;16>f;++f)s(Fe,mt+f*n.R,I,R+32*f,16);for(f=0;8>f;++f)s(Ke,Ze+f*n.B,B,G+32*f,8),s(Te,Pe+f*n.B,Se,je+32*f,8)}}function yo(n,l,f,_,A,N,I,R,B){var G=[0],Se=[0],je=0,Ze=null!=B?B.kd:0,Fe=B??new as;if(null==n||12>f)return 7;Fe.data=n,Fe.w=l,Fe.ha=f,l=[l],f=[f],Fe.gb=[Fe.gb];e:{var mt=l,Ke=f,Te=Fe.gb;if(i(null!=n),i(null!=Ke),i(null!=Te),Te[0]=0,12<=Ke[0]&&!r(n,mt[0],"RIFF")){if(r(n,mt[0]+8,"WEBP")){Te=3;break e}var Pe=Zt(n,mt[0]+4);if(12>Pe||4294967286<Pe){Te=3;break e}if(Ze&&Pe>Ke[0]-8){Te=7;break e}Te[0]=Pe,mt[0]+=12,Ke[0]-=12}Te=0}if(0!=Te)return Te;for(Pe=0<Fe.gb[0],f=f[0];;){e:{var pt=n;Ke=l,Te=f;var _t=G,ft=Se,Yt=mt=[0];if((Ot=je=[je])[0]=0,8>Te[0])Te=7;else{if(!r(pt,Ke[0],"VP8X")){if(10!=Zt(pt,Ke[0]+4)){Te=3;break e}if(18>Te[0]){Te=7;break e}var Lt=Zt(pt,Ke[0]+8),Kt=1+jt(pt,Ke[0]+12);if(2147483648<=Kt*(pt=1+jt(pt,Ke[0]+15))){Te=3;break e}null!=Yt&&(Yt[0]=Lt),null!=_t&&(_t[0]=Kt),null!=ft&&(ft[0]=pt),Ke[0]+=18,Te[0]-=18,Ot[0]=1}Te=0}}if(je=je[0],0!=Te)return Te;if(Ke=!!(2&(mt=mt[0])),!Pe&&je)return 3;if(null!=N&&(N[0]=!!(16&mt)),null!=I&&(I[0]=Ke),null!=R&&(R[0]=0),I=G[0],mt=Se[0],je&&Ke&&null==B){Te=0;break}if(4>f){Te=7;break}if(Pe&&je||!Pe&&!je&&!r(n,l[0],"ALPH")){f=[f],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Te=l,Pe=f;var Ot=Fe.gb;_t=Fe.na,ft=Fe.P,Yt=Fe.Sa,Kt=22,i(null!=(Lt=n)),i(null!=Pe),pt=Te[0];var Ii=Pe[0];for(i(null!=_t),i(null!=Yt),_t[0]=null,ft[0]=null,Yt[0]=0;;){if(Te[0]=pt,Pe[0]=Ii,8>Ii){Te=7;break e}var Ri=Zt(Lt,pt+4);if(4294967286<Ri){Te=3;break e}var ki=8+Ri+1&-2;if(Kt+=ki,0<Ot&&Kt>Ot){Te=3;break e}if(!r(Lt,pt,"VP8 ")||!r(Lt,pt,"VP8L")){Te=0;break e}if(Ii[0]<ki){Te=7;break e}r(Lt,pt,"ALPH")||(_t[0]=Lt,ft[0]=pt+8,Yt[0]=Ri),pt+=ki,Ii-=ki}}if(f=f[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],0!=Te)break}f=[f],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Ot=n,Te=l,Pe=f,_t=Fe.gb[0],ft=Fe.Ja,Yt=Fe.xa,Lt=Te[0],pt=!r(Ot,Lt,"VP8 "),Kt=!r(Ot,Lt,"VP8L"),i(null!=Ot),i(null!=Pe),i(null!=ft),i(null!=Yt),8>Pe[0])Te=7;else{if(pt||Kt){if(Ot=Zt(Ot,Lt+4),12<=_t&&Ot>_t-12){Te=3;break e}if(Ze&&Ot>Pe[0]-8){Te=7;break e}ft[0]=Ot,Te[0]+=8,Pe[0]-=8,Yt[0]=Kt}else Yt[0]=5<=Pe[0]&&47==Ot[Lt+0]&&!(Ot[Lt+4]>>5),ft[0]=Pe[0];Te=0}if(f=f[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],l=l[0],0!=Te)break;if(4294967286<Fe.Ja)return 3;if(null==R||Ke||(R[0]=Fe.xa?2:1),I=[I],mt=[mt],Fe.xa){if(5>f){Te=7;break}R=I,Ze=mt,Ke=N,null==n||5>f?n=0:5<=f&&47==n[l+0]&&!(n[l+4]>>5)?(Pe=[0],Ot=[0],_t=[0],Ve(ft=new P,n,l,f),ii(ft,Pe,Ot,_t)?(null!=R&&(R[0]=Pe[0]),null!=Ze&&(Ze[0]=Ot[0]),null!=Ke&&(Ke[0]=_t[0]),n=1):n=0):n=0}else{if(10>f){Te=7;break}R=mt,null==n||10>f||!co(n,l+3,f-3)?n=0:(Ze=n[l+0]|n[l+1]<<8|n[l+2]<<16,Ke=16383&(n[l+7]<<8|n[l+6]),n=16383&(n[l+9]<<8|n[l+8]),1&Ze||3<(Ze>>1&7)||!(Ze>>4&1)||Ze>>5>=Fe.Ja||!Ke||!n?n=0:(I&&(I[0]=Ke),R&&(R[0]=n),n=1))}if(!n||(I=I[0],mt=mt[0],je&&(G[0]!=I||Se[0]!=mt)))return 3;null!=B&&(B[0]=Fe,B.offset=l-B.w,i(4294967286>l-B.w),i(B.offset==B.ha-f));break}return 0==Te||7==Te&&je&&null==B?(null!=N&&(N[0]|=null!=Fe.na&&0<Fe.na.length),null!=_&&(_[0]=I),null!=A&&(A[0]=mt),0):Te}function ds(n,l,f){var _=l.width,A=l.height,N=0,I=0,R=_,B=A;if(l.Da=null!=n&&0<n.Da,l.Da&&(R=n.cd,B=n.bd,N=n.v,I=n.j,11>f||(N&=-2,I&=-2),0>N||0>I||0>=R||0>=B||N+R>_||I+B>A))return 0;if(l.v=N,l.j=I,l.va=N+R,l.o=I+B,l.U=R,l.T=B,l.da=null!=n&&0<n.da,l.da){if(!hi(R,B,f=[n.ib],N=[n.hb]))return 0;l.ib=f[0],l.hb=N[0]}return l.ob=null!=n&&n.ob,l.Kb=null==n||!n.Sd,l.da&&(l.ob=l.ib<3*_/4&&l.hb<3*A/4,l.Kb=0),1}function hs(n){if(null==n)return 2;if(11>n.S){var l=n.f.RGBA;l.fb+=(n.height-1)*l.A,l.A=-l.A}else(l=n.f.kb).O+=((n=n.height)-1)*l.fa,l.fa=-l.fa,l.N+=(n-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(n-1>>1)*l.Db,l.Db=-l.Db,null!=l.F&&(l.J+=(n-1)*l.lb,l.lb=-l.lb);return 0}function wo(n,l,f,_){if(null==_||0>=n||0>=l)return 2;if(null!=f){if(f.Da){var A=f.cd,N=f.bd,I=-2&f.v,R=-2&f.j;if(0>I||0>R||0>=A||0>=N||I+A>n||R+N>l)return 2;n=A,l=N}if(f.da){if(!hi(n,l,A=[f.ib],N=[f.hb]))return 2;n=A[0],l=N[0]}}_.width=n,_.height=l;e:{var B=_.width,G=_.height;if(n=_.S,0>=B||0>=G||!(n>=Cl&&13>n))n=2;else{if(0>=_.Rd&&null==_.sd){I=N=A=l=0;var Se=(R=B*Od[n])*G;if(11>n||(N=(G+1)/2*(l=(B+1)/2),12==n&&(I=(A=B)*G)),null==(G=c(Se+2*N+I))){n=1;break e}_.sd=G,11>n?((B=_.f.RGBA).eb=G,B.fb=0,B.A=R,B.size=Se):((B=_.f.kb).y=G,B.O=0,B.fa=R,B.Fd=Se,B.f=G,B.N=0+Se,B.Ab=l,B.Cd=N,B.ea=G,B.W=0+Se+N,B.Db=l,B.Ed=N,12==n&&(B.F=G,B.J=0+Se+2*N),B.Tc=I,B.lb=A)}if(l=1,N=_.width,I=_.height,(A=_.S)>=Cl&&13>A)if(11>A)n=_.f.RGBA,l&=(R=Math.abs(n.A))*(I-1)+N<=n.size,l&=R>=N*Od[A],l&=null!=n.eb;else{n=_.f.kb,R=(N+1)/2,Se=(I+1)/2,B=Math.abs(n.fa),G=Math.abs(n.Ab);var je=Math.abs(n.Db),Ze=Math.abs(n.lb);l&=B*(I-1)+N<=n.Fd,l&=G*(Se-1)+R<=n.Cd,l=(l&=je*(Se-1)+R<=n.Ed)&B>=N&G>=R&je>=R,l&=null!=n.y,l&=null!=n.f,l&=null!=n.ea,12==A&&(l&=Ze>=N,l&=Ze*(I-1)+N<=n.Tc,l&=null!=n.F)}else l=0;n=l?0:2}}return 0!=n||null!=f&&f.fd&&(n=hs(_)),n}var In=64,Do=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xo=24,Co=32,us=8,Ln=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mt("Predictor0","PredictorAdd0"),ve.Predictor0=function(){return 4278190080},ve.Predictor1=function(n){return n},ve.Predictor2=function(n,l,f){return l[f+0]},ve.Predictor3=function(n,l,f){return l[f+1]},ve.Predictor4=function(n,l,f){return l[f-1]},ve.Predictor5=function(n,l,f){return Et(Et(n,l[f+1]),l[f+0])},ve.Predictor6=function(n,l,f){return Et(n,l[f-1])},ve.Predictor7=function(n,l,f){return Et(n,l[f+0])},ve.Predictor8=function(n,l,f){return Et(l[f-1],l[f+0])},ve.Predictor9=function(n,l,f){return Et(l[f+0],l[f+1])},ve.Predictor10=function(n,l,f){return Et(Et(n,l[f-1]),Et(l[f+0],l[f+1]))},ve.Predictor11=function(n,l,f){var _=l[f+0];return 0>=fi(_>>24&255,n>>24&255,(l=l[f-1])>>24&255)+fi(_>>16&255,n>>16&255,l>>16&255)+fi(_>>8&255,n>>8&255,l>>8&255)+fi(255&_,255&n,255&l)?_:n},ve.Predictor12=function(n,l,f){var _=l[f+0];return(Gt((n>>24&255)+(_>>24&255)-((l=l[f-1])>>24&255))<<24|Gt((n>>16&255)+(_>>16&255)-(l>>16&255))<<16|Gt((n>>8&255)+(_>>8&255)-(l>>8&255))<<8|Gt((255&n)+(255&_)-(255&l)))>>>0},ve.Predictor13=function(n,l,f){var _=l[f-1];return(li((n=Et(n,l[f+0]))>>24&255,_>>24&255)<<24|li(n>>16&255,_>>16&255)<<16|li(n>>8&255,_>>8&255)<<8|li(n>>0&255,_>>0&255))>>>0};var Ec=ve.PredictorAdd0;ve.PredictorAdd1=vi,Mt("Predictor2","PredictorAdd2"),Mt("Predictor3","PredictorAdd3"),Mt("Predictor4","PredictorAdd4"),Mt("Predictor5","PredictorAdd5"),Mt("Predictor6","PredictorAdd6"),Mt("Predictor7","PredictorAdd7"),Mt("Predictor8","PredictorAdd8"),Mt("Predictor9","PredictorAdd9"),Mt("Predictor10","PredictorAdd10"),Mt("Predictor11","PredictorAdd11"),Mt("Predictor12","PredictorAdd12"),Mt("Predictor13","PredictorAdd13");var ps=ve.PredictorAdd2;yi("ColorIndexInverseTransform","MapARGB","32b",function(n){return n>>8&255},function(n){return n}),yi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(n){return n},function(n){return n>>8&255});var wl,ya=ve.ColorIndexInverseTransform,fs=ve.MapARGB,Rc=ve.VP8LColorIndexInverseTransformAlpha,Oc=ve.MapAlpha,_r=ve.VP8LPredictorsAdd=[];_r.length=16,(ve.VP8LPredictors=[]).length=16,(ve.VP8LPredictorsAdd_C=[]).length=16,(ve.VP8LPredictors_C=[]).length=16;var oa,wa,br,Pa,Xa,Ao,Da,So,ms,yr,xa,$a,Jr,ko,Qr,wr,gs,sa,Ka,Zi,zi,ln,fn,er,Dr,To,Dl,bd,yd=c(511),wd=c(2041),Dd=c(225),xd=c(767),Cd=0,Bc=wd,xl=Dd,zn=xd,la=yd,Cl=0,Al=1,Ad=2,Sl=3,kl=4,Uc=5,Sd=6,qc=7,jc=8,Tl=9,Zc=10,Kd=[2,3,7],eh=[3,3,11],kd=[280,256,256,256,40],th=[0,1,1,1,0],ih=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ah=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rh=8,zc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vs=null,oh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Td=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ch=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dh=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xr=[],Ca=[],tr=[],uh=1,Nd=2,Cr=[],ca=[];nt("UpsampleRgbLinePair",Ai,3),nt("UpsampleBgrLinePair",Xi,3),nt("UpsampleRgbaLinePair",ba,4),nt("UpsampleBgraLinePair",bn,4),nt("UpsampleArgbLinePair",kn,4),nt("UpsampleRgba4444LinePair",cn,2),nt("UpsampleRgb565LinePair",en,2);var ph=ve.UpsampleRgbLinePair,fh=ve.UpsampleBgrLinePair,Md=ve.UpsampleRgbaLinePair,Pd=ve.UpsampleBgraLinePair,Id=ve.UpsampleArgbLinePair,Ld=ve.UpsampleRgba4444LinePair,mh=ve.UpsampleRgb565LinePair,Nl=16,Ml=1<<Nl-1,_s=-227,Vc=482,Fd=6,gh=(256<<Fd)-1,Ed=0,vh=c(256),_h=c(256),bh=c(256),yh=c(256),wh=c(Vc-_s),Dh=c(Vc-_s);Qa("YuvToRgbRow",Ai,3),Qa("YuvToBgrRow",Xi,3),Qa("YuvToRgbaRow",ba,4),Qa("YuvToBgraRow",bn,4),Qa("YuvToArgbRow",kn,4),Qa("YuvToRgba4444Row",cn,2),Qa("YuvToRgb565Row",en,2);var Rd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pl=[0,2,8],xh=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(n,l,f,_,A){var N=Al,I=new _o,R=new Un;I.ba=R,R.S=N,R.width=[R.width],R.height=[R.height];var B=R.width,G=R.height,Se=new ma;if(null==Se||null==n)var je=2;else i(null!=Se),je=yo(n,l,f,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(0!=je?B=0:(null!=B&&(B[0]=Se.width[0]),null!=G&&(G[0]=Se.height[0]),B=1),B){R.width=R.width[0],R.height=R.height[0],null!=_&&(_[0]=R.width),null!=A&&(A[0]=R.height);e:{if(_=new pr,(A=new as).data=n,A.w=l,A.ha=f,A.kd=1,l=[0],i(null!=A),(0==(n=yo(A.data,A.w,A.ha,null,null,null,l,null,A))||7==n)&&l[0]&&(n=4),0==(l=n)){if(i(null!=I),_.data=A.data,_.w=A.w+A.offset,_.ha=A.ha-A.offset,_.put=Kn,_.ac=pn,_.bc=ea,_.ma=I,A.xa){if(null==(n=jn())){I=1;break e}if(function(Ze,Fe){var mt=[0],Ke=[0],Te=[0];t:for(;;){if(null==Ze)return 0;if(null==Fe)return Ze.a=2,0;if(Ze.l=Fe,Ze.a=0,Ve(Ze.m,Fe.data,Fe.w,Fe.ha),!ii(Ze.m,mt,Ke,Te)){Ze.a=3;break t}if(Ze.xb=Nd,Fe.width=mt[0],Fe.height=Ke[0],!va(mt[0],Ke[0],1,Ze,null))break t;return 1}return i(0!=Ze.a),0}(n,_)){if(_=0==(l=wo(_.width,_.height,I.Oa,I.ba))){t:{_=n;i:for(;;){if(null==_){_=0;break t}if(i(null!=_.s.yc),i(null!=_.s.Ya),i(0<_.s.Wb),i(null!=(f=_.l)),i(null!=(A=f.ma)),0!=_.xb){if(_.ca=A.ba,_.tb=A.tb,i(null!=_.ca),!ds(A.Oa,f,Sl)){_.a=2;break i}if(!hr(_,f.width)||f.da)break i;if((f.da||Ti(_.ca.S))&&Ue(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=_.ca.f.kb.F&&Ue()),_.Pb&&0<_.s.ua&&null==_.s.vb.X&&!ti(_.s.vb,_.s.Wa.Xa)){_.a=1;break i}_.xb=0}if(!aa(_,_.V,_.Ba,_.c,_.i,f.o,dr))break i;A.Dc=_.Ma,_=1;break t}i(0!=_.a),_=0}_=!_}_&&(l=n.a)}else l=n.a}else{if(null==(n=new Qo)){I=1;break e}if(n.Fa=A.na,n.P=A.P,n.qc=A.Sa,ho(n,_)){if(0==(l=wo(_.width,_.height,I.Oa,I.ba))){if(n.Aa=0,f=I.Oa,i(null!=(A=n)),null!=f){if(0<(B=0>(B=f.Md)?0:100<B?255:255*B/100)){for(G=Se=0;4>G;++G)12>(je=A.pb[G]).lc&&(je.ia=B*xh[0>je.lc?0:je.lc]>>3),Se|=je.ia;Se&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=f.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function x(n,l){if(null==n)return 0;if(null==l)return Qi(n,2,"NULL VP8Io parameter in VP8Decode().");if(!n.cb&&!ho(n,l))return 0;if(i(n.cb),null==l.ac||l.ac(l)){l.ob&&(n.L=0);var f=Pl[n.L];if(2==n.L?(n.yb=0,n.zb=0):(n.yb=l.v-f>>4,n.zb=l.j-f>>4,0>n.yb&&(n.yb=0),0>n.zb&&(n.zb=0)),n.Va=l.o+15+f>>4,n.Hb=l.va+15+f>>4,n.Hb>n.za&&(n.Hb=n.za),n.Va>n.Ub&&(n.Va=n.Ub),0<n.L){var _=n.ed;for(f=0;4>f;++f){var A;if(n.Qa.Cb){var N=n.Qa.Lb[f];n.Qa.Fb||(N+=_.Tb)}else N=_.Tb;for(A=0;1>=A;++A){var I=n.gd[f][A],R=N;if(_.Pc&&(R+=_.vd[0],A&&(R+=_.od[0])),0<(R=0>R?0:63<R?63:R)){var B=R;0<_.wb&&(B=4<_.wb?B>>2:B>>1)>9-_.wb&&(B=9-_.wb),1>B&&(B=1),I.dd=B,I.tc=2*R+B,I.ld=40<=R?2:15<=R?1:0}else I.tc=0;I.La=A}}}f=0}else Qi(n,6,"Frame setup failed"),f=n.a;if(f=0==f){if(f){n.$c=0,0<n.Aa||(n.Ic=1);e:{_=4*(B=n.za);var G=32*B,Se=B+1,je=0<n.L?B*(0<n.Aa?2:1):0,Ze=(2==n.Aa?2:1)*B;if((I=_+832+(A=3*(16*(f=n.Ic)+Pl[n.L])/2*G)+(N=null!=n.Fa&&0<n.Fa.length?n.Kc.c*n.Kc.i:0))!=I)f=0;else{if(I>n.Vb){if(n.Vb=0,n.Ec=c(I),n.Fc=0,null==n.Ec){f=Qi(n,1,"no memory during frame initialization.");break e}n.Vb=I}R=n.Fc,n.Ac=I=n.Ec,n.Bc=R,R+=_,n.Gd=p(G,Jo),n.Hd=0,n.rb=p(Se+1,Go),n.sb=1,n.wa=je?p(je,ur):null,n.Y=0,n.D.Nb=0,n.D.wa=n.wa,n.D.Y=n.Y,0<n.Aa&&(n.D.Y+=B),i(!0),n.oc=I,n.pc=R,R+=832,n.ya=p(Ze,lo),n.aa=0,n.D.ya=n.ya,n.D.aa=n.aa,2==n.Aa&&(n.D.aa+=B),n.R=16*B,n.B=8*B,B=(G=Pl[n.L])*n.R,G=G/2*n.B,n.sa=I,n.ta=R+B,n.qa=n.sa,n.ra=n.ta+16*f*n.R+G,n.Ha=n.qa,n.Ia=n.ra+8*f*n.B+G,n.$c=0,R+=A,n.mb=N?I:null,n.nb=N?R:null,i(R+N<=n.Fc+n.Vb),h(n),d(n.Ac,n.Bc,0,_),f=1}}if(f){if(l.ka=0,l.y=n.sa,l.O=n.ta,l.f=n.qa,l.N=n.ra,l.ea=n.Ha,l.Vd=n.Ia,l.fa=n.R,l.Rc=n.B,l.F=null,l.J=0,!Cd){for(f=-255;255>=f;++f)yd[255+f]=0>f?-f:f;for(f=-1020;1020>=f;++f)wd[1020+f]=-128>f?-128:127<f?127:f;for(f=-112;112>=f;++f)Dd[112+f]=-16>f?-16:15<f?15:f;for(f=-255;510>=f;++f)xd[255+f]=0>f?0:255<f?255:f;Cd=1}Da=Yi,So=tt,yr=Wt,xa=ai,$a=di,ms=V,Jr=ts,ko=Wr,Qr=Lc,wr=is,gs=Ic,sa=vo,Ka=ns,Zi=_l,zi=vl,ln=Ja,fn=mr,er=Pc,Ca[0]=Ma,Ca[1]=ra,Ca[2]=Ac,Ca[3]=Sc,Ca[4]=ul,Ca[5]=mo,Ca[6]=pl,Ca[7]=$o,Ca[8]=Tc,Ca[9]=kc,xr[0]=dl,xr[1]=Xo,xr[2]=Ga,xr[3]=po,xr[4]=Sn,xr[5]=Cc,xr[6]=hl,tr[0]=fr,tr[1]=Wa,tr[2]=Nc,tr[3]=Ko,tr[4]=Hr,tr[5]=Mc,tr[6]=es,f=1}else f=0}f&&(f=function(Fe,mt){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Ke,Te=Fe.Jc[Fe.M&Fe.Xb],Pe=Fe.m,pt=Fe;for(Ke=0;Ke<pt.za;++Ke){var _t=Pe,ft=pt,Yt=ft.Ac,Lt=ft.Bc+4*Ke,Kt=ft.zc,Ot=ft.ya[ft.aa+Ke];if(Ot.$b=ft.Qa.Bb?Qe(_t,ft.Pa.jb[0])?2+Qe(_t,ft.Pa.jb[2]):Qe(_t,ft.Pa.jb[1]):0,ft.kc&&(Ot.Ad=Qe(_t,ft.Bd)),Ot.Za=!Qe(_t,145)+0,Ot.Za){var Ii=Ot.Ob,Ri=0;for(ft=0;4>ft;++ft){var ki,wi=Kt[0+ft];for(ki=0;4>ki;++ki){for(var qi=Td[Qe(_t,(wi=ch[Yt[Lt+ki]][wi])[0])];0<qi;)qi=Td[2*qi+Qe(_t,wi[qi])];Yt[Lt+ki]=wi=-qi}s(Ii,Ri,Yt,Lt,4),Ri+=4,Kt[0+ft]=wi}}else wi=Qe(_t,156)?Qe(_t,128)?1:3:Qe(_t,163)?2:0,Ot.Ob[0]=wi,d(Yt,Lt,wi,4),d(Kt,0,wi,4);Ot.Dd=Qe(_t,142)?Qe(_t,114)?Qe(_t,183)?1:3:2:0}if(pt.m.Ka)return Qi(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(pt=Te,_t=(Pe=Fe).rb[Pe.sb-1],Yt=Pe.rb[Pe.sb+Pe.ja],Ke=Pe.ya[Pe.aa+Pe.ja],Lt=Pe.kc?Ke.Ad:0)_t.la=Yt.la=0,Ke.Za||(_t.Na=Yt.Na=0),Ke.Hc=0,Ke.Gc=0,Ke.ia=0;else{var Ui,gi;if(_t=Yt,Yt=pt,Lt=Pe.Pa.Xc,Ot=Pe.pb[(Kt=Pe.ya[Pe.aa+Pe.ja]).$b],Ri=Pe.rb[Pe.sb-1],wi=ki=0,d(ft=Kt.ad,Ii=0,0,384),Kt.Za)var dn=0,Fn=Lt[3];else{qi=c(16);var hn=_t.Na+Ri.Na;if(hn=vs(Yt,Lt[1],hn,Ot.Eb,0,qi,0),_t.Na=Ri.Na=(0<hn)+0,1<hn)Da(qi,0,ft,Ii);else{var En=qi[0]+3>>3;for(qi=0;256>qi;qi+=16)ft[Ii+qi]=En}dn=1,Fn=Lt[0]}var Oi=15&_t.la,Yn=15&Ri.la;for(qi=0;4>qi;++qi){var Vn=1&Yn;for(En=gi=0;4>En;++En)Oi=Oi>>1|(Vn=(hn=vs(Yt,Fn,hn=Vn+(1&Oi),Ot.Sc,dn,ft,Ii))>dn)<<7,gi=gi<<2|(3<hn?3:1<hn?2:0!=ft[Ii+0]),Ii+=16;Oi>>=4,Yn=Yn>>1|Vn<<7,ki=(ki<<8|gi)>>>0}for(Fn=Oi,dn=Yn>>4,Ui=0;4>Ui;Ui+=2){for(gi=0,Oi=_t.la>>4+Ui,Yn=Ri.la>>4+Ui,qi=0;2>qi;++qi){for(Vn=1&Yn,En=0;2>En;++En)Oi=Oi>>1|(Vn=0<(hn=vs(Yt,Lt[2],hn=Vn+(1&Oi),Ot.Qc,0,ft,Ii)))<<3,gi=gi<<2|(3<hn?3:1<hn?2:0!=ft[Ii+0]),Ii+=16;Oi>>=2,Yn=Yn>>1|Vn<<5}wi|=gi<<4*Ui,Fn|=Oi<<4<<Ui,dn|=(240&Yn)<<Ui}_t.la=Fn,Ri.la=dn,Kt.Hc=ki,Kt.Gc=wi,Kt.ia=43690&wi?0:Ot.ia,Lt=!(ki|wi)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Ke.$b][Ke.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Lt),pt.Ka)return Qi(Fe,7,"Premature end-of-file encountered.")}if(h(Fe),Pe=mt,pt=1,Ke=(Te=Fe).D,_t=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,0==Te.Aa)e:{if(Ke.M=Te.M,Ke.uc=_t,cs(Te,Ke),pt=1,Ke=(gi=Te.D).Nb,_t=(wi=Pl[Te.L])*Te.R,Lt=Te.sa,Kt=Te.ta-_t+(qi=16*Ke*Te.R),Ot=Te.qa,ft=Te.ra-(Yt=wi/2*Te.B)+(En=8*Ke*Te.B),Ii=Te.Ha,Ri=Te.Ia-Yt+En,Yn=0==(Oi=gi.M),ki=Oi>=Te.Va-1,2==Te.Aa&&cs(Te,gi),gi.uc)for(Vn=(hn=Te).D.M,i(hn.D.uc),gi=hn.yb;gi<hn.Hb;++gi){Fn=Vn;var yn=(Cn=(tn=hn).D).Nb,Cn=Cn.wa[Cn.Y+(dn=gi)],Mn=tn.sa,da=tn.ta+16*yn*(Ui=tn.R)+16*dn,Ia=Cn.dd,wn=Cn.tc;if(0!=wn)if(i(3<=wn),1==tn.L)0<dn&&ln(Mn,da,Ui,wn+4),Cn.La&&er(Mn,da,Ui,wn),0<Fn&&zi(Mn,da,Ui,wn+4),Cn.La&&fn(Mn,da,Ui,wn);else{var ir=tn.B,Xr=tn.qa,No=tn.ra+8*yn*ir+8*dn,Ar=tn.Ha,tn=tn.Ia+8*yn*ir+8*dn;yn=Cn.ld,0<dn&&(ko(Mn,da,Ui,wn+4,Ia,yn),wr(Xr,No,Ar,tn,ir,wn+4,Ia,yn)),Cn.La&&(sa(Mn,da,Ui,wn,Ia,yn),Zi(Xr,No,Ar,tn,ir,wn,Ia,yn)),0<Fn&&(Jr(Mn,da,Ui,wn+4,Ia,yn),Qr(Xr,No,Ar,tn,ir,wn+4,Ia,yn)),Cn.La&&(gs(Mn,da,Ui,wn,Ia,yn),Ka(Xr,No,Ar,tn,ir,wn,Ia,yn))}}if(Te.ia&&alert("todo:DitherRow"),null!=Pe.put){if(gi=16*Oi,Oi=16*(Oi+1),Yn?(Pe.y=Te.sa,Pe.O=Te.ta+qi,Pe.f=Te.qa,Pe.N=Te.ra+En,Pe.ea=Te.Ha,Pe.W=Te.Ia+En):(gi-=wi,Pe.y=Lt,Pe.O=Kt,Pe.f=Ot,Pe.N=ft,Pe.ea=Ii,Pe.W=Ri),ki||(Oi-=wi),Oi>Pe.o&&(Oi=Pe.o),Pe.F=null,Pe.J=null,null!=Te.Fa&&0<Te.Fa.length&&gi<Oi&&(Pe.J=ss(Te,Pe,gi,Oi-gi),Pe.F=Te.mb,null==Pe.F&&0==Pe.F.length)){pt=Qi(Te,3,"Could not decode alpha data.");break e}gi<Pe.j&&(wi=Pe.j-gi,gi=Pe.j,i(!(1&wi)),Pe.O+=Te.R*wi,Pe.N+=Te.B*(wi>>1),Pe.W+=Te.B*(wi>>1),null!=Pe.F&&(Pe.J+=Pe.width*wi)),gi<Oi&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,null!=Pe.F&&(Pe.J+=Pe.v),Pe.ka=gi-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Oi-gi,pt=Pe.put(Pe))}Ke+1!=Te.Ic||ki||(s(Te.sa,Te.ta-_t,Lt,Kt+16*Te.R,_t),s(Te.qa,Te.ra-Yt,Ot,ft+8*Te.B,Yt),s(Te.Ha,Te.Ia-Yt,Ii,Ri+8*Te.B,Yt))}if(!pt)return Qi(Fe,6,"Output aborted.")}return 1}(n,l)),null!=l.bc&&l.bc(l),f&=1}return f?(n.cb=0,f):0})(n,_)||(l=n.a)}}else l=n.a}0==l&&null!=I.Oa&&I.Oa.fd&&(l=hs(I.ba))}I=l}N=0!=I?null:11>N?R.f.RGBA.eb:R.f.kb.y}else N=null;return N};var Od=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function D(ve,ct){for(var lt="",W=0;W<4;W++)lt+=String.fromCharCode(ve[ct++]);return lt}function k(ve,ct){return(ve[ct+0]<<0|ve[ct+1]<<8|ve[ct+2]<<16)>>>0}function F(ve,ct){return(ve[ct+0]<<0|ve[ct+1]<<8|ve[ct+2]<<16|ve[ct+3]<<24)>>>0}new g;var O=[0],y=[0],X=[],z=new g,re=o,Z=function(ve,ct){var lt={},W=0,H=!1,Ae=0,be=0;if(lt.frames=[],!
/** @license
             * Copyright (c) 2017 Dominik Homberger
            Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
            The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
            https://webpjs.appspot.com
            WebPRiffParser dominikhlbg@gmail.com
            */
function(te,pe,ke,Re){for(var He=0;He<4;He++)if(te[pe+He]!="RIFF".charCodeAt(He))return!0;return!1}(ve,ct)){var et,Je;for(F(ve,ct+=4),ct+=8;ct<ve.length;){var ot=D(ve,ct),Ve=F(ve,ct+=4);ct+=4;var dt=Ve+(1&Ve);switch(ot){case"VP8 ":case"VP8L":void 0===lt.frames[W]&&(lt.frames[W]={}),(P=lt.frames[W]).src_off=H?be:ct-8,P.src_size=Ae+Ve+8,W++,H&&(H=!1,Ae=0,be=0);break;case"VP8X":(P=lt.header={}).feature_flags=ve[ct];var st=ct+4;P.canvas_width=1+k(ve,st),P.canvas_height=1+k(ve,st+=3),st+=3;break;case"ALPH":H=!0,Ae=dt+8,be=ct-8;break;case"ANIM":(P=lt.header).bgcolor=F(ve,ct),P.loop_count=(et=ve)[(Je=st=ct+4)+0]<<0|et[Je+1]<<8,st+=2;break;case"ANMF":var Ft,P;(P=lt.frames[W]={}).offset_x=2*k(ve,ct),P.offset_y=2*k(ve,ct+=3),P.width=1+k(ve,ct+=3),P.height=1+k(ve,ct+=3),P.duration=k(ve,ct+=3),ct+=3,Ft=ve[ct++],P.dispose=1&Ft,P.blend=Ft>>1&1}"ANMF"!=ot&&(ct+=dt)}return lt}}(re,0);Z.response=re,Z.rgbaoutput=!0,Z.dataurl=!1;var $=Z.header?Z.header:null,Ne=Z.frames?Z.frames:null;if($){$.loop_counter=$.loop_count,O=[$.canvas_height],y=[$.canvas_width];for(var qe=0;qe<Ne.length&&0!=Ne[qe].blend;qe++);}var $e=Ne[0],vt=z.WebPDecodeRGBA(re,$e.src_off,$e.src_size,y,O);$e.rgba=vt,$e.imgwidth=y[0],$e.imgheight=O[0];for(var ze=0;ze<y[0]*O[0]*4;ze++)X[ze]=vt[ze];return this.width=y,this.height=O,this.data=X,this}(function(o){var r=function(O,y,X,z){var re=4,Z=p;switch(z){case o.image_compression.FAST:re=1,Z=c;break;case o.image_compression.MEDIUM:re=6,Z=m;break;case o.image_compression.SLOW:re=9,Z=g}var $=Mr(O=s(O,y,X,Z),{level:re});return o.__addimage__.arrayBufferToBinaryString($)},s=function(O,y,X,z){for(var re,Z,$,Ne=O.length/y,qe=new Uint8Array(O.length+Ne),$e=k(),vt=0;vt<Ne;vt+=1){if(re=O.subarray($=vt*y,$+y),z)qe.set(z(re,X,Z),$+vt);else{for(var ze,ve=$e.length,ct=[];ze<ve;ze+=1)ct[ze]=$e[ze](re,X,Z);var lt=F(ct.concat());qe.set(ct[lt],$+vt)}Z=re}return qe},d=function(O){var y=Array.apply([],O);return y.unshift(0),y},c=function(O,y){var z=[],re=O.length;z[0]=1;for(var Z=0;Z<re;Z+=1)z[Z+1]=O[Z]-(O[Z-y]||0)+256&255;return z},p=function(O,y,X){var re=[],Z=O.length;re[0]=2;for(var $=0;$<Z;$+=1)re[$+1]=O[$]-(X&&X[$]||0)+256&255;return re},m=function(O,y,X){var Z=[],$=O.length;Z[0]=3;for(var Ne=0;Ne<$;Ne+=1)Z[Ne+1]=O[Ne]+256-((O[Ne-y]||0)+(X&&X[Ne]||0)>>>1)&255;return Z},g=function(O,y,X){var $,Ne=[],qe=O.length;Ne[0]=4;for(var $e=0;$e<qe;$e+=1)$=D(O[$e-y]||0,X&&X[$e]||0,X&&X[$e-y]||0),Ne[$e+1]=O[$e]-$+256&255;return Ne},D=function(O,y,X){if(O===y&&y===X)return O;var z=Math.abs(y-X),re=Math.abs(O-X),Z=Math.abs(O+y-X-X);return z<=re&&z<=Z?O:re<=Z?y:X},k=function(){return[d,c,p,m,g]},F=function(O){var y=O.map(function(X){return X.reduce(function(z,re){return z+Math.abs(re)},0)});return y.indexOf(Math.min.apply(null,y))};o.processPNG=function(O,y,X,z){var re,Z,$,Ne,qe,$e,vt,ze,ve,ct,lt,W,H,Ae,be,et=this.decode.FLATE_DECODE,Je="";if(this.__addimage__.isArrayBuffer(O)&&(O=new Uint8Array(O)),this.__addimage__.isArrayBufferView(O)){if(O=($=new oc(O)).imgData,Z=$.bits,re=$.colorSpace,qe=$.colors,-1!==[4,6].indexOf($.colorType)){if(8===$.bits){ve=(ze=32==$.pixelBitlength?new Uint32Array($.decodePixels().buffer):16==$.pixelBitlength?new Uint16Array($.decodePixels().buffer):new Uint8Array($.decodePixels().buffer)).length,lt=new Uint8Array(ve*$.colors),ct=new Uint8Array(ve);var ot,Ve=$.pixelBitlength-$.bits;for(Ae=0,be=0;Ae<ve;Ae++){for(H=ze[Ae],ot=0;ot<Ve;)lt[be++]=H>>>ot&255,ot+=$.bits;ct[Ae]=H>>>ot&255}}if(16===$.bits){ve=(ze=new Uint32Array($.decodePixels().buffer)).length,lt=new Uint8Array(ve*(32/$.pixelBitlength)*$.colors),ct=new Uint8Array(ve*(32/$.pixelBitlength)),W=$.colors>1,Ae=0,be=0;for(var dt=0;Ae<ve;)H=ze[Ae++],lt[be++]=H>>>0&255,W&&(lt[be++]=H>>>16&255,H=ze[Ae++],lt[be++]=H>>>0&255),ct[dt++]=H>>>16&255;Z=8}z!==o.image_compression.NONE?(O=r(lt,$.width*$.colors,$.colors,z),vt=r(ct,$.width,1,z)):(O=lt,vt=ct,et=void 0)}if(3===$.colorType&&(re=this.color_spaces.INDEXED,$e=$.palette,$.transparency.indexed)){var st=$.transparency.indexed,Ft=0;for(Ae=0,ve=st.length;Ae<ve;++Ae)Ft+=st[Ae];if((Ft/=255)==ve-1&&-1!==st.indexOf(0))Ne=[st.indexOf(0)];else if(Ft!==ve){for(ze=$.decodePixels(),ct=new Uint8Array(ze.length),Ae=0,ve=ze.length;Ae<ve;Ae++)ct[Ae]=st[ze[Ae]];vt=r(ct,$.width,1)}}var P=function(te){var pe;switch(te){case o.image_compression.FAST:pe=11;break;case o.image_compression.MEDIUM:pe=13;break;case o.image_compression.SLOW:pe=14;break;default:pe=12}return pe}(z);return et===this.decode.FLATE_DECODE&&(Je="/Predictor "+P+" "),Je+="/Colors "+qe+" /BitsPerComponent "+Z+" /Columns "+$.width,(this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),(vt&&this.__addimage__.isArrayBuffer(vt)||this.__addimage__.isArrayBufferView(vt))&&(vt=this.__addimage__.arrayBufferToBinaryString(vt)),{alias:X,data:O,index:y,filter:et,decodeParameters:Je,transparency:Ne,palette:$e,sMask:vt,predictor:P,width:$.width,height:$.height,bitsPerComponent:Z,colorSpace:re}}}})(Jt.API),function(o){o.processGIF89A=function(i,r,s,d){var c=new sc(i),p=c.width,m=c.height,g=[];c.decodeAndBlitFrameRGBA(0,g);var D={data:g,width:p,height:m},k=new Ho(100).encode(D,100);return o.processJPEG.call(this,k,r,s,d)},o.processGIF87A=o.processGIF89A}(Jt.API),Rn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var o=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(o);for(var i=0;i<o;i++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:d,green:s,blue:r,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rn.prototype.parseBGR=function(){this.pos=this.offset;try{var o="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[o]()}catch(r){Pi.log("bit decode error:"+r)}},Rn.prototype.bit1=function(){var o,i=Math.ceil(this.width/8),r=i%4;for(o=this.height-1;o>=0;o--){for(var s=this.bottom_up?o:this.height-1-o,d=0;d<i;d++)for(var c=this.datav.getUint8(this.pos++,!0),p=s*this.width*4+8*d*4,m=0;m<8&&8*d+m<this.width;m++){var g=this.palette[c>>7-m&1];this.data[p+4*m]=g.blue,this.data[p+4*m+1]=g.green,this.data[p+4*m+2]=g.red,this.data[p+4*m+3]=255}0!==r&&(this.pos+=4-r)}},Rn.prototype.bit4=function(){for(var o=Math.ceil(this.width/2),i=o%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,d=0;d<o;d++){var c=this.datav.getUint8(this.pos++,!0),p=s*this.width*4+2*d*4,g=15&c,D=this.palette[c>>4];if(this.data[p]=D.blue,this.data[p+1]=D.green,this.data[p+2]=D.red,this.data[p+3]=255,2*d+1>=this.width)break;this.data[p+4]=(D=this.palette[g]).blue,this.data[p+4+1]=D.green,this.data[p+4+2]=D.red,this.data[p+4+3]=255}0!==i&&(this.pos+=4-i)}},Rn.prototype.bit8=function(){for(var o=this.width%4,i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var d=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*s;if(d<this.palette.length){var p=this.palette[d];this.data[c]=p.red,this.data[c+1]=p.green,this.data[c+2]=p.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}0!==o&&(this.pos+=4-o)}},Rn.prototype.bit15=function(){for(var o=this.width%3,i=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,d=0;d<this.width;d++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(c&i)/i*255|0,m=(c>>5&i)/i*255|0,D=c>>15?255:0,k=s*this.width*4+4*d;this.data[k]=(c>>10&i)/i*255|0,this.data[k+1]=m,this.data[k+2]=p,this.data[k+3]=D}this.pos+=o}},Rn.prototype.bit16=function(){for(var o=this.width%3,i=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var d=this.bottom_up?s:this.height-1-s,c=0;c<this.width;c++){var p=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(p&i)/i*255|0,g=(p>>5&r)/r*255|0,k=d*this.width*4+4*c;this.data[k]=(p>>11)/i*255|0,this.data[k+1]=g,this.data[k+2]=m,this.data[k+3]=255}this.pos+=o}},Rn.prototype.bit24=function(){for(var o=this.height-1;o>=0;o--){for(var i=this.bottom_up?o:this.height-1-o,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=i*this.width*4+4*r;this.data[p]=c,this.data[p+1]=d,this.data[p+2]=s,this.data[p+3]=255}this.pos+=this.width%4}},Rn.prototype.bit32=function(){for(var o=this.height-1;o>=0;o--)for(var i=this.bottom_up?o:this.height-1-o,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=this.datav.getUint8(this.pos++,!0),m=i*this.width*4+4*r;this.data[m]=c,this.data[m+1]=d,this.data[m+2]=s,this.data[m+3]=p}},Rn.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2018 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){o.processBMP=function(i,r,s,d){var c=new Rn(i,!1),p=c.width,m=c.height,g={data:c.getData(),width:p,height:m},D=new Ho(100).encode(g,100);return o.processJPEG.call(this,D,r,s,d)}}(Jt.API),tl.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2019 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){o.processWEBP=function(i,r,s,d){var c=new tl(i,!1),p=c.width,m=c.height,g={data:c.getData(),width:p,height:m},D=new Ho(100).encode(g,100);return o.processJPEG.call(this,D,r,s,d)}}(Jt.API),Jt.API.processRGBA=function(o,i,r){for(var s=o.data,d=s.length,c=new Uint8Array(d/4*3),p=new Uint8Array(d/4),m=0,g=0,D=0;D<d;D+=4){var F=s[D+1],O=s[D+2],y=s[D+3];c[m++]=s[D],c[m++]=F,c[m++]=O,p[g++]=y}var X=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(p),data:X,index:i,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:o.width,height:o.height}},Jt.API.setLanguage=function(o){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[o]&&(this.internal.languageSettings.languageCode=o,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},so=(cr=Jt.API).getCharWidthsArray=function(o,i){var r,s,d=(i=i||{}).font||this.internal.getFont(),c=i.fontSize||this.internal.getFontSize(),p=i.charSpace||this.internal.getCharSpace(),m=i.widths?i.widths:d.metadata.Unicode.widths,g=m.fof?m.fof:1,D=i.kerning?i.kerning:d.metadata.Unicode.kerning,k=D.fof?D.fof:1,F=!1!==i.doKerning,O=0,y=o.length,X=0,z=m[0]||g,re=[];for(r=0;r<y;r++)s=o.charCodeAt(r),"function"==typeof d.metadata.widthOfString?re.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(s))+p*(1e3/c)||0)/1e3):(O=F&&"object"===(0,It.Z)(D[s])&&!isNaN(parseInt(D[s][X],10))?D[s][X]/k:0,re.push((m[s]||z)/g+O)),X=s;return re},Xs=cr.getStringUnitWidth=function(o,i){var r=(i=i||{}).fontSize||this.internal.getFontSize(),s=i.font||this.internal.getFont(),d=i.charSpace||this.internal.getCharSpace();return cr.processArabic&&(o=cr.processArabic(o)),"function"==typeof s.metadata.widthOfString?s.metadata.widthOfString(o,r,d)/r:so.apply(this,arguments).reduce(function(c,p){return c+p},0)},$s=function(o,i,r,s){for(var d=[],c=0,p=o.length,m=0;c!==p&&m+i[c]<r;)m+=i[c],c++;d.push(o.slice(0,c));var g=c;for(m=0;c!==p;)m+i[c]>s&&(d.push(o.slice(g,c)),m=0,g=c),m+=i[c],c++;return g!==c&&d.push(o.slice(g,c)),d},Ks=function(o,i,r){r||(r={});var s,d,c,p,m,g,k=[],F=[k],O=r.textIndent||0,y=0,X=0,z=o.split(" "),re=so.apply(this,[" ",r])[0];if(g=-1===r.lineIndent?z[0].length+2:r.lineIndent||0){var Z=Array(g).join(" "),$=[];z.map(function(qe){(qe=qe.split(/\s*\n/)).length>1?$=$.concat(qe.map(function($e,vt){return(vt&&$e.length?"\n":"")+$e})):$.push(qe[0])}),z=$,g=Xs.apply(this,[Z,r])}for(c=0,p=z.length;c<p;c++){var Ne=0;if(s=z[c],g&&"\n"==s[0]&&(s=s.substr(1),Ne=1),O+y+(X=(d=so.apply(this,[s,r])).reduce(function(qe,$e){return qe+$e},0))>i||Ne){if(X>i){for(m=$s.apply(this,[s,d,i-(O+y),i]),k.push(m.shift()),k=[m.pop()];m.length;)F.push([m.shift()]);X=d.slice(s.length-(k[0]?k[0].length:0)).reduce(function(qe,$e){return qe+$e},0)}else k=[s];F.push(k),O=X+g,y=re}else k.push(s),O+=y+X,y=re}return F.map(g?function(qe,$e){return($e?Z:"")+qe.join(" ")}:function(qe){return qe.join(" ")})},cr.splitTextToSize=function(o,i,r){var s,d=(r=r||{}).fontSize||this.internal.getFontSize(),c=function(k){if(k.widths&&k.kerning)return{widths:k.widths,kerning:k.kerning};var F=this.internal.getFont(k.fontName,k.fontStyle);return F.metadata.Unicode?{widths:F.metadata.Unicode.widths||{0:1},kerning:F.metadata.Unicode.kerning||{}}:{font:F.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);s=Array.isArray(o)?o:String(o).split(/\r?\n/);var p=1*this.internal.scaleFactor*i/d;c.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/d:0,c.lineIndent=r.lineIndent;var m,g,D=[];for(m=0,g=s.length;m<g;m++)D=D.concat(Ks.apply(this,[s[m],p,c]));return D},function(o){o.__fontmetrics__=o.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",r={},s={},d=0;d<i.length;d++)r[i[d]]="0123456789abcdef"[d],s["0123456789abcdef"[d]]=i[d];var c=function(F){return"0x"+parseInt(F,10).toString(16)},p=o.__fontmetrics__.compress=function(F){var O,y,X,z,re=["{"];for(var Z in F){if(O=F[Z],isNaN(parseInt(Z,10))?y="'"+Z+"'":(Z=parseInt(Z,10),y=(y=c(Z).slice(2)).slice(0,-1)+s[y.slice(-1)]),"number"==typeof O)O<0?(X=c(O).slice(3),z="-"):(X=c(O).slice(2),z=""),X=z+X.slice(0,-1)+s[X.slice(-1)];else{if("object"!==(0,It.Z)(O))throw new Error("Don't know what to do with value type "+(0,It.Z)(O)+".");X=p(O)}re.push(y+X)}return re.push("}"),re.join("")},m=o.__fontmetrics__.uncompress=function(F){if("string"!=typeof F)throw new Error("Invalid argument passed to uncompress.");for(var O,y,X,z,re={},Z=1,$=re,Ne=[],qe="",$e="",vt=F.length-1,ze=1;ze<vt;ze+=1)"'"==(z=F[ze])?O?(X=O.join(""),O=void 0):O=[]:O?O.push(z):"{"==z?(Ne.push([$,X]),$={},X=void 0):"}"==z?((y=Ne.pop())[0][y[1]]=$,X=void 0,$=y[0]):"-"==z?Z=-1:void 0===X?r.hasOwnProperty(z)?(qe+=r[z],X=parseInt(qe,16)*Z,Z=1,qe=""):qe+=z:r.hasOwnProperty(z)?($e+=r[z],$[X]=parseInt($e,16)*Z,Z=1,X=void 0,$e=""):$e+=z;return re},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},D={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},k={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:m("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:m("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};o.events.push(["addFont",function(F){var O=F.font,y=k.Unicode[O.postScriptName];y&&(O.metadata.Unicode={},O.metadata.Unicode.widths=y.widths,O.metadata.Unicode.kerning=y.kerning);var X=D.Unicode[O.postScriptName];X&&(O.metadata.Unicode.encoding=X,O.encoding=X.codePages[0])}])}(Jt.API),
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i=function(r){for(var s=r.length,d=new Uint8Array(s),c=0;c<s;c++)d[c]=r.charCodeAt(c);return d};o.API.events.push(["addFont",function(r){var p,m,s=void 0,d=r.font,c=r.instance;if(!d.isStandardFont){if(void 0===c)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if("string"!=typeof(s=!1===c.existsFileInVFS(d.postScriptName)?c.loadFile(d.postScriptName):c.getFileFromVFS(d.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");p=d,m=/^\x00\x01\x00\x00/.test(m=s)?i(m):i(an(m)),p.metadata=o.API.TTFFont.open(m),p.metadata.Unicode=p.metadata.Unicode||{encoding:{},kerning:{},widths:[]},p.metadata.glyIdsUsed=[0]}}])}(Jt),Jt.API.addSvgAsImage=function(r,s,d,c,p,m,g,D){if(isNaN(s)||isNaN(d))throw Pi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(p))throw Pi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var k=document.createElement("canvas");k.width=c,k.height=p;var F=k.getContext("2d");F.fillStyle="#fff",F.fillRect(0,0,k.width,k.height);var O={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return function i(){return($t.canvg?Promise.resolve($t.canvg):Pt.e(130).then(Pt.bind(Pt,7130))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}().then(function(X){return X.fromString(F,r,O)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(X){return X.render(O)}).then(function(){y.addImage(k.toDataURL("image/jpeg",1),s,d,c,p,g,D)})},Jt.API.putTotalPages=function(o){var i,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(o,"g"),r=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(o,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var d=0;d<this.internal.pages[s].length;d++)this.internal.pages[s][d]=this.internal.pages[s][d].replace(i,r);return this},Jt.API.viewerPreferences=function(o,i){var r;o=o||{},i=i||!1;var s,d,c,p={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},m=Object.keys(p),g=[],D=0,k=0,F=0;function O(X,z){var re,Z=!1;for(re=0;re<X.length;re+=1)X[re]===z&&(Z=!0);return Z}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(p)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===o||!0===i){var y=m.length;for(F=0;F<y;F+=1)r[m[F]].value=r[m[F]].defaultValue,r[m[F]].explicitSet=!1}if("object"===(0,It.Z)(o))for(d in o)if(c=o[d],O(m,d)&&void 0!==c){if("boolean"===r[d].type&&"boolean"==typeof c)r[d].value=c;else if("name"===r[d].type&&O(r[d].valueSet,c))r[d].value=c;else if("integer"===r[d].type&&Number.isInteger(c))r[d].value=c;else if("array"===r[d].type){for(D=0;D<c.length;D+=1)if(s=!0,1===c[D].length&&"number"==typeof c[D][0])g.push(String(c[D]-1));else if(c[D].length>1){for(k=0;k<c[D].length;k+=1)"number"!=typeof c[D][k]&&(s=!1);!0===s&&g.push([c[D][0]-1,c[D][1]-1].join(" "))}r[d].value="["+g.join(" ")+"]"}else r[d].value=r[d].defaultValue;r[d].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var X,z=[];for(X in r)!0===r[X].explicitSet&&z.push("name"===r[X].type?"/"+X+" /"+r[X].value:"/"+X+" "+r[X].value);0!==z.length&&this.internal.write("/ViewerPreferences\n<<\n"+z.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},
/** ====================================================================
       * @license
       * jsPDF XMP metadata plugin
       * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
function(o){var i=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(s)),p=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),m=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),D=c.length+p.length+m.length+d.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+D+" >>"),this.internal.write("stream"),this.internal.write(d+c+p+m+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};o.addMetadata=function(s,d){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:s,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",i)),this}}(Jt.API),function(o){var i=o.API,r=i.pdfEscape16=function(c,p){for(var m,g=p.metadata.Unicode.widths,D=["","0","00","000","0000"],k=[""],F=0,O=c.length;F<O;++F){if(m=p.metadata.characterToGlyph(c.charCodeAt(F)),p.metadata.glyIdsUsed.push(m),p.metadata.toUnicode[m]=c.charCodeAt(F),-1==g.indexOf(m)&&(g.push(m),g.push([parseInt(p.metadata.widthOfGlyph(m),10)])),"0"==m)return k.join("");m=m.toString(16),k.push(D[4-m.length],m)}return k.join("")},s=function(c){var p,m,g,D,k,F,O;for(k="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",g=[],F=0,O=(m=Object.keys(c).sort(function(y,X){return y-X})).length;F<O;F++)p=m[F],g.length>=100&&(k+="\n"+g.length+" beginbfchar\n"+g.join("\n")+"\nendbfchar",g=[]),null!=c[p]&&"function"==typeof c[p].toString&&(D=("0000"+c[p].toString(16)).slice(-4),p=("0000"+(+p).toString(16)).slice(-4),g.push("<"+p+"><"+D+">"));return g.length&&(k+="\n"+g.length+" beginbfchar\n"+g.join("\n")+"\nendbfchar\n"),k+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(c){!function(p){var m=p.font,g=p.out,D=p.newObject,k=p.putStream;if(m.metadata instanceof o.API.TTFFont&&"Identity-H"===m.encoding){for(var F=m.metadata.Unicode.widths,O=m.metadata.subset.encode(m.metadata.glyIdsUsed,1),y="",X=0;X<O.length;X++)y+=String.fromCharCode(O[X]);var z=D();k({data:y,addLength1:!0,objectId:z}),g("endobj");var re=D();k({data:s(m.metadata.toUnicode),addLength1:!0,objectId:re}),g("endobj");var Z=D();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Ua(m.fontName)),g("/FontFile2 "+z+" 0 R"),g("/FontBBox "+o.API.PDFObject.convert(m.metadata.bbox)),g("/Flags "+m.metadata.flags),g("/StemV "+m.metadata.stemV),g("/ItalicAngle "+m.metadata.italicAngle),g("/Ascent "+m.metadata.ascender),g("/Descent "+m.metadata.decender),g("/CapHeight "+m.metadata.capHeight),g(">>"),g("endobj");var $=D();g("<<"),g("/Type /Font"),g("/BaseFont /"+Ua(m.fontName)),g("/FontDescriptor "+Z+" 0 R"),g("/W "+o.API.PDFObject.convert(F)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+m.encoding+")"),g(">>"),g(">>"),g("endobj"),m.objectNumber=D(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+re+" 0 R"),g("/BaseFont /"+Ua(m.fontName)),g("/Encoding /"+m.encoding),g("/DescendantFonts ["+$+" 0 R]"),g(">>"),g("endobj"),m.isAlreadyPutted=!0}}(c)}]),i.events.push(["putFont",function(c){!function(p){var m=p.font,g=p.out,D=p.newObject,k=p.putStream;if(m.metadata instanceof o.API.TTFFont&&"WinAnsiEncoding"===m.encoding){for(var F=m.metadata.rawData,O="",y=0;y<F.length;y++)O+=String.fromCharCode(F[y]);var X=D();k({data:O,addLength1:!0,objectId:X}),g("endobj");var z=D();k({data:s(m.metadata.toUnicode),addLength1:!0,objectId:z}),g("endobj");var re=D();g("<<"),g("/Descent "+m.metadata.decender),g("/CapHeight "+m.metadata.capHeight),g("/StemV "+m.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+X+" 0 R"),g("/Flags 96"),g("/FontBBox "+o.API.PDFObject.convert(m.metadata.bbox)),g("/FontName /"+Ua(m.fontName)),g("/ItalicAngle "+m.metadata.italicAngle),g("/Ascent "+m.metadata.ascender),g(">>"),g("endobj"),m.objectNumber=D();for(var Z=0;Z<m.metadata.hmtx.widths.length;Z++)m.metadata.hmtx.widths[Z]=parseInt(m.metadata.hmtx.widths[Z]*(1e3/m.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+z+" 0 R/BaseFont/"+Ua(m.fontName)+"/FontDescriptor "+re+" 0 R/Encoding/"+m.encoding+" /FirstChar 29 /LastChar 255 /Widths "+o.API.PDFObject.convert(m.metadata.hmtx.widths)+">>"),g("endobj"),m.isAlreadyPutted=!0}}(c)}]);var d=function(c){var p,m=c.text||"",g=c.x,D=c.y,k=c.options||{},F=c.mutex||{},O=F.pdfEscape,y=F.activeFontKey,X=F.fonts,z=y,re="",Z=0,$="",Ne=X[z].encoding;if("Identity-H"!==X[z].encoding)return{text:m,x:g,y:D,options:k,mutex:F};for($=m,z=y,Array.isArray(m)&&($=m[0]),Z=0;Z<$.length;Z+=1)X[z].metadata.hasOwnProperty("cmap")&&(p=X[z].metadata.cmap.unicode.codeMap[$[Z].charCodeAt(0)]),p||$[Z].charCodeAt(0)<256&&X[z].metadata.hasOwnProperty("Unicode")?re+=$[Z]:re+="";var qe="";return parseInt(z.slice(1))<14||"WinAnsiEncoding"===Ne?qe=O(re,z).split("").map(function($e){return $e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Ne&&(qe=r(re,X[z])),F.isHex=!0,{text:qe,x:g,y:D,options:k,mutex:F}};i.events.push(["postProcessText",function(c){var p=c.text||"",m=[],g={text:p,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(p)){var D=0;for(D=0;D<p.length;D+=1)Array.isArray(p[D])&&3===p[D].length?m.push([d(Object.assign({},g,{text:p[D][0]})).text,p[D][1],p[D][2]]):m.push(d(Object.assign({},g,{text:p[D]})).text);c.text=m}else c.text=d(Object.assign({},g,{text:p})).text}])}(Jt),
/**
       * @license
       * jsPDF virtual FileSystem functionality
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(o){var i=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};o.existsFileInVFS=function(r){return i.call(this),void 0!==this.internal.vFS[r]},o.addFileToVFS=function(r,s){return i.call(this),this.internal.vFS[r]=s,this},o.getFileFromVFS=function(r){return i.call(this),void 0!==this.internal.vFS[r]?this.internal.vFS[r]:null}}(Jt.API),
/**
       * @license
       * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
       * MIT License
       */
function(o){o.__bidiEngine__=o.prototype.__bidiEngine__=function(s){var d,c,p,m,g,D,k,F=i,O=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],X={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},z={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},re=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Z=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,Ne=0;this.__bidiEngine__={};var qe=function(W){var H=W.charCodeAt(),Ae=H>>8,be=z[Ae];return void 0!==be?F[256*be+(255&H)]:252===Ae||253===Ae?"AL":Z.test(Ae)?"L":8===Ae?"R":"N"},$e=function(W){for(var H,Ae=0;Ae<W.length;Ae++){if("L"===(H=qe(W.charAt(Ae))))return!1;if("R"===H)return!0}return!1},vt=function(W,H,Ae,be){var et,Je,ot,Ve,dt=H[be];switch(dt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(dt="AN");break;case"AL":$=!0,dt="R";break;case"WS":case"BN":dt="N";break;case"CS":be<1||be+1>=H.length||"EN"!==(et=Ae[be-1])&&"AN"!==et||"EN"!==(Je=H[be+1])&&"AN"!==Je?dt="N":$&&(Je="AN"),dt=Je===et?Je:"N";break;case"ES":dt="EN"===(et=be>0?Ae[be-1]:"B")&&be+1<H.length&&"EN"===H[be+1]?"EN":"N";break;case"ET":if(be>0&&"EN"===Ae[be-1]){dt="EN";break}if($){dt="N";break}for(ot=be+1,Ve=H.length;ot<Ve&&"ET"===H[ot];)ot++;dt=ot<Ve&&"EN"===H[ot]?"EN":"N";break;case"NSM":if(p&&!m){for(Ve=H.length,ot=be+1;ot<Ve&&"NSM"===H[ot];)ot++;if(ot<Ve){var st=W[be];if(et=H[ot],(st>=1425&&st<=2303||64286===st)&&("R"===et||"AL"===et)){dt="R";break}}}dt=be<1||"B"===(et=H[be-1])?"N":Ae[be-1];break;case"B":$=!1,d=!0,dt=Ne;break;case"S":c=!0,dt="N"}return dt},ze=function(W,H,Ae){var be=W.split("");return Ae&&ve(be,Ae,{hiLevel:Ne}),be.reverse(),H&&H.reverse(),be.join("")},ve=function(W,H,Ae){var be,et,Je,ot,Ve,dt=-1,st=W.length,Ft=0,P=[],te=Ne?y:O,pe=[];for($=!1,d=!1,c=!1,et=0;et<st;et++)pe[et]=qe(W[et]);for(Je=0;Je<st;Je++){if(Ve=Ft,P[Je]=vt(W,pe,P,Je),be=240&(Ft=te[Ve][X[P[Je]]]),H[Je]=ot=te[Ft&=15][5],be>0)if(16===be){for(et=dt;et<Je;et++)H[et]=1;dt=-1}else dt=-1;if(te[Ft][6])-1===dt&&(dt=Je);else if(dt>-1){for(et=dt;et<Je;et++)H[et]=ot;dt=-1}"B"===pe[Je]&&(H[Je]=0),Ae.hiLevel|=ot}c&&function(ke,Re,He){for(var Ge=0;Ge<He;Ge++)if("S"===ke[Ge]){Re[Ge]=Ne;for(var Qe=Ge-1;Qe>=0&&"WS"===ke[Qe];Qe--)Re[Qe]=Ne}}(pe,H,st)},ct=function(W,H,Ae,be,et){if(!(et.hiLevel<W)){if(1===W&&1===Ne&&!d)return H.reverse(),void(Ae&&Ae.reverse());for(var Je,ot,Ve,dt,st=H.length,Ft=0;Ft<st;){if(be[Ft]>=W){for(Ve=Ft+1;Ve<st&&be[Ve]>=W;)Ve++;for(dt=Ft,ot=Ve-1;dt<ot;dt++,ot--)Je=H[dt],H[dt]=H[ot],H[ot]=Je,Ae&&(Je=Ae[dt],Ae[dt]=Ae[ot],Ae[ot]=Je);Ft=Ve}Ft++}}},lt=function(W,H,Ae){var be=W.split(""),et={hiLevel:Ne};return Ae||(Ae=[]),ve(be,Ae,et),function(Je,ot,Ve){if(0!==Ve.hiLevel&&k)for(var dt,st=0;st<Je.length;st++)1===ot[st]&&(dt=re.indexOf(Je[st]))>=0&&(Je[st]=re[dt+1])}(be,Ae,et),ct(2,be,H,Ae,et),ct(1,be,H,Ae,et),be.join("")};return this.__bidiEngine__.doBidiReorder=function(W,H,Ae){if(function(et,Je){if(Je)for(var ot=0;ot<et.length;ot++)Je[ot]=ot;void 0===m&&(m=$e(et)),void 0===D&&(D=$e(et))}(W,H),p||!g||D)if(p&&g&&m^D)Ne=m?1:0,W=ze(W,H,Ae);else if(!p&&g&&D)Ne=m?1:0,W=lt(W,H,Ae),W=ze(W,H);else if(!p||m||g||D){if(p&&!g&&m^D)W=ze(W,H),m?(Ne=0,W=lt(W,H,Ae)):(Ne=1,W=lt(W,H,Ae),W=ze(W,H));else if(p&&m&&!g&&D)Ne=1,W=lt(W,H,Ae),W=ze(W,H);else if(!p&&!g&&m^D){var be=k;m?(Ne=1,W=lt(W,H,Ae),Ne=0,k=!1,W=lt(W,H,Ae),k=be):(Ne=0,W=lt(W,H,Ae),W=ze(W,H),Ne=1,k=!1,W=lt(W,H,Ae),k=be,W=ze(W,H))}}else Ne=0,W=lt(W,H,Ae);else Ne=m?1:0,W=lt(W,H,Ae);return W},this.__bidiEngine__.setOptions=function(W){W&&(p=W.isInputVisual,g=W.isOutputVisual,m=W.isInputRtl,D=W.isOutputRtl,k=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new o.__bidiEngine__({isInputVisual:!0});o.API.events.push(["postProcessText",function(s){var d=s.text,c=s.options||{},p=[];if(c.isInputVisual="boolean"!=typeof c.isInputVisual||c.isInputVisual,r.setOptions(c),"[object Array]"===Object.prototype.toString.call(d)){var m=0;for(p=[],m=0;m<d.length;m+=1)"[object Array]"===Object.prototype.toString.call(d[m])?p.push([r.doBidiReorder(d[m][0]),d[m][1],d[m][2]]):p.push([r.doBidiReorder(d[m])]);s.text=p}else s.text=r.doBidiReorder(d);r.setOptions({isInputVisual:!0})}])}(Jt),Jt.API.TTFFont=function(){function o(i){var r;if(this.rawData=i,r=this.contents=new Ta(i),this.contents.pos=4,"ttcf"===r.readString(4))throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Dc(this),this.registerTTF()}return o.open=function(i){return new o(i)},o.prototype.parse=function(){return this.directory=new lc(this.contents),this.head=new dc(this),this.name=new mc(this),this.cmap=new nl(this),this.toUnicode={},this.hhea=new hc(this),this.maxp=new gc(this),this.hmtx=new vc(this),this.post=new pc(this),this.os2=new uc(this),this.loca=new wc(this),this.glyf=new _c(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},o.prototype.registerTTF=function(){var r,s,d,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var p,m,g,D;for(D=[],p=0,m=(g=this.bbox).length;p<m;p++)D.push(Math.round(g[p]*this.scaleFactor));return D}.call(this),this.stemV=0,this.post.exists?(s=255&(d=this.post.italic_angle),32768&(r=d>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(c=this.familyClass)||2===c||3===c||4===c||5===c||7===c,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},o.prototype.characterToGlyph=function(i){var r;return(null!=(r=this.cmap.unicode)?r.codeMap[i]:void 0)||0},o.prototype.widthOfGlyph=function(i){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*r},o.prototype.widthOfString=function(i,r,s){var d,c,p,m;for(p=0,c=0,m=(i=""+i).length;0<=m?c<m:c>m;c=0<=m?++c:--c)d=i.charCodeAt(c),p+=this.widthOfGlyph(this.characterToGlyph(d))+s*(1e3/r)||0;return p*(r/1e3)},o.prototype.lineHeight=function(i,r){return null==r&&(r=!1),(this.ascender+(r?this.lineGap:0)-this.decender)/1e3*i},o}();var On,Ta=function(){function o(i){this.data=i??[],this.pos=0,this.length=this.data.length}return o.prototype.readByte=function(){return this.data[this.pos++]},o.prototype.writeByte=function(i){return this.data[this.pos++]=i},o.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},o.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},o.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},o.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},o.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},o.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},o.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},o.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},o.prototype.readString=function(i){var r,s;for(s=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},o.prototype.writeString=function(i){var r,s,d;for(d=[],r=0,s=i.length;0<=s?r<s:r>s;r=0<=s?++r:--r)d.push(this.writeByte(i.charCodeAt(r)));return d},o.prototype.readShort=function(){return this.readInt16()},o.prototype.writeShort=function(i){return this.writeInt16(i)},o.prototype.readLongLong=function(){var i,r,s,d,c,p,m,g;return i=this.readByte(),r=this.readByte(),s=this.readByte(),d=this.readByte(),c=this.readByte(),p=this.readByte(),m=this.readByte(),g=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^d)+16777216*(255^c)+65536*(255^p)+256*(255^m)+(255^g)+1):72057594037927940*i+281474976710656*r+1099511627776*s+4294967296*d+16777216*c+65536*p+256*m+g},o.prototype.writeLongLong=function(i){var r,s;return r=Math.floor(i/4294967296),s=4294967295&i,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},o.prototype.readInt=function(){return this.readInt32()},o.prototype.writeInt=function(i){return this.writeInt32(i)},o.prototype.read=function(i){var r,s;for(r=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push(this.readByte());return r},o.prototype.write=function(i){var s,d,c;for(c=[],s=0,d=i.length;s<d;s++)c.push(this.writeByte(i[s]));return c},o}(),lc=function(){var o;function i(r){var s,d,c;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},d=0,c=this.tableCount;0<=c?d<c:d>c;d=0<=c?++d:--d)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return i.prototype.encode=function(r){var s,d,p,m,g,D,k,F,O,y,X,z;for(z in y=Object.keys(r).length,g=Math.log(2),F=16*Math.floor(Math.log(y)/g),p=Math.floor(F/g),k=16*y-F,(d=new Ta).writeInt(this.scalarType),d.writeShort(y),d.writeShort(F),d.writeShort(p),d.writeShort(k),D=d.pos+16*y,m=null,X=[],r)for(O=r[z],d.writeString(z),d.writeInt(o(O)),d.writeInt(D),d.writeInt(O.length),X=X.concat(O),"head"===z&&(m=D),D+=O.length;D%4;)X.push(0),D++;return d.write(X),s=2981146554-o(d.data),d.pos=m+8,d.writeUInt32(s),d.data},o=function(r){var s,d,c,p;for(r=al.call(r);r.length%4;)r.push(0);for(c=new Ta(r),d=0,s=0,p=r.length;s<p;s=s+=4)d+=c.readUInt32();return 4294967295&d},i}(),cc={}.hasOwnProperty,Xn=function(o,i){for(var r in i)cc.call(i,r)&&(o[r]=i[r]);function s(){this.constructor=o}return s.prototype=i.prototype,o.prototype=new s,o.__super__=i.prototype,o};On=function(){function o(i){var r;this.file=i,this.exists=!!(r=this.file.directory.tables[this.tag]),r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return o.prototype.parse=function(){},o.prototype.encode=function(){},o.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},o}();var dc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="head",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},i.prototype.encode=function(r){var s;return(s=new Ta).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},i}(),il=function(){function o(i,r){var s,d,c,p,m,g,D,k,F,O,y,X,z,re,Z,$,Ne;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=r+i.readInt(),F=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=i.readByte();break;case 4:for(y=i.readUInt16(),O=y/2,i.pos+=6,c=function(){var qe,$e;for($e=[],g=qe=0;0<=O?qe<O:qe>O;g=0<=O?++qe:--qe)$e.push(i.readUInt16());return $e}(),i.pos+=2,z=function(){var qe,$e;for($e=[],g=qe=0;0<=O?qe<O:qe>O;g=0<=O?++qe:--qe)$e.push(i.readUInt16());return $e}(),D=function(){var qe,$e;for($e=[],g=qe=0;0<=O?qe<O:qe>O;g=0<=O?++qe:--qe)$e.push(i.readUInt16());return $e}(),k=function(){var qe,$e;for($e=[],g=qe=0;0<=O?qe<O:qe>O;g=0<=O?++qe:--qe)$e.push(i.readUInt16());return $e}(),d=(this.length-i.pos+this.offset)/2,m=function(){var qe,$e;for($e=[],g=qe=0;0<=d?qe<d:qe>d;g=0<=d?++qe:--qe)$e.push(i.readUInt16());return $e}(),g=Z=0,Ne=c.length;Z<Ne;g=++Z)for(re=c[g],s=$=X=z[g];X<=re?$<=re:$>=re;s=X<=re?++$:--$)0===k[g]?p=s+D[g]:0!==(p=m[k[g]/2+(s-X)-(O-g)]||0)&&(p+=D[g]),this.codeMap[s]=65535&p}i.pos=F}return o.encode=function(i,r){var s,d,c,p,m,g,D,k,F,O,y,X,z,re,Z,$,Ne,$e,vt,ze,ve,ct,lt,W,H,Ae,be,et,Je,ot,Ve,dt,st,Ft,P,te,pe,ke,Re,He,Ge,Qe,At,Ct,jt;switch(be=new Ta,p=Object.keys(i).sort(function(Zt,ti){return Zt-ti}),r){case"macroman":for(z=0,re=function(){var Zt=[];for(X=0;X<256;++X)Zt.push(0);return Zt}(),$={0:0},c={},et=0,dt=p.length;et<dt;et++)null==$[Qe=i[d=p[et]]]&&($[Qe]=++z),c[d]={old:i[d],new:$[i[d]]},re[d]=$[i[d]];return be.writeUInt16(1),be.writeUInt16(0),be.writeUInt32(12),be.writeUInt16(0),be.writeUInt16(262),be.writeUInt16(0),be.write(re),{charMap:c,subtable:be.data,maxGlyphID:z+1};case"unicode":for(H=[],F=[],Ne=0,$={},s={},Z=D=null,Je=0,st=p.length;Je<st;Je++)null==$[$e=i[d=p[Je]]]&&($[$e]=++Ne),s[d]={old:$e,new:$[$e]},m=$[$e]-d,null!=Z&&m===D||(Z&&F.push(Z),H.push(d),D=m),Z=d;for(Z&&F.push(Z),F.push(65535),H.push(65535),lt=2*(ct=H.length),ve=2*Math.pow(Math.log(ct)/Math.LN2,2),O=Math.log(ve/2)/Math.LN2,ze=2*ct-ve,g=[],vt=[],y=[],X=ot=0,Ft=H.length;ot<Ft;X=++ot){if(k=F[X],65535===(W=H[X])){g.push(0),vt.push(0);break}if(W-(Ae=s[W].new)>=32768)for(g.push(0),vt.push(2*(y.length+ct-X)),d=Ve=W;W<=k?Ve<=k:Ve>=k;d=W<=k?++Ve:--Ve)y.push(s[d].new);else g.push(Ae-W),vt.push(0)}for(be.writeUInt16(3),be.writeUInt16(1),be.writeUInt32(12),be.writeUInt16(4),be.writeUInt16(16+8*ct+2*y.length),be.writeUInt16(0),be.writeUInt16(lt),be.writeUInt16(ve),be.writeUInt16(O),be.writeUInt16(ze),He=0,P=F.length;He<P;He++)be.writeUInt16(d=F[He]);for(be.writeUInt16(0),Ge=0,te=H.length;Ge<te;Ge++)be.writeUInt16(d=H[Ge]);for(At=0,pe=g.length;At<pe;At++)be.writeUInt16(m=g[At]);for(Ct=0,ke=vt.length;Ct<ke;Ct++)be.writeUInt16(vt[Ct]);for(jt=0,Re=y.length;jt<Re;jt++)be.writeUInt16(z=y[jt]);return{charMap:s,subtable:be.data,maxGlyphID:Ne+1}}},o}(),nl=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="cmap",i.prototype.parse=function(r){var s,d,c;for(r.pos=this.offset,this.version=r.readUInt16(),c=r.readUInt16(),this.tables=[],this.unicode=null,d=0;0<=c?d<c:d>c;d=0<=c?++d:--d)s=new il(r,this.offset),this.tables.push(s),s.isUnicode&&null==this.unicode&&(this.unicode=s);return!0},i.encode=function(r,s){var d,c;return null==s&&(s="macroman"),d=il.encode(r,s),(c=new Ta).writeUInt16(0),c.writeUInt16(1),d.table=c.data.concat(d.subtable),d},i}(),hc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="hhea",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},i}(),uc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="OS/2",i.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var s,d;for(d=[],s=0;s<10;++s)d.push(r.readByte());return d}(),this.charRange=function(){var s,d;for(d=[],s=0;s<4;++s)d.push(r.readInt());return d}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var s,d;for(d=[],s=0;s<2;s=++s)d.push(r.readInt());return d}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},i}(),pc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="post",i.prototype.parse=function(r){var s,d,c;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var p;for(d=r.readUInt16(),this.glyphNameIndex=[],p=0;0<=d?p<d:p>d;p=0<=d?++p:--p)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],c=[];r.pos<this.offset+this.length;)s=r.readByte(),c.push(this.names.push(r.readString(s)));return c;case 151552:return d=r.readUInt16(),this.offsets=r.read(d);case 262144:return this.map=function(){var m,g,D;for(D=[],p=m=0,g=this.file.maxp.numGlyphs;0<=g?m<g:m>g;p=0<=g?++m:--m)D.push(r.readUInt32());return D}.call(this)}},i}(),fc=function(o,i){this.raw=o,this.length=o.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},mc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="name",i.prototype.parse=function(r){var s,d,c,p,m,g,D,k,F,O,y;for(r.pos=this.offset,r.readShort(),s=r.readShort(),g=r.readShort(),d=[],p=0;0<=s?p<s:p>s;p=0<=s?++p:--p)d.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+g+r.readShort()});for(D={},p=F=0,O=d.length;F<O;p=++F)r.pos=(c=d[p]).offset,k=r.readString(c.length),m=new fc(k,c),null==D[y=c.nameID]&&(D[y]=[]),D[c.nameID].push(m);this.strings=D,this.copyright=D[0],this.fontFamily=D[1],this.fontSubfamily=D[2],this.uniqueSubfamily=D[3],this.fontName=D[4],this.version=D[5];try{this.postscriptName=D[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=D[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=D[7],this.manufacturer=D[8],this.designer=D[9],this.description=D[10],this.vendorUrl=D[11],this.designerUrl=D[12],this.license=D[13],this.licenseUrl=D[14],this.preferredFamily=D[15],this.preferredSubfamily=D[17],this.compatibleFull=D[18],this.sampleText=D[19]},i}(),gc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="maxp",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},i}(),vc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="hmtx",i.prototype.parse=function(r){var s,d,c,m,g,D;for(r.pos=this.offset,this.metrics=[],s=0,g=this.file.hhea.numberOfMetrics;0<=g?s<g:s>g;s=0<=g?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var k,F;for(F=[],s=k=0;0<=c?k<c:k>c;s=0<=c?++k:--k)F.push(r.readInt16());return F}(),this.widths=function(){var k,F,O,y;for(y=[],k=0,F=(O=this.metrics).length;k<F;k++)y.push(O[k].advance);return y}.call(this),d=this.widths[this.widths.length-1],D=[],s=m=0;0<=c?m<c:m>c;s=0<=c?++m:--m)D.push(this.widths.push(d));return D},i.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},i}(),al=[].slice,_c=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(r){var s,d,c,p,m,g,D,k,F,O;return r in this.cache?this.cache[r]:(s=this.file.contents,d=(p=this.file.loca).indexOf(r),0===(c=p.lengthOf(r))?this.cache[r]=null:(s.pos=this.offset+d,m=(g=new Ta(s.read(c))).readShort(),k=g.readShort(),O=g.readShort(),D=g.readShort(),F=g.readShort(),this.cache[r]=-1===m?new yc(g,k,O,D,F):new bc(g,m,k,O,D,F),this.cache[r]))},i.prototype.encode=function(r,s,d){var c,p,m,g,D;for(m=[],p=[],g=0,D=s.length;g<D;g++)c=r[s[g]],p.push(m.length),c&&(m=m.concat(c.encode(d)));return p.push(m.length),{table:m,offsets:p}},i}(),bc=function(){function o(i,r,s,d,c,p){this.raw=i,this.numberOfContours=r,this.xMin=s,this.yMin=d,this.xMax=c,this.yMax=p,this.compound=!1}return o.prototype.encode=function(){return this.raw.data},o}(),yc=function(){function o(i,r,s,d,c){var p,m;for(this.raw=i,this.xMin=r,this.yMin=s,this.xMax=d,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],p=this.raw;m=p.readShort(),this.glyphOffsets.push(p.pos),this.glyphIDs.push(p.readUInt16()),32&m;)p.pos+=1&m?4:2,128&m?p.pos+=8:64&m?p.pos+=4:8&m&&(p.pos+=2)}return o.prototype.encode=function(){var i,r,s;for(r=new Ta(al.call(this.raw.data)),i=0,s=this.glyphIDs.length;i<s;++i)r.pos=this.glyphOffsets[i];return r.data},o}(),wc=function(o){function i(){return i.__super__.constructor.apply(this,arguments)}return Xn(i,On),i.prototype.tag="loca",i.prototype.parse=function(r){var d;return r.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var c,p;for(p=[],d=0,c=this.length;d<c;d+=2)p.push(2*r.readUInt16());return p}.call(this):function(){var c,p;for(p=[],d=0,c=this.length;d<c;d+=4)p.push(r.readUInt32());return p}.call(this)},i.prototype.indexOf=function(r){return this.offsets[r]},i.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},i.prototype.encode=function(r,s){for(var d=new Uint32Array(this.offsets.length),c=0,p=0,m=0;m<d.length;++m)if(d[m]=c,p<s.length&&s[p]==m){++p,d[m]=c;var D=this.offsets[m+1]-this.offsets[m];D>0&&(c+=D)}for(var k=new Array(4*d.length),F=0;F<d.length;++F)k[4*F+3]=255&d[F],k[4*F+2]=(65280&d[F])>>8,k[4*F+1]=(16711680&d[F])>>16,k[4*F]=(4278190080&d[F])>>24;return k},i}(),Dc=function(){function o(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return o.prototype.generateCmap=function(){var i,r,d,c;for(r in d=this.font.cmap.tables[0].codeMap,i={},c=this.subset)i[r]=d[c[r]];return i},o.prototype.glyphsFor=function(i){var r,s,d,c,p,m,g;for(d={},p=0,m=i.length;p<m;p++)d[c=i[p]]=this.font.glyf.glyphFor(c);for(c in r=[],d)null!=(s=d[c])&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(c in g=this.glyphsFor(r))d[c]=s=g[c];return d},o.prototype.encode=function(i,r){var s,d,c,p,g,D,k,F,O,y,X,z,re,Z;for(d in s=nl.encode(this.generateCmap(),"unicode"),p=this.glyphsFor(i),y={0:0},Z=s.charMap)y[(g=Z[d]).old]=g.new;for(X in O=s.maxGlyphID,p)X in y||(y[X]=O++);return k=function($){var Ne,qe;for(Ne in qe={},$)qe[$[Ne]]=Ne;return qe}(y),F=Object.keys(k).sort(function($,Ne){return $-Ne}),z=function(){var $,Ne,qe;for(qe=[],$=0,Ne=F.length;$<Ne;$++)qe.push(k[F[$]]);return qe}(),c=this.font.glyf.encode(p,z,y),D=this.font.loca.encode(c.offsets,z),re={cmap:this.font.cmap.raw(),glyf:c.table,loca:D,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(re["OS/2"]=this.font.os2.raw()),this.font.directory.encode(re)},o}();Jt.API.PDFObject=function(){var o;function i(){}return o=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},i.convert=function(r){var d,c;if(Array.isArray(r))return"["+function(){var m,g,D;for(D=[],m=0,g=r.length;m<g;m++)D.push(i.convert(r[m]));return D}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+o(r.getUTCFullYear(),4)+o(r.getUTCMonth(),2)+o(r.getUTCDate(),2)+o(r.getUTCHours(),2)+o(r.getUTCMinutes(),2)+o(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(d in c=["<<"],r)c.push("/"+d+" "+i.convert(r[d]));return c.push(">>"),c.join("\n")}return""+r},i}();const xc=Jt},5861:(La,Hn,Pt)=>{"use strict";function It(we,ce,e,ye,J,he,me){try{var K=we[he](me),ae=K.value}catch(Ie){return void e(Ie)}K.done?ce(ae):Promise.resolve(ae).then(ye,J)}function mn(we){return function(){var ce=this,e=arguments;return new Promise(function(ye,J){var he=we.apply(ce,e);function me(ae){It(he,ye,J,me,K,"next",ae)}function K(ae){It(he,ye,J,me,K,"throw",ae)}me(void 0)})}}Pt.d(Hn,{Z:()=>mn})},1002:(La,Hn,Pt)=>{"use strict";function It(mn){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(mn)}Pt.d(Hn,{Z:()=>It})}}]);